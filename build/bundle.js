(()=>{"use strict";var e={n:t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return e.d(s,{a:s}),s},d:(t,s)=>{for(var a in s)e.o(s,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:s[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=Phaser;var s=e.n(t);const a=new class{constructor(){this.connectedCount=1,this.isConnected=!0,this.lastCheckTime=Date.now(),this.checkInterval=2e3,this.listeners=[],this.sessionId=this.generateSessionId(),this.intervalId=null}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async checkConnection(){try{const e=await fetch("/api/connected",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.sessionId})});if(e.ok){const t=await e.json();return this.connectedCount=t.connected,this.isConnected=!0,this.lastCheckTime=Date.now(),this.notifyListeners({connected:!0,count:this.connectedCount}),{connected:this.connectedCount,success:!0}}return this.handleDisconnection(),{connected:0,success:!1}}catch(e){return console.error("Error checking connection:",e),this.handleDisconnection(),{connected:0,success:!1}}}handleDisconnection(){this.isConnected=!1,this.connectedCount=0,this.notifyListeners({connected:!1,count:0})}addListener(e){this.listeners.push(e)}removeListener(e){const t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}notifyListeners(e){this.listeners.forEach(t=>t(e))}getStatus(){return{isConnected:this.isConnected,connectedCount:this.connectedCount,lastCheckTime:this.lastCheckTime}}startPolling(){this.intervalId||(this.checkConnection(),this.intervalId=setInterval(()=>{this.checkConnection()},this.checkInterval))}stopPolling(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}};class i extends s().Scene{constructor(){super("MenuScene")}preload(){this.load.audio("musica_fondo","assets/Sonido/musicaMenu.mp3"),this.load.image("fondoMenu","assets/Fondos/fondo.png"),this.load.image("botonJugar","assets/Botones/empezar.png"),this.load.image("botonAjustes","assets/Botones/ajustes.png"),this.load.image("botonControles","assets/Botones/controles.png"),this.load.image("botonCreditos","assets/Botones/creditos.png"),this.load.image("quokka","assets/Quokka/quokka_front_view.png"),this.load.image("narval","assets/Narval/narval_top_view.png"),this.load.image("logo","assets/Items/logo.png")}create(){const e=this.plugins.get("GlobalSettings");this.plugins.get("Brightness").applyToScene(this),this.firstClickDone=!1,this.musica=this.sound.add("musica_fondo",{volume:e.getMusicVolume(),loop:!0}),this.musica.play(),this.events.on("shutdown",()=>{this.musica&&(this.musica.stop(),this.musica.destroy())}),this.events.on("resume",()=>{const t=e.getMusicVolume();this.musica&&this.musica.setVolume(t)}),this.add.image(400,300,"fondoMenu").setOrigin(.5),this.add.text(400,50,"Biocleaner",{fontFamily:"aaaaa",fontSize:"64px",color:"#e1e674"}).setOrigin(.5),this.add.text(400,125,"La carrera de Quokka VS Narval",{fontFamily:"aaaaa",fontSize:"18px",color:"#e1e674"}).setOrigin(.5),this.add.image(350,200,"botonJugar").setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.scene.start("GameScene")}),this.add.image(350,400,"botonCreditos").setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.scene.start("Creditos")}),this.add.image(450,300,"botonAjustes").setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.scene.start("Ajustes",{previousScene:"MenuScene"})}),this.add.image(450,500,"botonControles").setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.scene.start("Controles",{previousScene:"MenuScene"})}),this.add.image(10,550,"quokka").setOrigin(.5).setDisplaySize(300,400),this.add.image(790,450,"narval").setOrigin(.5).setDisplaySize(300,400),this.add.image(700,200,"logo"),this.connectionText=this.add.text(400,570,"Servidor: Comprobando...",{fontFamily:"aaaaa",fontSize:"12px",color:"#ffff00"}).setOrigin(.5),this.connectionListener=e=>{this.updateConnectionDisplay(e)},a.addListener(this.connectionListener)}shutdown(){this.connectionListener&&a.removeListener(this.connectionListener)}update(){this.plugins.get("Brightness").updateOverlay(this)}updateConnectionDisplay(e){if(this.connectionText&&this.scene&&this.scene.isActive("MenuScene"))try{e.connected?(this.connectionText.setText(`Servidor: ${e.count} usuario(s) conectado(s)`),this.connectionText.setFontFamily("aaaaa"),this.connectionText.setColor("#00ff00")):(this.connectionText.setText("Servidor: Desconectado"),this.connectionText.setFontFamily("aaaaa"),this.connectionText.setColor("#ff0000"))}catch(e){console.error("[MenuScene] Error updating connection display:",e)}}}class o{constructor(e,t,s,a){this.id=t,this.scene=e,this.score=0,this.baseSpeed=300,this.lastDirection=null,this.isAnimating=!1;const i="player1"===t?"quokkaFrente":"narvalFrente";this.sprite=this.scene.physics.add.sprite(s,a,i,0),this.sprite.setScale(.5),this.updateHitbox(),this.sprite.setCollideWorldBounds(!0),this.sprite.body.allowGravity=!1}updateHitbox(){this.sprite.body.setSize(this.sprite.width,this.sprite.height,!0)}setSprite(e,t=!0){const s=this.scene.powerUpActive&&this.scene.powerUpActive[this.id];if(this.scene.stickyActive&&this.scene.stickyActive[this.id]){const e="player1"===this.id?"pringueQuokka":"pringueNarval";return this.sprite.texture.key!==e&&(this.sprite.setTexture(e),this.sprite.anims.stop()),this.baseSpeed=0,void(this.isAnimating=!1)}let a;this.baseSpeed=300,a="player1"===this.id?s?"up"===e?"quokka_walk_backP":"down"===e?"quokka_walk_frontP":"left"===e?"quokka_walk_leftP":"right"===e?"quokka_walk_rightP":"quokka_walk_frontP":"up"===e?"quokka_walk_back":"down"===e?"quokka_walk_front":"left"===e?"quokka_walk_left":"right"===e?"quokka_walk_right":"quokka_walk_front":s?"up"===e?"narval_walk_backP":"down"===e?"narval_walk_frontP":"left"===e?"narval_walk_leftP":"right"===e?"narval_walk_rightP":"narval_walk_frontP":"up"===e?"narval_walk_back":"down"===e?"narval_walk_front":"left"===e?"narval_walk_left":"right"===e?"narval_walk_right":"narval_walk_front",t?this.lastDirection===e&&this.isAnimating||(this.sprite.play(a,!0),this.isAnimating=!0,this.lastDirection=e):this.isAnimating&&(this.sprite.anims.stop(),this.sprite.setFrame(0),this.isAnimating=!1)}}class r extends s().Scene{constructor(){super("GameScene")}preload(){this.load.image("fondo","assets/Fondos/fondo_juego.png"),this.load.image("basura","assets/Items/basura.png"),this.load.image("vertido","assets/Items/basura_tierra1.png"),this.load.image("vertido1","assets/Items/residuo_toxico_agua.png"),this.load.image("pringue","assets/Items/cubo.png"),this.load.image("powerQuoka","assets/Items/bayas.png"),this.load.image("powerNarval","assets/Items/pez.png"),this.load.image("toxicAgua","assets/Items/residuo_toxico_agua.png"),this.load.image("toxicoTierra","assets/Items/basura_tierra1.png"),this.load.spritesheet("quokkaFrente","assets/Quokka/quokka_front_view_animation.png",{frameWidth:256,frameHeight:256}),this.load.spritesheet("quokkaAtras","assets/Quokka/quokka_back_view_animation.png",{frameWidth:256,frameHeight:256}),this.load.spritesheet("quokkaIzquierda","assets/Quokka/quokka_side2_view-animation.png",{frameWidth:256,frameHeight:256}),this.load.spritesheet("quokkaDerecha","assets/Quokka/quokka_side1_view-animation.png",{frameWidth:256,frameHeight:256}),this.load.spritesheet("quokkaFrenteP","assets/Quokka/quokka_front_r.png",{frameWidth:256,frameHeight:256}),this.load.spritesheet("quokkaAtrasP","assets/Quokka/quokka_back_r.png",{frameWidth:256,frameHeight:256}),this.load.spritesheet("quokkaIzquierdaP","assets/Quokka/quokka_izqui_r.png",{frameWidth:256,frameHeight:256}),this.load.spritesheet("quokkaDerechaP","assets/Quokka/quokka_derech_r.png",{frameWidth:256,frameHeight:256}),this.load.image("pringueQuokka","assets/Quokka/basura_tierra3.png"),this.load.spritesheet("narvalFrente","assets/Narval/narval_down_view-animation.png",{frameWidth:256,frameHeight:256}),this.load.spritesheet("narvalAtras","assets/Narval/narval_top_view-animation.png",{frameWidth:256,frameHeight:256}),this.load.spritesheet("narvalIzquierda","assets/Narval/narval_side2_view-animation.png",{frameWidth:256,frameHeight:256}),this.load.spritesheet("narvalDerecha","assets/Narval/narval_side1_view-animation.png",{frameWidth:256,frameHeight:256}),this.load.spritesheet("narvalFrenteP","assets/Narval/narval_down_r.png",{frameWidth:256,frameHeight:256}),this.load.spritesheet("narvalAtrasP","assets/Narval/narval_arriba_r.png",{frameWidth:256,frameHeight:256}),this.load.spritesheet("narvalIzquierdaP","assets/Narval/narval_izqui_r.png",{frameWidth:256,frameHeight:256}),this.load.spritesheet("narvalDerechaP","assets/Narval/narval_derech_r.png",{frameWidth:256,frameHeight:256}),this.load.image("pringueNarval","assets/Narval/residuo_toxico_aguaS.png"),this.load.audio("recogerBasura","assets/Sonido/recogerBasura.mp3"),this.load.audio("pleugh1","assets/Sonido/pleugh.mp3"),this.load.audio("pleugh2","assets/Sonido/pluh.mp3"),this.load.audio("powerUpSound","assets/Sonido/powerUp.mp3"),this.load.audio("finTemporizador","assets/Sonido/temp2.mp3"),this.load.audio("gaviota","assets/Sonido/gaviota.mp3"),this.load.audio("musica_juego","assets/Sonido/Audio Juego.m4a")}init(){this.players=new Map,this.inputsMapping=[],this.isPaused=!1,this.escWasDown=!1,this.moving=!1,this.spillGroup=null,this.spillSpawnTimer=null,this.trashGroup=null,this.trashSpawnTimer=null,this.invertGroup=null,this.stickySpawnTimer={player1:null,player2:null},this.stickyGroup=null,this.stickyActive={player1:!1,player2:!1},this.powerUpActive={player1:!1,player2:!1},this.powerUpTimers={player1:null,player2:null},this.invertControls={player1:!1,player2:!1},this.powerUpGroup=null}create(){this.add.image(400,300,"fondo").setOrigin(.5),this.plugins.get("Brightness").applyToScene(this),this.createAnimations(),this.scoreQuoka=this.add.text(100,30,"0",{fontFamily:"aaaaa",fontSize:"38px",color:"#d9df5dff",fixedWidth:120,align:"left"}).setOrigin(0,.5),this.scoreNarval=this.add.text(700,30,"0",{fontFamily:"aaaaa",fontSize:"38px",color:"#d9df5dff",fixedWidth:120,align:"right"}).setOrigin(1,.5),this.createBounds(),this.setUpPLayers(),this.escKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.ESC),this.timeLeft=120,this.timerText=this.add.text(278,17,"Tiempo: 120",{fontFamily:"aaaaa",fontSize:"24px",color:"#9da23cff"}),this.timerEvent=this.time.addEvent({delay:1e3,callback:this.updateTimer,callbackScope:this,loop:!0}),this.stickyGroup=this.physics.add.group(),this.stickySpawnTimer=this.time.addEvent({delay:1e4,callback:this.spawnSticky,callbackScope:this,loop:!0}),this.trashGroup=this.physics.add.group(),this.trashSpawnTimer=this.time.addEvent({delay:700,callback:this.spawnTrash,callbackScope:this,loop:!0}),this.powerUpGroup=this.physics.add.group(),this.time.addEvent({delay:5e3,callback:this.trySpawnPowerUp,callbackScope:this,loop:!0}),this.spillGroup=this.physics.add.group(),this.spillSpawnTimer=this.time.addEvent({delay:5e3,callback:this.spawnSpill,callbackScope:this,loop:!0}),this.invertGroup=this.physics.add.group(),this.time.addEvent({delay:5e3,callback:this.trySpawnInverted,callbackScope:this,loop:!0}),this.seagullSoundTimer=this.time.addEvent({delay:15e3,callback:this.tryPlaySound,callbackScope:this,loop:!0});const e=this.plugins.get("GlobalSettings"),t=e.getSfxVolume();this.recogerBasura=this.sound.add("recogerBasura",{volume:t,loop:!1}),this.pleugh1=this.sound.add("pleugh1",{volume:t,loop:!1}),this.pleugh2=this.sound.add("pleugh2",{volume:t,loop:!1}),this.powerUpSound=this.sound.add("powerUpSound",{volume:t,loop:!1}),this.tiempoMuerto=this.sound.add("finTemporizador",{volume:t,loop:!1}),this.gaviota=this.sound.add("gaviota",{volume:t/20,loop:!1}),this.events.on("resume",()=>{const e=this.plugins.get("GlobalSettings").getSfxVolume();this.recogerBasura.setVolume(e),this.pleugh1.setVolume(e),this.pleugh2.setVolume(e),this.powerUpSound.setVolume(e),this.tiempoMuerto.setVolume(e),this.gaviota.setVolume(e/20)}),this.musica=this.sound.add("musica_juego",{volume:e.getMusicVolume(),loop:!1}),this.musica.play(),this.events.on("resume",()=>{const e=this.plugins.get("GlobalSettings").getMusicVolume();this.sound.sounds.forEach(t=>{t.key.includes("musica")&&t.setVolume(e)})}),this.events.on("shutdown",()=>{this.musica&&(this.musica.stop(),this.musica.destroy())})}onConnectionLost(){this.scene.pause(),this.scene.launch("ConnectionLostScene",{previousScene:"GameScene"})}updateTimer(){this.timeLeft--,this.timerText.setText("Tiempo: "+this.timeLeft),this.timeLeft<=0&&(this.timerEvent.remove(!1),this.endGame())}createAnimations(){this.anims.create({key:"quokka_walk_front",frames:this.anims.generateFrameNumbers("quokkaFrente",{start:0,end:3}),frameRate:10,repeat:-1}),this.anims.create({key:"quokka_walk_back",frames:this.anims.generateFrameNumbers("quokkaAtras",{start:0,end:3}),frameRate:10,repeat:-1}),this.anims.create({key:"quokka_walk_left",frames:this.anims.generateFrameNumbers("quokkaIzquierda",{start:0,end:2}),frameRate:10,repeat:-1}),this.anims.create({key:"quokka_walk_right",frames:this.anims.generateFrameNumbers("quokkaDerecha",{start:0,end:2}),frameRate:10,repeat:-1}),this.anims.create({key:"quokka_walk_frontP",frames:this.anims.generateFrameNumbers("quokkaFrenteP",{start:0,end:3}),frameRate:10,repeat:-1}),this.anims.create({key:"quokka_walk_backP",frames:this.anims.generateFrameNumbers("quokkaAtrasP",{start:0,end:3}),frameRate:10,repeat:-1}),this.anims.create({key:"quokka_walk_leftP",frames:this.anims.generateFrameNumbers("quokkaIzquierdaP",{start:0,end:2}),frameRate:10,repeat:-1}),this.anims.create({key:"quokka_walk_rightP",frames:this.anims.generateFrameNumbers("quokkaDerechaP",{start:0,end:2}),frameRate:10,repeat:-1}),this.anims.create({key:"narval_walk_front",frames:this.anims.generateFrameNumbers("narvalFrente",{start:0,end:2}),frameRate:10,repeat:-1}),this.anims.create({key:"narval_walk_back",frames:this.anims.generateFrameNumbers("narvalAtras",{start:0,end:2}),frameRate:10,repeat:-1}),this.anims.create({key:"narval_walk_left",frames:this.anims.generateFrameNumbers("narvalIzquierda",{start:0,end:2}),frameRate:10,repeat:-1}),this.anims.create({key:"narval_walk_right",frames:this.anims.generateFrameNumbers("narvalDerecha",{start:0,end:2}),frameRate:10,repeat:-1}),this.anims.create({key:"narval_walk_frontP",frames:this.anims.generateFrameNumbers("narvalFrenteP",{start:0,end:2}),frameRate:10,repeat:-1}),this.anims.create({key:"narval_walk_backP",frames:this.anims.generateFrameNumbers("narvalAtrasP",{start:0,end:2}),frameRate:10,repeat:-1}),this.anims.create({key:"narval_walk_leftP",frames:this.anims.generateFrameNumbers("narvalIzquierdaP",{start:0,end:2}),frameRate:10,repeat:-1}),this.anims.create({key:"narval_walk_rightP",frames:this.anims.generateFrameNumbers("narvalDerechaP",{start:0,end:2}),frameRate:10,repeat:-1})}setUpPLayers(){const e=new o(this,"player1",50,300),t=new o(this,"player2",750,300);this.players.set("player1",e),this.players.set("player2",t),this.inputsMapping=[{playerId:"player1",upKey:"W",downKey:"S",leftKey:"A",rightKey:"D"},{playerId:"player2",upKey:"UP",downKey:"DOWN",leftKey:"LEFT",rightKey:"RIGHT"}],this.inputsMapping=this.inputsMapping.map(e=>({playerId:e.playerId,upKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.upKey]),downKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.downKey]),leftKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.rightKey])}))}tryPlaySound(){s().Math.Between(1,100)<=20&&this.gaviota.play()}overlapVar(e,t,s){return s.getChildren().some(s=>Math.abs(s.x-e)<40&&Math.abs(s.y-t)<40)}antiOverlap(e,t,a,i,o,r){let n,l,h=0;do{n=s().Math.Between(e,t),l=s().Math.Between(a,i);var p=this.overlapVar(n,l,this.trashGroup),d=this.overlapVar(n,l,this.stickyGroup),c=this.overlapVar(n,l,this.powerUpGroup),u=this.overlapVar(n,l,this.spillGroup),m=Math.abs(r.x-n)<60&&Math.abs(r.y-l)<60==1,g=Math.abs(o.x-n)<60&&Math.abs(o.y-l)<60==1;h++}while((p||d||c||u||m||g)&&h<4);return{x:n,y:l}}trySpawn(e,t){const a=this.players.get("player1").score,i=this.players.get("player2").score;let o;if(o=null,a<i-1?o=1:i<a-1?o=2:(e=10,o=0===s().Math.Between(0,1)?1:2),!t[o])return s().Math.Between(1,100)<=e?o:void 0}trySpawnSticky(){let e;e=this.trySpawn(50,this.stickyActive),null!=e&&this.spawnSticky()}trySpawnPowerUp(){let e;e=this.trySpawn(70,this.powerUpActive),null!=e&&this.spawnPowerUp(e)}trySpawnInverted(){let e=this.trySpawn(70,this.invertControls);null!=e&&this.spawnInverted(e)}spawn(e,t,s,a,i,o,r,n,l,h,p,d,c,u,m,g){let y,k,v;return 1===e?(({x:y,y:k}=this.antiOverlap(t,s,a,i,m,g)),v=this.physics.add.sprite(y,k,h)):(({x:y,y:k}=this.antiOverlap(o,r,n,l,m,g)),v=this.physics.add.sprite(y,k,p)),v.setDisplaySize(d,d),c.add(v),this.time.delayedCall(u,()=>{v.active&&v.destroy()}),v}spawnSticky(e){const t=this.players.get("player1").sprite,s=this.players.get("player2").sprite;let a=this.spawn(e,400,400,150,550,400,400,150,550,"pringue","pringue",40,this.stickyGroup,7e3,t,s);this.physics.add.overlap(t,a,()=>this.throwSticky(a,2,10)),this.physics.add.overlap(s,a,()=>this.throwSticky(a,1,10))}spawnTrash(){const e=s().Math.Between(1,2),t=this.players.get("player1").sprite,a=this.players.get("player2").sprite;let i=this.spawn(e,30,340,150,550,460,770,150,550,"basura","basura",40,this.trashGroup,7e3,t,a);this.physics.add.overlap(t,i,()=>this.collect(i,1,5)),this.physics.add.overlap(a,i,()=>this.collect(i,2,5))}spawnSpill(){const e=s().Math.Between(1,2),t=this.players.get("player1").sprite,a=this.players.get("player2").sprite;let i=this.spawn(e,30,340,150,550,460,770,150,550,"vertido","vertido1",80,this.spillGroup,7e3,t,a);this.physics.add.overlap(t,i,()=>this.collect(i,1,10)),this.physics.add.overlap(a,i,()=>this.collect(i,2,10))}spawnPowerUp(e){const t=this.players.get("player1").sprite,s=this.players.get("player2").sprite;let a=this.spawn(e,50,340,150,550,460,750,150,550,"powerQuoka","powerNarval",120,this.powerUpGroup,15e3,t,s);this.physics.add.overlap(t,a,()=>this.pickPowerUp(a,"player1")),this.physics.add.overlap(s,a,()=>this.pickPowerUp(a,"player2"))}spawnInverted(e){e||(e=s().Math.Between(1,2));const t=this.players.get("player1").sprite,a=this.players.get("player2").sprite;let i=this.spawn(e,50,340,150,550,460,750,150,550,"powerNarval","powerQuoka",120,this.invertGroup,15e3,t,a);this.physics.add.overlap(t,i,()=>this.pickInvertedControls(i,"player1")),this.physics.add.overlap(a,i,()=>this.pickInvertedControls(i,"player2"))}throwSticky(e,t,s){if(!e.active)return;this.pleugh2.play(),e.destroy();const a=1===t?this.players.get("player1"):this.players.get("player2"),i=1===t?"player1":"player2";this.stickyActive[i]=!0,a.score>=s&&(a.score-=s),this.powerUpActive[i]&&(this.powerUpActive[i]=!1,this.stickyActive[i]=!1),"player1"===i?this.scoreQuoka.setText(a.score):this.scoreNarval.setText(a.score),this.stickySpawnTimer[i]=this.time.delayedCall(2e3,()=>{this.stickyActive[i]=!1,this.players.get(i).setSprite("down")}),this.players.get(i).setSprite("down")}pickInvertedControls(e,t){if(!e.active)return;e.active=!1,e.destroy();const s="player1"===t?"player2":"player1";this.invertControls[s]=!0,this.pleugh1&&this.pleugh1.play(),this.time.delayedCall(6e3,()=>{this.invertControls[s]=!1})}collect(e,t,s){if(!e.active)return;this.recogerBasura.play(),e.destroy();const a=1===t?this.players.get("player1"):this.players.get("player2"),i=1===t?"player1":"player2",o=this.powerUpActive[i]?2:1;a.score+=s*o,"player1"===i?this.scoreQuoka.setText(a.score):this.scoreNarval.setText(a.score)}pickPowerUp(e,t){e.active&&(this.powerUpSound.play(),e.destroy(),this.powerUpActive[t]=!0,this.powerUpTimers[t]&&this.powerUpTimers[t].remove(!1),this.powerUpTimers[t]=this.time.delayedCall(1e4,()=>{this.powerUpActive[t]=!1,this.players.get(t).setSprite("down")}),this.players.get(t).setSprite("down"))}createBounds(){this.QuokaGoal=this.physics.add.sprite(0,300,null),this.QuokaGoal.setDisplaySize(10,600),this.QuokaGoal.body.setSize(10,600),this.QuokaGoal.setImmovable(!1),this.QuokaGoal.setVisible(!1),this.NarvalGoal=this.physics.add.sprite(800,300,null),this.NarvalGoal.setDisplaySize(10,600),this.NarvalGoal.body.setSize(10,600),this.NarvalGoal.setImmovable(!1),this.NarvalGoal.setVisible(!1)}getWinner(){return this.players.get("player1").score>this.players.get("player2").score?"player1":this.players.get("player2").score>this.players.get("player1").score?"player2":"draw"}endGame(){this.tiempoMuerto.play();const e=this.getWinner();this.players.forEach(e=>{e.sprite.setVelocity(0,0)}),this.physics.pause(),this.trashSpawnTimer&&this.trashSpawnTimer.remove(!1),this.trashGroup.clear(!0,!0),this.scene.start("GameOverScene",{winnerID:e})}setPauseState(e){this.isPaused=e,this.isPaused&&(this.musica&&this.musica.isPlaying&&this.musica.pause(),this.scene.launch("PauseScene",{originalScene:"GameScene"}),this.scene.pause())}togglePause(){const e=!this.isPaused;this.setPauseState(e)}resume(){this.isPaused=!1,this.musica&&this.musica.isPaused&&this.musica.resume()}update(){this.escKey.isDown&&this.togglePause(),this.inputsMapping.forEach(e=>{const t=this.players.get(e.playerId);let s=!1,a=null;const i=this.invertControls[e.playerId];e.upKeyObj.isDown?(t.sprite.setVelocityY(i?t.baseSpeed:-t.baseSpeed),t.sprite.setVelocityX(0),a=i?"down":"up",s=!0):e.downKeyObj.isDown?(t.sprite.setVelocityY(i?-t.baseSpeed:t.baseSpeed),t.sprite.setVelocityX(0),a=i?"up":"down",s=!0):e.leftKeyObj.isDown?(t.sprite.setVelocityX(i?t.baseSpeed:-t.baseSpeed),t.sprite.setVelocityY(0),a=i?"right":"left",s=!0):e.rightKeyObj.isDown?(t.sprite.setVelocityX(i?-t.baseSpeed:t.baseSpeed),t.sprite.setVelocityY(0),a=i?"left":"right",s=!0):(t.sprite.setVelocity(0,0),a=t.lastDirection||"down",s=!1),t.setSprite(a,s),"player1"===e.playerId&&(t.sprite.x<-2&&(t.sprite.x=-2),t.sprite.x>400&&(t.sprite.x=400),t.sprite.y<115&&(t.sprite.y=115),t.sprite.y>555&&(t.sprite.y=555)),"player2"===e.playerId&&(t.sprite.x<400&&(t.sprite.x=400),t.sprite.x>755&&(t.sprite.x=755),t.sprite.y<115&&(t.sprite.y=115),t.sprite.y>555&&(t.sprite.y=555))}),this.plugins.get("Brightness").updateOverlay(this)}}class n extends s().Scene{constructor(){super("PauseScene")}preload(){this.load.image("botonAjustes","assets/Botones/ajustes.png"),this.load.image("botonControles","assets/Botones/ajustes.png"),this.load.image("botonContinuar","assets/Botones/continuar.png"),this.load.image("botonMenu","assets/Botones/menu.png")}create(e){this.plugins.get("Brightness").applyToScene(this),this.add.rectangle(400,300,800,600,0,.7),this.add.text(400,50,"Pausa",{fontFamily:"aaaaa",fontSize:"64px",color:"#e1e674"}).setOrigin(.5),this.add.image(400,200,"botonContinuar").setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.scene.stop(),this.scene.resume(e.originalScene),this.scene.get(e.originalScene).resume()}),this.add.image(400,300,"botonAjustes").setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.scene.setVisible(!1),this.scene.setVisible(!1,"GameScene"),this.scene.launch("Ajustes",{previousScene:"PauseScene"})}),this.add.image(400,400,"botonControles").setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.scene.setVisible(!1),this.scene.setVisible(!1,"GameScene"),this.scene.launch("Controles",{previousScene:"PauseScene"})}),this.add.image(400,500,"botonMenu").setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.scene.stop(e.originalScene),this.scene.start("MenuScene")})}update(){this.plugins.get("Brightness").updateOverlay(this)}}class l extends s().Scene{constructor(){super("Creditos")}preload(){this.load.image("botonVolver","assets/Botones/volver.png"),this.load.image("fondoCreditos","assets/Fondos/narval_perdedor.png")}create(){this.plugins.get("Brightness").applyToScene(this),this.add.image(400,300,"fondoCreditos").setOrigin(.5),this.add.rectangle(400,300,700,500,11180464,.7),this.add.text(400,100,"Créditos",{fontFamily:"aaaaa",fontSize:"64px",color:"#e1e674"}).setOrigin(.5),this.add.text(200,175,"Programación",{fontFamily:"aaaaa",fontSize:"20px",color:"#e1e674"}).setOrigin(.5),this.add.text(200,225,"Lucía Andrés",{fontFamily:"aaaaa",fontSize:"12px",color:"#e1e674"}).setOrigin(.5),this.add.text(200,275,"Hugo García",{fontFamily:"aaaaa",fontSize:"12px",color:"#e1e674"}).setOrigin(.5),this.add.text(200,325,"Lucas Joglar",{fontFamily:"aaaaa",fontSize:"12px",color:"#e1e674"}).setOrigin(.5),this.add.text(200,375,"Sergio Ponce",{fontFamily:"aaaaa",fontSize:"12px",color:"#e1e674"}).setOrigin(.5),this.add.text(600,175,"Arte y Sonido",{fontFamily:"aaaaa",fontSize:"20px",color:"#e1e674"}).setOrigin(.5),this.add.text(600,225,"Sergio Ponce",{fontFamily:"aaaaa",fontSize:"12px",color:"#e1e674"}).setOrigin(.5),this.add.text(600,300,"Diseño",{fontFamily:"aaaaa",fontSize:"20px",color:"#e1e674"}).setOrigin(.5),this.add.text(600,350,"Lucía Andrés",{fontFamily:"aaaaa",fontSize:"12px",color:"#e1e674"}).setOrigin(.5),this.add.text(600,400,"Hugo García",{fontFamily:"aaaaa",fontSize:"12px",color:"#e1e674"}).setOrigin(.5),this.add.text(600,450,"Sergio Ponce",{fontFamily:"aaaaa",fontSize:"12px",color:"#e1e674"}).setOrigin(.5),this.add.image(400,500,"botonVolver").setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.scene.start("MenuScene")})}update(){this.plugins.get("Brightness").updateOverlay(this)}}class h extends s().Scene{constructor(){super("Ajustes")}preload(){this.load.image("botonVolver","assets/Botones/volver.png"),this.load.image("fondo_Ajustes","assets/Fondos/quokka_perdedor.png"),this.load.image("pez","assets/Items/pez.png"),this.load.image("bayas","assets/Items/bayas.png"),this.load.audio("musica_ascensor","assets/Sonido/musicaAscensor.mp3")}init(e){this.previousScene=e?.previousScene||"MenuScene"}create(){const e=this.plugins.get("GlobalSettings"),t=this.plugins.get("Brightness");t.applyToScene(this),this.musica=this.sound.add("musica_ascensor",{volume:e.getMusicVolume(),loop:!0}),this.musica.play(),this.events.on("shutdown",()=>{this.musica&&(this.musica.stop(),this.musica.destroy())}),this.add.image(400,300,"fondo_Ajustes").setOrigin(.5),this.add.rectangle(400,300,700,500,4475708,.7),this.add.text(275,100,"AJUSTES",{fontFamily:"aaaaa",fontSize:"40px",color:"#e1e674"});const a=100,i=600;this.add.text(100,150,"Brillo",{fontFamily:"aaaaa",fontSize:"24px",color:"#e1e674"});this.brilloTrack=this.add.rectangle(a,200,i,18,4609134).setOrigin(0,.5);let o=s().Math.Clamp(t.getBrightness(),.2,1.5),r=a+(o-.2)/1.3*i;this.brilloHandle=this.add.image(r,200,"pez").setInteractive({draggable:!0}),this.brilloHandle.setDisplaySize(140,140),this.add.text(100,250,"Volumen música",{fontFamily:"aaaaa",fontSize:"24px",color:"#e1e674"}),this.volumenTrack=this.add.rectangle(a,300,i,18,8262419).setOrigin(0,.5);let n=s().Math.Clamp(e.getMusicVolume(),0,1),l=a+n*i;this.volumenHandle=this.add.image(l,300,"bayas").setInteractive({draggable:!0}),this.volumenHandle.setDisplaySize(140,140),this.add.text(100,350,"Volumen SFX",{fontFamily:"aaaaa",fontSize:"24px",color:"#e1e674"}),this.sfxTrack=this.add.rectangle(a,400,i,18,8262419).setOrigin(0,.5);let h=s().Math.Clamp(e.getSfxVolume(),0,1),p=a+h*i;this.sfxHandle=this.add.image(p,400,"bayas").setInteractive({draggable:!0}),this.sfxHandle.setDisplaySize(140,140),this.input.setDraggable(this.brilloHandle),this.input.setDraggable(this.volumenHandle),this.input.setDraggable(this.sfxHandle),this.input.on("drag",(o,r,n)=>{if(r===this.brilloHandle){n=s().Math.Clamp(n,a,700),r.x=n;let e=(n-a)/i;t.setBrightness(.2+1.3*e),t.updateOverlay(this)}if(r===this.volumenHandle){n=s().Math.Clamp(n,a,700),r.x=n;let t=(n-a)/i;e.setMusicVolume(t),this.sound.sounds.forEach(e=>{e.key.includes("musica")&&e.setVolume(t)})}if(r===this.sfxHandle){n=s().Math.Clamp(n,a,700),r.x=n;let t=(n-a)/i;e.setSfxVolume(t);const o=this.sound.get("test_sfx");o&&o.setVolume(t)}}),this.add.image(400,500,"botonVolver").setInteractive().on("pointerdown",()=>{this.scene.stop(),"PauseScene"===this.previousScene?(this.scene.setVisible(!0,"GameScene"),this.scene.setVisible(!0,"PauseScene")):this.scene.start("MenuScene")})}update(){this.plugins.get("Brightness").updateOverlay(this)}}class p extends s().Scene{constructor(){super("GameOverScene")}init(e){this.winnerID=e.winnerID}preload(){this.load.image("empate_f","assets/Fondos/fondo.png"),this.load.image("quokka_perdedor_f","assets/Fondos/quokka_perdedor.png"),this.load.image("narval_perdedor_f","assets/Fondos/narval_perdedor.png"),this.load.image("botonVolver","assets/Botones/volver.png"),this.load.image("quokka_perdedor","assets/Quokka/basura_tierra2.png"),this.load.image("narval_perdedor","assets/Narval/residuo_toxico_aguaN.png"),this.load.image("empate","assets/quokka_narval.png"),this.load.image("botonMenu","assets/Botones/menu.png")}create(){this.plugins.get("Brightness").applyToScene(this);const e="player1"===this.winnerID?"narval_perdedor_f":"player2"===this.winnerID?"quokka_perdedor_f":"empate_f";this.add.image(400,300,e).setOrigin(.5);const t="player1"===this.winnerID?"¡Gana Quokka!":"player2"===this.winnerID?"¡Gana Narval!":"¡Empate!",s="player1"===this.winnerID?"narval_perdedor":"player2"===this.winnerID?"quokka_perdedor":"empate";this.add.image(400,450,s).setOrigin(.5),this.add.text(400,50,t,{fontFamily:"aaaaa",fontSize:"64px",color:"#e1e674"}).setOrigin(.5),this.add.image(420,150,"botonMenu").setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.scene.start("MenuScene")})}update(){this.plugins.get("Brightness").updateOverlay(this)}}class d extends s().Scene{constructor(){super("Controles")}preload(){this.load.image("botonVolver","assets/Botones/volver.png"),this.load.image("botonExplicacion","assets/Botones/explicacion.png"),this.load.image("botonControles","assets/Botones/controles.png"),this.load.image("fondoControles","assets/Fondos/narval_perdedor.png"),this.load.image("w","assets/Botones/W.png"),this.load.image("a","assets/Botones/A.png"),this.load.image("s","assets/Botones/S.png"),this.load.image("d","assets/Botones/D.png"),this.load.image("flecha1","assets/Botones/Flecha_Arr.png"),this.load.image("flecha2","assets/Botones/Flecha_Aba.png"),this.load.image("flecha3","assets/Botones/Flecha_Der.png"),this.load.image("flecha4","assets/Botones/Flecha_Izq.png")}init(e){this.previousScene=e?.previousScene||"MenuScene"}create(){this.mostrandoControles=!0,this.plugins.get("Brightness").applyToScene(this),this.add.image(400,300,"fondoControles").setOrigin(.5),this.add.rectangle(400,300,700,500,11180464,.7),this.controlesContainer=this.add.container(),this.controlesContainer.add([this.add.text(400,100,"Controles",{fontFamily:"aaaaa",fontSize:"64px",color:"#e1e674"}).setOrigin(.5),this.add.text(250,200,"Quokka",{fontFamily:"aaaaa",fontSize:"20px",color:"#e1e674"}).setOrigin(.5),this.add.image(250,275,"w").setOrigin(.5),this.add.image(170,350,"a").setOrigin(.5),this.add.image(250,350,"s").setOrigin(.5),this.add.image(330,350,"d").setOrigin(.5),this.add.text(575,200,"    Narval/ \nversión online",{fontFamily:"aaaaa",fontSize:"20px",color:"#e1e674"}).setOrigin(.5),this.add.image(575,275,"flecha1").setOrigin(.5),this.add.image(495,350,"flecha4").setOrigin(.5),this.add.image(575,350,"flecha2").setOrigin(.5),this.add.image(655,350,"flecha3").setOrigin(.5)]);const e=this.add.image(575,500,"botonExplicacion").setOrigin(.5).setInteractive().on("pointerdown",()=>{this.mostrandoControles?(this.mostrandoControles=!1,this.controlesContainer.setVisible(!1),this.explicacionContainer.setVisible(!0)):this.mostrandoControles||(this.mostrandoControles=!0,this.controlesContainer.setVisible(!0),this.explicacionContainer.setVisible(!1)),e.setTexture(this.mostrandoControles?"botonExplicacion":"botonControles")});this.explicacionContainer=this.add.container(),this.explicacionContainer.setVisible(!1),this.explicacionContainer.add([this.add.text(400,250,"El objetivo de este juego es recoger más basura que el enemigo.\n\nCada uno tiene power ups (bayas o peces) que les dan más puntuación.\n\nLos cubos de basura del centro perjudican al enemigo. Si este tiene un power up se lo quita\no de lo contrario se le inmovilizará.\n\nLos vertidos dan 10 puntos.\n\nCuando terminen los 2 minutos del temporizador acabará el juego y el jugador con mayor puntuación ganará.",{fontFamily:"aaaaa",fontSize:"16px",color:"#e1e674",align:"center",wordWrap:{width:500}}).setOrigin(.5)]),this.add.image(250,500,"botonVolver").setInteractive().on("pointerdown",()=>{this.scene.stop(),"PauseScene"===this.previousScene?(this.scene.setVisible(!0,"GameScene"),this.scene.setVisible(!0,"PauseScene")):this.scene.start("MenuScene")})}update(){this.plugins.get("Brightness").updateOverlay(this)}}class c extends s().Scene{constructor(){super("ConnectionLostScene"),this.reconnectCheckInterval=null}init(e){this.previousScene=e.previousScene}create(){this.add.rectangle(400,300,800,600,0,.8),this.add.text(400,200,"CONEXIÓN PERDIDA",{fontFamily:"aaaaa",fontSize:"48px",color:"#ff0000",fontStyle:"bold"}).setOrigin(.5),this.statusText=this.add.text(400,300,"Intentando reconectar...",{fontFamily:"aaaaa",fontSize:"24px",color:"#ffff00"}).setOrigin(.5),this.attemptCount=0,this.attemptText=this.add.text(400,350,"Intentos: 0",{fontFamily:"aaaaa",fontSize:"18px",color:"#ffffff"}).setOrigin(.5),this.dotCount=0,this.time.addEvent({delay:2e3,callback:()=>{this.dotCount=(this.dotCount+1)%4;const e=".".repeat(this.dotCount);this.statusText.setText(`Intentando reconectar${e}`)},loop:!0}),this.connectionListener=e=>{e.connected&&this.onReconnected()},a.addListener(this.connectionListener),this.reconnectCheckInterval=setInterval(()=>{this.attemptReconnect()},2e3),this.attemptReconnect()}async attemptReconnect(){this.attemptCount++,this.attemptText.setText(`Intentos: ${this.attemptCount}`),await a.checkConnection()}onReconnected(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),a.removeListener(this.connectionListener),this.statusText.setText("¡Conexión restablecida!"),this.statusText.setColor("#00ff00"),this.time.delayedCall(1e3,()=>{this.scene.stop(),this.previousScene&&this.scene.resume(this.previousScene)})}shutdown(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),this.connectionListener&&a.removeListener(this.connectionListener)}}class u extends s().Scene{constructor(){super("MultiplayerGameScene")}preload(){this.load.image("fondo","assets/Fondos/fondo_juego.png"),this.load.image("basura","assets/Items/basura.png"),this.load.image("vertido","assets/Items/basura_tierra1.png"),this.load.image("vertido1","assets/Items/residuo_toxico_agua.png"),this.load.image("pringue","assets/Items/cubo.png"),this.load.image("powerQuoka","assets/Items/bayas.png"),this.load.image("powerNarval","assets/Items/pez.png"),this.load.image("toxicAgua","assets/Items/residuo_toxico_agua.png"),this.load.image("toxicoTierra","assets/Items/basura_tierra1.png"),this.load.spritesheet("quokkaFrente","assets/Quokka/quokka_front_view_animation.png",{frameWidth:256,frameHeight:256}),this.load.spritesheet("quokkaAtras","assets/Quokka/quokka_back_view_animation.png",{frameWidth:256,frameHeight:256}),this.load.spritesheet("quokkaIzquierda","assets/Quokka/quokka_side2_view-animation.png",{frameWidth:256,frameHeight:256}),this.load.spritesheet("quokkaDerecha","assets/Quokka/quokka_side1_view-animation.png",{frameWidth:256,frameHeight:256}),this.load.spritesheet("quokkaFrenteP","assets/Quokka/quokka_front_r.png",{frameWidth:256,frameHeight:256}),this.load.spritesheet("quokkaAtrasP","assets/Quokka/quokka_back_r.png",{frameWidth:256,frameHeight:256}),this.load.spritesheet("quokkaIzquierdaP","assets/Quokka/quokka_izqui_r.png",{frameWidth:256,frameHeight:256}),this.load.spritesheet("quokkaDerechaP","assets/Quokka/quokka_derech_r.png",{frameWidth:256,frameHeight:256}),this.load.image("pringueQuokka","assets/Quokka/basura_tierra3.png"),this.load.spritesheet("narvalFrente","assets/Narval/narval_down_view-animation.png",{frameWidth:256,frameHeight:256}),this.load.spritesheet("narvalAtras","assets/Narval/narval_top_view-animation.png",{frameWidth:256,frameHeight:256}),this.load.spritesheet("narvalIzquierda","assets/Narval/narval_side2_view-animation.png",{frameWidth:256,frameHeight:256}),this.load.spritesheet("narvalDerecha","assets/Narval/narval_side1_view-animation.png",{frameWidth:256,frameHeight:256}),this.load.spritesheet("narvalFrenteP","assets/Narval/narval_down_r.png",{frameWidth:256,frameHeight:256}),this.load.spritesheet("narvalAtrasP","assets/Narval/narval_arriba_r.png",{frameWidth:256,frameHeight:256}),this.load.spritesheet("narvalIzquierdaP","assets/Narval/narval_izqui_r.png",{frameWidth:256,frameHeight:256}),this.load.spritesheet("narvalDerechaP","assets/Narval/narval_derech_r.png",{frameWidth:256,frameHeight:256}),this.load.image("pringueNarval","assets/Narval/residuo_toxico_aguaS.png"),this.load.audio("recogerBasura","assets/Sonido/recogerBasura.mp3"),this.load.audio("pleugh1","assets/Sonido/pleugh.mp3"),this.load.audio("pleugh2","assets/Sonido/pluh.mp3"),this.load.audio("powerUpSound","assets/Sonido/powerUp.mp3"),this.load.audio("finTemporizador","assets/Sonido/temp2.mp3"),this.load.audio("gaviota","assets/Sonido/gaviota.mp3"),this.load.audio("musica_juego","assets/Sonido/Audio Juego.m4a")}init(e){this.ws=e.ws,this.playerRole=e.playerRole,this.roomId=e.roomId,this.isPaused=!1,this.gameEnded=!1,this.localJugador=null,this.remoteJugador=null,this.localScore=0,this.remoteScore=0,this.players=null,this.powerUpActive=null,this.stickyActive=null,this.powerUpTimers=null,this.trashGroup=null,this.powerUpGroup=null,this.stickyGroup=null,this.spillGroup=null,this.invertGroup=null,this.stickySpawnTimer={player1:null,player2:null},this.invertControls={player1:!1,player2:!1},this.endAt=e.endAt||null}create(){this.add.image(400,300,"fondo").setOrigin(.5),this.plugins.get("Brightness").applyToScene(this),this.createAnimations(),this.scoreQuoka=this.add.text(100,30,"0",{fontFamily:"aaaaa",fontSize:"38px",color:"#d9df5dff",fixedWidth:120,align:"left"}).setOrigin(0,.5),this.scoreNarval=this.add.text(700,30,"0",{fontFamily:"aaaaa",fontSize:"38px",color:"#d9df5dff",fixedWidth:120,align:"right"}).setOrigin(1,.5);const e="player1"===this.playerRole?"Quokka":"Narval";this.add.text(400,100,e,{fontFamily:"aaaaa",fontSize:"18px",color:"#ffff00"}).setOrigin(.5),this.createBounds(),this.setUpPlayers(),this.escKey=this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes.ESC),this.timerText=this.add.text(278,17,"Tiempo: --",{fontFamily:"aaaaa",fontSize:"24px",color:"#9da23cff"}),this.stickyGroup=this.physics.add.group(),this.trashGroup=this.physics.add.group(),this.powerUpGroup=this.physics.add.group(),this.spillGroup=this.physics.add.group(),this.invertGroup=this.physics.add.group(),"player1"===this.playerRole&&(this.stickyGenerationTimer=this.time.addEvent({delay:1e4,callback:this.spawnSticky,callbackScope:this,loop:!0}),this.trashSpawnTimer=this.time.addEvent({delay:700,callback:this.spawnTrash,callbackScope:this,loop:!0}),this.time.addEvent({delay:5e3,callback:this.trySpawnPowerUp,callbackScope:this,loop:!0}),this.spillSpawnTimer=this.time.addEvent({delay:5e3,callback:this.spawnSpill,callbackScope:this,loop:!0}),this.time.addEvent({delay:5e3,callback:this.trySpawnInverted,callbackScope:this,loop:!0})),this.seagullSoundTimer=this.time.addEvent({delay:15e3,callback:this.tryPlaySound,callbackScope:this,loop:!0});const t=this.plugins.get("GlobalSettings"),i=t.getSfxVolume();this.recogerBasura=this.sound.add("recogerBasura",{volume:i,loop:!1}),this.pleugh1=this.sound.add("pleugh1",{volume:i,loop:!1}),this.pleugh2=this.sound.add("pleugh2",{volume:i,loop:!1}),this.powerUpSound=this.sound.add("powerUpSound",{volume:i,loop:!1}),this.tiempoMuerto=this.sound.add("finTemporizador",{volume:i,loop:!1}),this.gaviota=this.sound.add("gaviota",{volume:i/20,loop:!1}),this.events.on("resume",()=>{const e=this.plugins.get("GlobalSettings").getSfxVolume();this.recogerBasura.setVolume(e),this.pleugh1.setVolume(e),this.pleugh2.setVolume(e),this.powerUpSound.setVolume(e),this.tiempoMuerto.setVolume(e),this.gaviota.setVolume(e/20)}),this.musica=this.sound.add("musica_juego",{volume:t.getMusicVolume(),loop:!1}),this.musica.play(),this.events.on("resume",()=>{const e=this.plugins.get("GlobalSettings").getMusicVolume();this.sound.sounds.forEach(t=>{t.key.includes("musica")&&t.setVolume(e)})}),this.events.on("shutdown",()=>{this.musica&&(this.musica.stop(),this.musica.destroy())}),this.connectionListener=e=>{!e.connected&&this.scene.isActive()&&this.onConnectionLost()},a.addListener(this.connectionListener),this.setupWebSocketListeners(),this.cursors=this.input.keyboard.createCursorKeys()}onConnectionLost(){this.scene.pause(),this.scene.launch("ConnectionLostScene",{previousScene:"GameScene"})}createAnimations(){this.anims.create({key:"quokka_walk_front",frames:this.anims.generateFrameNumbers("quokkaFrente",{start:0,end:3}),frameRate:10,repeat:-1}),this.anims.create({key:"quokka_walk_back",frames:this.anims.generateFrameNumbers("quokkaAtras",{start:0,end:3}),frameRate:10,repeat:-1}),this.anims.create({key:"quokka_walk_left",frames:this.anims.generateFrameNumbers("quokkaIzquierda",{start:0,end:2}),frameRate:10,repeat:-1}),this.anims.create({key:"quokka_walk_right",frames:this.anims.generateFrameNumbers("quokkaDerecha",{start:0,end:2}),frameRate:10,repeat:-1}),this.anims.create({key:"quokka_walk_frontP",frames:this.anims.generateFrameNumbers("quokkaFrenteP",{start:0,end:3}),frameRate:10,repeat:-1}),this.anims.create({key:"quokka_walk_backP",frames:this.anims.generateFrameNumbers("quokkaAtrasP",{start:0,end:3}),frameRate:10,repeat:-1}),this.anims.create({key:"quokka_walk_leftP",frames:this.anims.generateFrameNumbers("quokkaIzquierdaP",{start:0,end:2}),frameRate:10,repeat:-1}),this.anims.create({key:"quokka_walk_rightP",frames:this.anims.generateFrameNumbers("quokkaDerechaP",{start:0,end:2}),frameRate:10,repeat:-1}),this.anims.create({key:"narval_walk_front",frames:this.anims.generateFrameNumbers("narvalFrente",{start:0,end:2}),frameRate:10,repeat:-1}),this.anims.create({key:"narval_walk_back",frames:this.anims.generateFrameNumbers("narvalAtras",{start:0,end:2}),frameRate:10,repeat:-1}),this.anims.create({key:"narval_walk_left",frames:this.anims.generateFrameNumbers("narvalIzquierda",{start:0,end:2}),frameRate:10,repeat:-1}),this.anims.create({key:"narval_walk_right",frames:this.anims.generateFrameNumbers("narvalDerecha",{start:0,end:2}),frameRate:10,repeat:-1}),this.anims.create({key:"narval_walk_frontP",frames:this.anims.generateFrameNumbers("narvalFrenteP",{start:0,end:2}),frameRate:10,repeat:-1}),this.anims.create({key:"narval_walk_backP",frames:this.anims.generateFrameNumbers("narvalAtrasP",{start:0,end:2}),frameRate:10,repeat:-1}),this.anims.create({key:"narval_walk_leftP",frames:this.anims.generateFrameNumbers("narvalIzquierdaP",{start:0,end:2}),frameRate:10,repeat:-1}),this.anims.create({key:"narval_walk_rightP",frames:this.anims.generateFrameNumbers("narvalDerechaP",{start:0,end:2}),frameRate:10,repeat:-1})}setUpPlayers(){"player1"===this.playerRole?(this.localJugador=new o(this,"player1",50,300),this.remoteJugador=new o(this,"player2",750,300)):(this.localJugador=new o(this,"player2",750,300),this.remoteJugador=new o(this,"player1",50,300)),this.players=new Map,this.players.set("player1","player1"===this.playerRole?this.localJugador:this.remoteJugador),this.players.set("player2","player2"===this.playerRole?this.localJugador:this.remoteJugador),this.powerUpActive={player1:!1,player2:!1},this.stickyActive={player1:!1,player2:!1},this.powerUpTimers={player1:null,player2:null},this.invertControls={player1:!1,player2:!1},this.localJugador.score=0,this.remoteJugador.score=0}setupWebSocketListeners(){if(!this.ws)return console.error("[MultiplayerGameScene] No hay WebSocket. ¿Entraste sin pasar por LobbyScene?"),void this.handleDisconnection();this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.gameEnded||this.handleDisconnection()},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.gameEnded||this.handleDisconnection()}}tryPlaySound(){s().Math.Between(1,100)<=20&&this.gaviota.play()}overlapVar(e,t,s){return s.getChildren().some(s=>Math.abs(s.x-e)<40&&Math.abs(s.y-t)<40)}antiOverlap(e,t,a,i,o,r){let n,l,h=0;do{n=s().Math.Between(e,t),l=s().Math.Between(a,i);var p=this.overlapVar(n,l,this.trashGroup),d=this.overlapVar(n,l,this.stickyGroup),c=this.overlapVar(n,l,this.powerUpGroup),u=this.overlapVar(n,l,this.spillGroup),m=Math.abs(r.x-n)<60&&Math.abs(r.y-l)<60,g=Math.abs(o.x-n)<60&&Math.abs(o.y-l)<60;h++}while((p||d||c||u||m||g)&&h<4);return{x:n,y:l}}handleServerMessage(e){switch(e.type){case"playerUpdate":if(this.remoteJugador){if(this.remoteJugador.sprite.x=e.x,this.remoteJugador.sprite.y=e.y,e.direction&&this.remoteJugador.setSprite&&this.remoteJugador.setSprite(e.direction,e.isMoving),void 0!==e.powerUpActive){const t="player1"===this.playerRole?"player2":"player1";this.powerUpActive[t]=e.powerUpActive}if(void 0!==e.stickyActive){const t="player1"===this.playerRole?"player2":"player1";this.stickyActive[t]=e.stickyActive}}break;case"scoreUpdate":console.log("Puntuación recibida del servidor:",e),this.localScore=e.player1Score,this.remoteScore=e.player2Score,this.scoreQuoka.setText(e.player1Score.toString()),this.scoreNarval.setText(e.player2Score.toString());break;case"powerUpPickup":const t=e.playerId;this.powerUpActive[t]=!0,this.powerUpTimers[t]&&this.powerUpTimers[t].remove(!1),this.powerUpTimers[t]=this.time.delayedCall(1e4,()=>{this.powerUpActive[t]=!1,this.players.get(t).setSprite("down")}),this.players.get(t).setSprite("down");break;case"stickyHit":const s=e.playerId;this.stickyActive[s]=!0,this.powerUpActive[s]&&(this.powerUpActive[s]=!1,this.stickyActive[s]=!1),this.stickySpawnTimer[s]&&this.stickySpawnTimer[s].remove(!1),this.stickySpawnTimer[s]=this.time.delayedCall(2e3,()=>{this.stickyActive[s]=!1,this.players.get(s).setSprite("down")}),this.players.get(s).setSprite("down");break;case"syncObjects":this.createSyncedObjects(e);break;case"delObjects":this.deleteObjectById(e.objectType,e.id);break;case"gameOver":case"gameOverTime":this.endGame(e.winner,e.player1Score,e.player2Score);break;case"playerDisconnected":this.handleDisconnection();break;case"timerSync":console.log("[TIMER SYNC RECIBIDO]",e),this.endAt=e.endAt;break;case"invertControls":{const t=e.targetPlayer;this.invertControls[t]=!0,this.time.delayedCall(e.duration,()=>{this.invertControls[t]=!1});break}default:console.log("Unknown message type:",e.type)}}createSyncedObjects(e){e.stickyGroup.forEach(e=>{if(!this.stickyGroup.getChildren().some(t=>t.objectId===e.id)){const t="pringue",s=this.physics.add.sprite(e.x,e.y,t);s.setDisplaySize(e.size,e.size),s.objectId=e.id,s.objectType="sticky",this.stickyGroup.add(s),this.addCollisionsForObject(s,"sticky"),console.log(`[P2 SYNC] Creado powerUp con ID ${e.id}`)}}),e.trashGroup.forEach(e=>{if(!this.trashGroup.getChildren().some(t=>t.objectId===e.id)){const t="basura",s=this.physics.add.sprite(e.x,e.y,t);s.setDisplaySize(e.size,e.size),s.objectId=e.id,s.objectType="trash",this.trashGroup.add(s),this.addCollisionsForObject(s,"trash"),console.log(`[P2 SYNC] Creado powerUp con ID ${e.id}`)}}),e.powerUpGroup.forEach(e=>{if(!this.powerUpGroup.getChildren().some(t=>t.objectId===e.id)){const t=e.x<=400?"powerQuoka":"powerNarval",s=this.physics.add.sprite(e.x,e.y,t);s.setDisplaySize(e.size,e.size),s.objectId=e.id,s.objectType="powerUp",this.powerUpGroup.add(s),this.addCollisionsForObject(s,"powerUp"),console.log(`[P2 SYNC] Creado powerUp con ID ${e.id}`)}}),e.spillGroup.forEach(e=>{if(!this.spillGroup.getChildren().some(t=>t.objectId===e.id)){const t=e.x<=400?"vertido":"vertido1",s=this.physics.add.sprite(e.x,e.y,t);s.setDisplaySize(e.size,e.size),s.objectId=e.id,s.objectType="spill",this.spillGroup.add(s),this.addCollisionsForObject(s,"spill"),console.log(`[P2 SYNC] Creado spill con sprite ${t} en x=${e.x}, ID ${e.id}`)}}),e.invertGroup.forEach(e=>{if(!this.invertGroup.getChildren().some(t=>t.objectId===e.id)){const t=e.x<=400?"powerNarval":"powerQuoka",s=this.physics.add.sprite(e.x,e.y,t);s.setDisplaySize(e.size,e.size),s.objectId=e.id,s.objectType="invert",this.invertGroup.add(s),this.addCollisionsForObject(s,"invert"),console.log(`[P2 SYNC] Creado powerUp con ID ${e.id}`)}})}addCollisionsForObject(e,t){const s=this.players.get("player1").sprite,a=this.players.get("player2").sprite;switch(t){case"sticky":this.physics.add.overlap(s,e,()=>this.throwSticky(e,2,10)),this.physics.add.overlap(a,e,()=>this.throwSticky(e,1,10));break;case"trash":this.physics.add.overlap(s,e,()=>this.collect(e,1,5)),this.physics.add.overlap(a,e,()=>this.collect(e,2,5));break;case"spill":this.physics.add.overlap(s,e,()=>this.collect(e,1,10)),this.physics.add.overlap(a,e,()=>this.collect(e,2,10));break;case"powerUp":this.physics.add.overlap(s,e,()=>this.pickPowerUp(e,"player1")),this.physics.add.overlap(a,e,()=>this.pickPowerUp(e,"player2"));break;case"invert":this.physics.add.overlap(s,e,()=>this.pickInvertedControls(e,"player1")),this.physics.add.overlap(a,e,()=>this.pickInvertedControls(e,"player2"))}}deleteObjectById(e,t){let s;switch(e){case"sticky":s=this.stickyGroup;break;case"trash":s=this.trashGroup;break;case"powerUp":s=this.powerUpGroup;break;case"spill":s=this.spillGroup;break;case"invert":s=this.invertGroup}if(s){const a=s.getChildren().find(e=>e.objectId===t);a?(console.log(`[DELETE LOCAL] Destruyendo ${e} con ID ${t}`),a.destroy()):console.log(`[DELETE LOCAL] No se encontró ${e} con ID ${t}`)}}sendObjectsToServer(e,t,s,a,i){this.ws.send(JSON.stringify({type:"syncObjects",roomId:this.roomId,objectType:e,x:t,y:s,size:a,id:i}))}trySpawn(e,t){const a=this.players.get("player1").score,i=this.players.get("player2").score;let o=null;return a<i-1?o=1:i<a-1?o=2:(e=10,o=0===s().Math.Between(0,1)?1:2),t[o]?null:s().Math.Between(1,100)<=e?o:null}trySpawnSticky(){null!=this.trySpawn(50,this.stickyActive)&&this.spawnSticky()}trySpawnPowerUp(){let e=this.trySpawn(70,this.powerUpActive);null!=e&&this.spawnPowerUp(e)}trySpawnInverted(){let e=this.trySpawn(70,this.invertControls);null!=e&&this.spawnInverted(e)}spawn(e,t,s,a,i,o,r,n,l,h,p,d,c,u,m,g,y){let k,v,f;1===t?(({x:k,y:v}=this.antiOverlap(s,a,i,o,g,y)),f=this.physics.add.sprite(k,v,p)):(({x:k,y:v}=this.antiOverlap(r,n,l,h,g,y)),f=this.physics.add.sprite(k,v,d));const w=Date.now()+"-"+Math.random();return f.objectId=w,f.objectType=e,f.setDisplaySize(c,c),u.add(f),this.sendObjectsToServer(e,k,v,c,w),this.time.delayedCall(m,()=>{f.active&&(this.sendMessage({type:"delObjects",objectType:e,id:w,roomId:this.roomId}),f.destroy())}),f}spawnSticky(e=null){e||(e=s().Math.Between(1,2));const t=this.players.get("player1").sprite,a=this.players.get("player2").sprite;let i=this.spawn("sticky",e,400,400,150,550,400,400,150,550,"pringue","pringue",40,this.stickyGroup,7e3,t,a);this.physics.add.overlap(t,i,()=>this.throwSticky(i,2,10)),this.physics.add.overlap(a,i,()=>this.throwSticky(i,1,10))}spawnTrash(){const e=s().Math.Between(1,2),t=this.players.get("player1").sprite,a=this.players.get("player2").sprite;let i=this.spawn("trash",e,30,340,150,550,460,770,150,550,"basura","basura",40,this.trashGroup,7e3,t,a);this.physics.add.overlap(t,i,()=>this.collect(i,1,5)),this.physics.add.overlap(a,i,()=>this.collect(i,2,5))}spawnSpill(){const e=s().Math.Between(1,2),t=this.players.get("player1").sprite,a=this.players.get("player2").sprite;let i=this.spawn("spill",e,30,340,150,550,460,770,150,550,"vertido","vertido1",80,this.spillGroup,7e3,t,a);this.physics.add.overlap(t,i,()=>this.collect(i,1,10)),this.physics.add.overlap(a,i,()=>this.collect(i,2,10))}spawnPowerUp(e){const t=this.players.get("player1").sprite,s=this.players.get("player2").sprite;let a=this.spawn("powerUp",e,50,340,150,550,460,750,150,550,"powerQuoka","powerNarval",120,this.powerUpGroup,15e3,t,s);this.physics.add.overlap(t,a,()=>this.pickPowerUp(a,"player1")),this.physics.add.overlap(s,a,()=>this.pickPowerUp(a,"player2"))}spawnInverted(e){e||(e=s().Math.Between(1,2));const t=this.players.get("player1").sprite,a=this.players.get("player2").sprite;let i=this.spawn("invert",e,50,340,150,550,460,750,150,550,"powerNarval","powerQuoka",120,this.invertGroup,15e3,t,a);this.physics.add.overlap(t,i,()=>this.pickInvertedControls(i,"player1")),this.physics.add.overlap(a,i,()=>this.pickInvertedControls(i,"player2"))}throwSticky(e,t,s){if(!e.active)return;e.active=!1,this.pleugh2.play();const a=1===t?"player1":"player2";this.sendMessage({type:"delObjects",objectType:"sticky",id:e.objectId,roomId:this.roomId}),e.destroy();const i=-s;this.sendMessage({type:"scoreUpdate",targetPlayer:a,score:i,roomId:this.roomId}),this.sendMessage({type:"stickyHit",playerId:a,roomId:this.roomId}),this.stickyActive[a]=!0,this.powerUpActive[a]&&(this.powerUpActive[a]=!1,this.stickyActive[a]=!1),this.stickySpawnTimer[a]=this.time.delayedCall(2e3,()=>{this.stickyActive[a]=!1,this.players.get(a).setSprite("down")}),this.players.get(a).setSprite("down")}pickInvertedControls(e,t){if(!e.active)return;e.active=!1;const s="player1"===t?"player2":"player1";this.sendMessage({type:"delObjects",objectType:"invert",id:e.objectId,roomId:this.roomId}),e.destroy(),this.sendMessage({type:"invertControls",targetPlayer:s,duration:6e3,roomId:this.roomId})}collect(e,t,s){if(!e.active)return;e.active=!1,this.sendMessage({type:"delObjects",objectType:e.objectType,id:e.objectId,roomId:this.roomId}),this.recogerBasura.play(),e.destroy();const a=1===t?this.players.get("player1"):this.players.get("player2"),i=1===t?"player1":"player2",o=this.powerUpActive[i]?2:1;console.log(`Enviando puntuación al servidor: ${a.score}`);const r=s*o;this.sendMessage({type:"scoreUpdate",playerRole:this.playerRole,score:r,roomId:this.roomId})}pickPowerUp(e,t){e.active&&(this.powerUpSound.play(),this.sendMessage({type:"powerUpPickup",playerId:t,roomId:this.roomId}),this.sendMessage({type:"delObjects",objectType:"powerUp",id:e.objectId,roomId:this.roomId}),e.destroy(),this.powerUpActive[t]=!0,this.powerUpTimers[t]&&this.powerUpTimers[t].remove(!1),this.powerUpTimers[t]=this.time.delayedCall(1e4,()=>{this.powerUpActive[t]=!1,this.players.get(t).setSprite("down")}),this.players.get(t).setSprite("down"))}endGame(e=null,t=null,s=null){if(this.gameEnded)return;if(this.gameEnded=!0,this.throwSticky,console.log("[END GAME] Winner:",e,"Scores:",t,s),null===e||null===t||null===s)return void console.error("[END GAME] Datos inválidos del servidor",{winner:e,player1Score:t,player2Score:s});let a;this.localJugador&&this.localJugador.sprite&&this.localJugador.sprite.setVelocity(0,0),this.remoteJugador&&this.remoteJugador.sprite&&this.remoteJugador.sprite.setVelocity(0,0),this.scoreQuoka.setText(t.toString()),this.scoreNarval.setText(s.toString()),this.physics.pause(),this.trashSpawnTimer&&this.trashSpawnTimer.remove(!1),this.spillSpawnTimer&&this.spillSpawnTimer.remove(!1),this.stickyGenerationTimer&&this.stickyGenerationTimer.remove(!1),this.seagullSoundTimer&&this.seagullSoundTimer.remove(!1),this.trashGroup&&this.trashGroup.clear(!0,!0),this.powerUpGroup&&this.powerUpGroup.clear(!0,!0),this.stickyGroup&&this.stickyGroup.clear(!0,!0),this.spillGroup&&this.spillGroup.clear(!0,!0),this.tiempoMuerto&&this.tiempoMuerto.play(),this.add.rectangle(400,300,800,600,0,.7),this.add.text(400,280,"Puntuación Final",{fontFamily:"aaaaa",fontSize:"32px",color:"#ffffff"}).setOrigin(.5).setDepth(100),this.add.text(400,320,`Quokka: ${t}  -  Narval: ${s}`,{fontFamily:"aaaaa",fontSize:"28px",color:"#d9df5dff"}).setOrigin(.5).setDepth(100),a="player1"===e?"player1":"player2"===e?"player2":"draw",this.createMenuButton()}handleDisconnection(){this.gameEnded=!0,this.localJugador.sprite.setVelocity(0,0),this.remoteJugador.sprite.setVelocity(0,0),this.physics.pause(),this.add.text(400,250,"Opponent Disconnected",{fontFamily:"aaaaa",fontSize:"38px",color:"#ff0000"}).setOrigin(.5),this.createMenuButton()}createMenuButton(){const e=this.add.text(400,400,"Volver al Menú Principal",{fontFamily:"aaaaa",fontSize:"16px",color:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setColor("#cccccc")).on("pointerout",()=>e.setColor("#ffffff")).on("pointerdown",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close(),this.scene.start("MenuScene")})}createBounds(){this.QuokaGoal=this.physics.add.sprite(0,300,null),this.QuokaGoal.setDisplaySize(10,600),this.QuokaGoal.body.setSize(10,600),this.QuokaGoal.setImmovable(!1),this.QuokaGoal.setVisible(!1),this.NarvalGoal=this.physics.add.sprite(800,300,null),this.NarvalGoal.setDisplaySize(10,600),this.NarvalGoal.body.setSize(10,600),this.NarvalGoal.setImmovable(!1),this.NarvalGoal.setVisible(!1)}update(){if(this.gameEnded)return;if(this.endAt&&this.timerText){const e=Math.max(0,Math.ceil((this.endAt-Date.now())/1e3));this.timerText.setText("Tiempo: "+e)}if(this.gameEnded||this.isPaused)return;const e=this.localJugador;if(!e||!e.sprite)return;e.sprite.setVelocity(0,0);const t=this.playerRole,a=this.invertControls[t];let i=null,o=!1;this.cursors.up.isDown?(e.sprite.setVelocityY(a?e.baseSpeed:-e.baseSpeed),e.sprite.setVelocityX(0),i=a?"down":"up",o=!0):this.cursors.down.isDown?(e.sprite.setVelocityY(a?-e.baseSpeed:e.baseSpeed),e.sprite.setVelocityX(0),i=a?"up":"down",o=!0):this.cursors.left.isDown?(e.sprite.setVelocityX(a?e.baseSpeed:-e.baseSpeed),e.sprite.setVelocityY(0),i=a?"right":"left",o=!0):this.cursors.right.isDown?(e.sprite.setVelocityX(a?-e.baseSpeed:e.baseSpeed),e.sprite.setVelocityY(0),i=a?"left":"right",o=!0):(i=this.lastDirection||"down",o=!1),e.setSprite(i,o),this.lastDirection=i,this.lastIsMoving=o,"player1"===this.playerRole?e.sprite.x=s().Math.Clamp(e.sprite.x,0,400):e.sprite.x=s().Math.Clamp(e.sprite.x,400,800),e.sprite.y=s().Math.Clamp(e.sprite.y,115,555),this.sendPlayerPosition(),this.plugins.get("Brightness").updateOverlay(this)}sendPlayerPosition(){if(this.ws&&this.ws.readyState===WebSocket.OPEN&&this.localJugador){const e=this.playerRole,t={type:"playerMove",roomId:this.roomId,playerRole:this.playerRole,x:this.localJugador.sprite.x,y:this.localJugador.sprite.y,direction:this.lastDirection||"down",isMoving:void 0!==this.lastIsMoving&&this.lastIsMoving,powerUpActive:this.powerUpActive[e],stickyActive:this.stickyActive[e]};this.ws.send(JSON.stringify(t))}}sendMessage(e){if(this.ws&&this.ws.readyState===WebSocket.OPEN)try{this.ws.send(JSON.stringify(e))}catch(e){console.error("Error sending message:",e)}}shutdown(){this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.sendMessage({type:"playerLeft",roomId:this.roomId}),this.ws.close()),this.connectionListener&&a.removeListener(this.connectionListener),this.trashSpawnTimer&&this.trashSpawnTimer.remove(),this.stickySpawnTimer&&this.stickySpawnTimer.remove(),this.spillSpawnTimer&&this.spillSpawnTimer.remove(),this.seagullSoundTimer&&this.seagullSoundTimer.remove(),this.musica&&this.musica.isPlaying&&this.musica.stop()}}class m extends Phaser.Scene{constructor(){super({key:"LobbyScene"}),this.ws=null}preload(){this.load.image("botonAtras","assets/Botones/volver"),this.load.image("fondoMenu","assets/Fondos/fondo.png")}create(){const e=this.cameras.main.width,t=this.cameras.main.height;this.add.image(400,300,"fondoMenu"),this.add.text(e/2,150,"Online Multiplayer",{fontFamily:"aaaaa",fontSize:"38px",color:"#e1e674"}).setOrigin(.5),this.statusText=this.add.text(e/2,t/2-50,"Connecting to server...",{fontFamily:"aaaaa",fontSize:"24px",color:"#ffff00"}).setOrigin(.5),this.playerCountText=this.add.text(e/2,t/2+20,"",{fontFamily:"aaaaa",fontSize:"20px",color:"#00ff00"}).setOrigin(.5),this.add.image(400,500,"botonAtras").setOrigin(.5).setInteractive().on("pointerdown",()=>{this.leaveQueue(),this.scene.start("MenuScene")}),this.connectToServer()}connectToServer(){try{const e=`ws://${window.location.host}`;this.ws=new WebSocket(e),this.ws.onopen=()=>{console.log("Connected to WebSocket server"),this.statusText.setText("Waiting for opponent..."),this.ws.send(JSON.stringify({type:"joinQueue"}))},this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.statusText.setText("Connection error!"),this.statusText.setColor("#ff0000")},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.scene.isActive("LobbyScene")&&(this.statusText.setText("Connection lost!"),this.statusText.setColor("#ff0000"))}}catch(e){console.error("Error connecting to server:",e),this.statusText.setText("Failed to connect!"),this.statusText.setColor("#ff0000")}}handleServerMessage(e){switch(e.type){case"queueStatus":this.playerCountText.setText(`Players in queue: ${e.position}/2`);break;case"gameStart":console.log("Game starting!",e),this.scene.start("MultiplayerGameScene",{ws:this.ws,playerRole:e.role,roomId:e.roomId,endAt:e.endAt});break;default:console.log("Unknown message type:",e.type)}}leaveQueue(){this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"leaveQueue"})),this.ws.close())}shutdown(){this.leaveQueue()}}class g extends s().Scene{constructor(){super("LocaloOnlineSeleccion")}preload(){this.load.image("botonLocal","assets/Botones/local.png"),this.load.image("botonOnline","assets/Botones/online.png"),this.load.image("botonAtras","assets/Botones/volver.png"),this.load.image("fondoMenu","assets/Fondos/fondo.png")}create(e){this.plugins.get("GlobalSettings"),this.plugins.get("Brightness").applyToScene(this),this.add.image(400,300,"fondoMenu").setOrigin(.5),this.add.text(400,150,"Selección modo de juego",{fontFamily:"aaaaa",fontSize:"32px",color:"#e1e674"}).setOrigin(.5),this.add.image(300,300,"botonLocal").setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerdown",async()=>{this.scene.start("GameScene")}),this.add.image(500,300,"botonOnline").setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerdown",async()=>{if(window.sessionId){try{const e=await fetch("/api/game/start",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:window.sessionId})}),t=await e.json();window.gamesPlayed=t.gamesPlayed,console.log("Partidas jugadas:",window.gamesPlayed)}catch(e){console.error("Error iniciando partida",e)}this.scene.start("LobbyScene")}else this.scene.launch("Login"),this.scene.pause()}),this.add.image(400,450,"botonAtras").setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerdown",async()=>{this.scene.start("MenuScene")})}update(){this.plugins.get("Brightness").updateOverlay(this)}}class y extends s().Scene{constructor(){super("Login")}preload(){this.load.image("botonJugar","assets/Botones/empezar.png"),this.load.image("botonAtras","assets/Botones/volver.png"),this.load.image("login","assets/Botones/login.png")}create(e){this.plugins.get("Brightness").applyToScene(this),this.add.rectangle(400,300,800,600,0,.7),this.add.image(400,250,"login").setOrigin(.5).setScale(1.5),this.add.text(400,150,"Login",{fontFamily:"aaaaa",fontSize:"64px",color:"#e1e674"}).setOrigin(.5),this.add.image(500,400,"botonJugar").setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerdown",async()=>{const e=this.nicknameInput.value.trim();if(e)try{const t=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nickname:e})}),s=await t.json();window.sessionId=s.sessionId,window.nickname=s.nickname;const a=await fetch(`/api/game/stats?sessionId=${window.sessionId}`),i=await a.json();"number"==typeof i.gamesPlayed&&(window.gamesPlayed=i.gamesPlayed),this.nicknameInput.remove(),this.scene.stop(),this.scene.stop("LocaloOnlineSeleccion"),this.scene.start("LobbyScene")}catch(e){console.error("Login error",e)}}),this.add.image(300,400,"botonAtras").setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerdown",async()=>{this.scene.stop(),this.scene.resume("LocaloOnlineSeleccion")}),this.nicknameInput=document.createElement("input"),this.nicknameInput.type="text",this.nicknameInput.placeholder="Nickname",this.nicknameInput.maxLength=12,this.nicknameInput.style.position="absolute",this.nicknameInput.style.top="45%",this.nicknameInput.style.left="50%",this.nicknameInput.style.transform="translateX(-50%)",this.nicknameInput.style.padding="10px",this.nicknameInput.style.fontFamily="aaaaa",this.nicknameInput.style.fontSize="16px",document.body.appendChild(this.nicknameInput),this.events.on("shutdown",()=>{this.nicknameInput&&this.nicknameInput.remove()})}update(){this.plugins.get("Brightness").updateOverlay(this)}}class k extends s().Scene{constructor(){super("StartScreen")}preload(){this.load.image("fondoS","assets/Fondos/fondo.png"),this.load.image("botonClick","assets/Botones/click.png")}create(){this.add.image(400,300,"fondoS").setOrigin(.5),this.add.text(400,310,"a",{fontFamily:"aaaaa",fontSize:"38px",color:"#e1e674"}).setOrigin(.5),this.add.image(400,310,"botonClick").setOrigin(.5).setInteractive({useHandCursor:!0}),this.input.once("pointerdown",()=>{this.input.enabled=!1,this.scene.start("MenuScene")})}}class v extends Phaser.Plugins.BasePlugin{constructor(e){super(e),this.settings={musicVolume:1,sfxVolume:1}}setMusicVolume(e){this.settings.musicVolume=e}getMusicVolume(){return this.settings.musicVolume}setSfxVolume(e){this.settings.sfxVolume=e}getSfxVolume(){return this.settings.sfxVolume}}class f extends Phaser.Plugins.BasePlugin{constructor(e){super(e),this.brightness=1}setBrightness(e){this.brightness=e}getBrightness(){return this.brightness}applyToScene(e){const t=e.add.rectangle(400,300,800,600,16777215);t.setDepth(9999),e.brightnessOverlay=t,this.updateOverlay(e)}updateOverlay(e){const t=this.brightness;t<1?(e.brightnessOverlay.setFillStyle(0),e.brightnessOverlay.setBlendMode(Phaser.BlendModes.MULTIPLY),e.brightnessOverlay.alpha=1-t):(e.brightnessOverlay.setFillStyle(16777215),e.brightnessOverlay.setBlendMode(Phaser.BlendModes.ADD),e.brightnessOverlay.alpha=t-1)}}const w={type:s().AUTO,width:800,height:600,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{y:0},debug:!1}},plugins:{global:[{key:"GlobalSettings",plugin:v,start:!0},{key:"Brightness",plugin:f,start:!0}]},scene:[k,i,r,n,l,h,p,d,c,m,u,g,y],backgroundColor:"#876f00"};new(s().Game)(w)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQU02VyxrQkFBa0JHLGFBQWFqYyxPQUFPa2MsV0FBV0csS0FDdkRwWCxFQUFNNlcsa0JBQWtCTSxNQUFRTCxFQUFLLEVBRTdDLEVDckJKLE1BQU1sUCxFQUFTLENBQ1g4SixLQUFNLFNBQ041UCxNQUFPLElBQ1BDLE9BQVEsSUFDUnNWLE9BQVEsaUJBQ1I3VixRQUFTLENBQ0w4VixRQUFTLFNBQ1RDLE9BQVEsQ0FDSkMsUUFBUyxDQUFDdlcsRUFBRyxHQUNid1csT0FBTyxJQUdmaFosUUFBUyxDQUNMaVosT0FBUSxDQUNKLENBQUV0ZCxJQUFLLGlCQUFrQnVkLE9BQVEsRUFBc0IxWCxPQUFPLEdBQzlELENBQUU3RixJQUFLLGFBQWN1ZCxPQUFRakIsRUFBa0J6VyxPQUFPLEtBSzFERCxNQUFPLENBQUNpVyxFQUFhaFksRUFBV3lFLEVBQVdzSyxFQUFZRSxFQUFVQyxFQUFTMkIsRUFBZUksRUFBV08sRUFBcUJxRSxFQUFZM0QsRUFBc0J5RSxFQUFzQkssR0FDakwyQyxnQkFBaUIsV0FHWixJQUFJLFVBQVloUSxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmlvY2xlYW5lci93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9iaW9jbGVhbmVyL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2Jpb2NsZWFuZXIvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2Jpb2NsZWFuZXIvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9iaW9jbGVhbmVyL2V4dGVybmFsIHZhciBcIlBoYXNlclwiIiwid2VicGFjazovL2Jpb2NsZWFuZXIvLi9zcmMvY2xpZW50L3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyLmpzIiwid2VicGFjazovL2Jpb2NsZWFuZXIvLi9zcmMvY2xpZW50L3NjZW5lL01lbnVTY2VuZS5qcyIsIndlYnBhY2s6Ly9iaW9jbGVhbmVyLy4vc3JjL2NsaWVudC9lbnRpdGllcy9QZXJzb25hamVzLmpzIiwid2VicGFjazovL2Jpb2NsZWFuZXIvLi9zcmMvY2xpZW50L3NjZW5lL0dhbWVTY2VuZS5qcyIsIndlYnBhY2s6Ly9iaW9jbGVhbmVyLy4vc3JjL2NsaWVudC9zY2VuZS9QYXVzZVNjZW5lLmpzIiwid2VicGFjazovL2Jpb2NsZWFuZXIvLi9zcmMvY2xpZW50L3NjZW5lL0NyZWRpdG9zLmpzIiwid2VicGFjazovL2Jpb2NsZWFuZXIvLi9zcmMvY2xpZW50L3NjZW5lL0FqdXN0ZXMuanMiLCJ3ZWJwYWNrOi8vYmlvY2xlYW5lci8uL3NyYy9jbGllbnQvc2NlbmUvR2FtZU92ZXJTY2VuZS5qcyIsIndlYnBhY2s6Ly9iaW9jbGVhbmVyLy4vc3JjL2NsaWVudC9zY2VuZS9Db250cm9sZXMuanMiLCJ3ZWJwYWNrOi8vYmlvY2xlYW5lci8uL3NyYy9jbGllbnQvc2NlbmUvQ29ubmVjdGlvbkxvc3RTY2VuZS5qcyIsIndlYnBhY2s6Ly9iaW9jbGVhbmVyLy4vc3JjL2NsaWVudC9zY2VuZS9NdWx0aXBsYXllckdhbWVTY2VuZS5qcyIsIndlYnBhY2s6Ly9iaW9jbGVhbmVyLy4vc3JjL2NsaWVudC9zY2VuZS9Mb2JieVNjZW5lLmpzIiwid2VicGFjazovL2Jpb2NsZWFuZXIvLi9zcmMvY2xpZW50L3NjZW5lL0xvY2Fsb09ubGluZVNlbGVjY2lvbi5qcyIsIndlYnBhY2s6Ly9iaW9jbGVhbmVyLy4vc3JjL2NsaWVudC9zY2VuZS9Mb2dpbi5qcyIsIndlYnBhY2s6Ly9iaW9jbGVhbmVyLy4vc3JjL2NsaWVudC9zY2VuZS9TdGFydFNjcmVlbi5qcyIsIndlYnBhY2s6Ly9iaW9jbGVhbmVyLy4vc3JjL2NsaWVudC9HbG9iYWxTZXR0aW5nUGx1Z2luLmpzIiwid2VicGFjazovL2Jpb2NsZWFuZXIvLi9zcmMvY2xpZW50L0JyaWdodG5lc3NQbHVnaW4uanMiLCJ3ZWJwYWNrOi8vYmlvY2xlYW5lci8uL3NyYy9jbGllbnQvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IFBoYXNlcjsiLCIvKipcclxuICogU2VydmljaW8gcGFyYSBnZXN0aW9uYXIgbGEgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxyXG4gKiBNYW5lamEgZWwgcG9sbGluZyBhbCBlbmRwb2ludCAvYXBpL2Nvbm5lY3RlZCB5IGRldGVjdGEgcMOpcmRpZGFzIGRlIGNvbmV4acOzblxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbm5lY3Rpb25NYW5hZ2VyIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuY29ubmVjdGVkQ291bnQgPSAxO1xyXG4gICAgdGhpcy5pc0Nvbm5lY3RlZCA9IHRydWU7XHJcbiAgICB0aGlzLmxhc3RDaGVja1RpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgdGhpcy5jaGVja0ludGVydmFsID0gMjAwMDsgLy8gQ29tcHJvYmFyIGNhZGEgMiBzZWd1bmRvc1xyXG4gICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcclxuICAgIHRoaXMuc2Vzc2lvbklkID0gdGhpcy5nZW5lcmF0ZVNlc3Npb25JZCgpO1xyXG4gICAgdGhpcy5pbnRlcnZhbElkID0gbnVsbDtcclxuXHJcbiAgICAvLyBJbmljaWFyIGVsIHBvbGxpbmcgYXV0b23DoXRpY29cclxuICAgIC8vIHRoaXMuc3RhcnRQb2xsaW5nKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmFyIHVuIElEIMO6bmljbyBkZSBzZXNpw7NuIHBhcmEgZXN0ZSBjbGllbnRlXHJcbiAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgKi9cclxuICBnZW5lcmF0ZVNlc3Npb25JZCgpIHtcclxuICAgIHJldHVybiBgc2Vzc2lvbl8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb21wcm9iYXIgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHtjb25uZWN0ZWQ6IG51bWJlciwgc3VjY2VzczogYm9vbGVhbn0+fVxyXG4gICAqL1xyXG4gIGFzeW5jIGNoZWNrQ29ubmVjdGlvbigpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvY29ubmVjdGVkJywge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWRcclxuICAgICAgICB9KVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IGRhdGEuY29ubmVjdGVkO1xyXG4gICAgICAgIHRoaXMuaXNDb25uZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubGFzdENoZWNrVGltZSA9IERhdGUubm93KCk7XHJcblxyXG4gICAgICAgIC8vIE5vdGlmaWNhciBhIGxvcyBsaXN0ZW5lcnNcclxuICAgICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyh7IGNvbm5lY3RlZDogdHJ1ZSwgY291bnQ6IHRoaXMuY29ubmVjdGVkQ291bnQgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogdGhpcy5jb25uZWN0ZWRDb3VudCwgc3VjY2VzczogdHJ1ZSB9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogMCwgc3VjY2VzczogZmFsc2UgfTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2hlY2tpbmcgY29ubmVjdGlvbjonLCBlcnJvcik7XHJcbiAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICByZXR1cm4geyBjb25uZWN0ZWQ6IDAsIHN1Y2Nlc3M6IGZhbHNlIH07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBNYW5lamFyIGRlc2NvbmV4acOzblxyXG4gICAqL1xyXG4gIGhhbmRsZURpc2Nvbm5lY3Rpb24oKSB7XHJcbiAgICB0aGlzLmlzQ29ubmVjdGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmNvbm5lY3RlZENvdW50ID0gMDtcclxuICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKHsgY29ubmVjdGVkOiBmYWxzZSwgY291bnQ6IDAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWdpc3RyYXIgdW4gbGlzdGVuZXIgcGFyYSBjYW1iaW9zIGRlIGNvbmV4acOzblxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gRnVuY2nDs24gcXVlIHNlIGxsYW1hcsOhIGN1YW5kbyBjYW1iaWUgZWwgZXN0YWRvXHJcbiAgICovXHJcbiAgYWRkTGlzdGVuZXIoY2FsbGJhY2spIHtcclxuICAgIHRoaXMubGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRWxpbWluYXIgdW4gbGlzdGVuZXJcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmNpw7NuIGEgZWxpbWluYXJcclxuICAgKi9cclxuICByZW1vdmVMaXN0ZW5lcihjYWxsYmFjaykge1xyXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKTtcclxuICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBOb3RpZmljYXIgYSB0b2RvcyBsb3MgbGlzdGVuZXJzXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBEYXRvcyBkZWwgZXN0YWRvIGRlIGNvbmV4acOzblxyXG4gICAqL1xyXG4gIG5vdGlmeUxpc3RlbmVycyhkYXRhKSB7XHJcbiAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyKGRhdGEpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE9idGVuZXIgZWwgZXN0YWRvIGFjdHVhbCBkZSBjb25leGnDs25cclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gICAqL1xyXG4gIGdldFN0YXR1cygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlzQ29ubmVjdGVkOiB0aGlzLmlzQ29ubmVjdGVkLFxyXG4gICAgICBjb25uZWN0ZWRDb3VudDogdGhpcy5jb25uZWN0ZWRDb3VudCxcclxuICAgICAgbGFzdENoZWNrVGltZTogdGhpcy5sYXN0Q2hlY2tUaW1lXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5pY2lhciBlbCBwb2xsaW5nIGF1dG9tw6F0aWNvIGRlIGNvbmV4acOzblxyXG4gICAqL1xyXG4gIHN0YXJ0UG9sbGluZygpIHtcclxuICAgIGlmICh0aGlzLmludGVydmFsSWQpIHtcclxuICAgICAgcmV0dXJuOyAvLyBZYSBlc3TDoSBjb3JyaWVuZG9cclxuICAgIH1cclxuXHJcbiAgICAvLyBDb21wcm9iYXIgaW5tZWRpYXRhbWVudGVcclxuICAgIHRoaXMuY2hlY2tDb25uZWN0aW9uKCk7XHJcblxyXG4gICAgLy8gTHVlZ28gY29tcHJvYmFyIGNhZGEgWCBzZWd1bmRvc1xyXG4gICAgdGhpcy5pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICB0aGlzLmNoZWNrQ29ubmVjdGlvbigpO1xyXG4gICAgfSwgdGhpcy5jaGVja0ludGVydmFsKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERldGVuZXIgZWwgcG9sbGluZyBhdXRvbcOhdGljb1xyXG4gICAqL1xyXG4gIHN0b3BQb2xsaW5nKCkge1xyXG4gICAgaWYgKHRoaXMuaW50ZXJ2YWxJZCkge1xyXG4gICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCk7XHJcbiAgICAgIHRoaXMuaW50ZXJ2YWxJZCA9IG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyBDcmVhciBpbnN0YW5jaWEgc2luZ2xldG9uXHJcbmV4cG9ydCBjb25zdCBjb25uZWN0aW9uTWFuYWdlciA9IG5ldyBDb25uZWN0aW9uTWFuYWdlcigpO1xyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuaW1wb3J0IHsgY29ubmVjdGlvbk1hbmFnZXIgfSBmcm9tICcuLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlcic7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIE1lbnVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTWVudVNjZW5lJylcclxuICAgIH1cclxuICAgIHByZWxvYWQoKSB7XHJcblxyXG4gICAgICAgIC8vTcO6c2ljYVxyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnbXVzaWNhX2ZvbmRvJywgJ2Fzc2V0cy9Tb25pZG8vbXVzaWNhTWVudS5tcDMnKTtcclxuXHJcbiAgICAgICAgLy9Bc3NldHNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvTWVudScsICdhc3NldHMvRm9uZG9zL2ZvbmRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25KdWdhcicsICdhc3NldHMvQm90b25lcy9lbXBlemFyLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25BanVzdGVzJywgJ2Fzc2V0cy9Cb3RvbmVzL2FqdXN0ZXMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbkNvbnRyb2xlcycsICdhc3NldHMvQm90b25lcy9jb250cm9sZXMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbkNyZWRpdG9zJywgJ2Fzc2V0cy9Cb3RvbmVzL2NyZWRpdG9zLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncXVva2thJywgJ2Fzc2V0cy9RdW9ra2EvcXVva2thX2Zyb250X3ZpZXcucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCduYXJ2YWwnLCAnYXNzZXRzL05hcnZhbC9uYXJ2YWxfdG9wX3ZpZXcucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdsb2dvJywgJ2Fzc2V0cy9JdGVtcy9sb2dvLnBuZycpXHJcblxyXG4gICAgfVxyXG4gICAgY3JlYXRlKCkge1xyXG5cclxuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IHRoaXMucGx1Z2lucy5nZXQoXCJHbG9iYWxTZXR0aW5nc1wiKTsgICAvL0xvcyBzY3JpcHRzIHBhcmEgY29udHJvbGFyIGVsIGJyaWxsbyB5IGxhIG3DunNpY2FcclxuXHJcbiAgICAgICAgY29uc3QgYnJpZ2h0bmVzcyA9IHRoaXMucGx1Z2lucy5nZXQoXCJCcmlnaHRuZXNzXCIpO1xyXG4gICAgICAgIGJyaWdodG5lc3MuYXBwbHlUb1NjZW5lKHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLmZpcnN0Q2xpY2tEb25lID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vTcO6c2ljYVxyXG4gICAgICAgIHRoaXMubXVzaWNhID0gdGhpcy5zb3VuZC5hZGQoXCJtdXNpY2FfZm9uZG9cIiwge1xyXG4gICAgICAgICAgICB2b2x1bWU6IHNldHRpbmdzLmdldE11c2ljVm9sdW1lKCksXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5tdXNpY2EucGxheSgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKFwic2h1dGRvd25cIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5tdXNpY2EpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVzaWNhLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVzaWNhLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmV2ZW50cy5vbihcInJlc3VtZVwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHYgPSBzZXR0aW5ncy5nZXRNdXNpY1ZvbHVtZSgpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5tdXNpY2EpIHRoaXMubXVzaWNhLnNldFZvbHVtZSh2KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDAwLCAzMDAsICdmb25kb01lbnUnKS5zZXRPcmlnaW4oMC41KTsgLy9Bw7FhZGltb3MgdW4gZm9uZG9cclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsNTAsICdCaW9jbGVhbmVyJywgICAgLy9Ob21icmUgZGVsIGp1ZWdvXHJcbiAgICAgICAgeyAgIFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiBcImFhYWFhXCIsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2UxZTY3NCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsMTI1LCAnTGEgY2FycmVyYSBkZSBRdW9ra2EgVlMgTmFydmFsJywgICAgICAgIC8vRXNsb2dhblxyXG4gICAgICAgIHsgICBcclxuICAgICAgICAgICAgZm9udEZhbWlseTogXCJhYWFhYVwiLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNlMWU2NzQnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGxvY2FsQnRuID0gdGhpcy5hZGQuaW1hZ2UoMzUwLCAyMDAsICdib3Rvbkp1Z2FyJykuc2V0T3JpZ2luKDAuNSkgICAgIC8vQm90w7NuIHF1ZSBsbGV2YSBhIGxhIHBhbnRhbGxhIGRlIGp1ZWdvXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHt1c2VIYW5kQ3Vyc29yOiB0cnVlfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdHYW1lU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIGNvbnN0IGNyZWRpdG9zID0gdGhpcy5hZGQuaW1hZ2UoMzUwLCA0MDAsICdib3RvbkNyZWRpdG9zJykuc2V0T3JpZ2luKDAuNSkgICAvL0JvdMOzbiBxdWUgbGxldmEgYSBsYSBwYW50YWxsYSBkZSBjcsOpZGl0b3NcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoe3VzZUhhbmRDdXJzb3I6IHRydWV9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0NyZWRpdG9zJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGFqdXN0ZXMgPSB0aGlzLmFkZC5pbWFnZSg0NTAsIDMwMCwgJ2JvdG9uQWp1c3RlcycpLnNldE9yaWdpbigwLjUpICAgICAvL0JvdMOzbiBxdWUgbGxldmEgYSBsYSBwYW50YWxsYSBkZSBhanVzdGVzXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHt1c2VIYW5kQ3Vyc29yOiB0cnVlfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KFwiQWp1c3Rlc1wiLCB7IHByZXZpb3VzU2NlbmU6IFwiTWVudVNjZW5lXCIgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICBjb25zdCBjb250cm9sZXMgPSB0aGlzLmFkZC5pbWFnZSg0NTAsIDUwMCwgJ2JvdG9uQ29udHJvbGVzJykuc2V0T3JpZ2luKDAuNSkgICAgIC8vQm90w7NuIHF1ZSBsbGV2YSBhIGxhIHBhbnRhbGxhIGRlIGNvbnRyb2xlc1xyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7dXNlSGFuZEN1cnNvcjogdHJ1ZX0pXHJcbiAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydChcIkNvbnRyb2xlc1wiLCB7IHByZXZpb3VzU2NlbmU6IFwiTWVudVNjZW5lXCIgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgLy9EZWNvcmFjacOzblxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDEwLCA1NTAsICdxdW9ra2EnKS5zZXRPcmlnaW4oMC41KS5zZXREaXNwbGF5U2l6ZSgzMDAsNDAwKTtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3OTAsIDQ1MCwgJ25hcnZhbCcpLnNldE9yaWdpbigwLjUpLnNldERpc3BsYXlTaXplKDMwMCw0MDApO1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCwgMjAwLCAnbG9nbycpO1xyXG5cclxuICAgICAgICAvLyBJbmRpY2Fkb3IgZGUgY29uZXhpw7NuIGFsIHNlcnZpZG9yXHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dCA9IHRoaXMuYWRkLnRleHQoNDAwLCA1NzAsICdTZXJ2aWRvcjogQ29tcHJvYmFuZG8uLi4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdhYWFhYScsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmYwMCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICAvLyBMaXN0ZW5lciBwYXJhIGNhbWJpb3MgZGUgY29uZXhpw7NuXHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uTGlzdGVuZXIgPSAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbm5lY3Rpb25EaXNwbGF5KGRhdGEpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIuYWRkTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICAvLyBSZW1vdmVyIGVsIGxpc3RlbmVyXHJcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkgeyAvL0VuIGVzdGUgdXBkYXRlIHNlIGFjdHVhbGl6YSBlbCBicmlsbG9cclxuICAgICAgICBjb25zdCBicmlnaHRuZXNzID0gdGhpcy5wbHVnaW5zLmdldChcIkJyaWdodG5lc3NcIik7XHJcbiAgICAgICAgYnJpZ2h0bmVzcy51cGRhdGVPdmVybGF5KHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUNvbm5lY3Rpb25EaXNwbGF5KGRhdGEpIHtcclxuICAgICAgICAvLyBTb2xvIGFjdHVhbGl6YXIgc2kgZWwgdGV4dG8gZXhpc3RlIChsYSBlc2NlbmEgZXN0w6EgY3JlYWRhKVxyXG4gICAgICAgIGlmICghdGhpcy5jb25uZWN0aW9uVGV4dCB8fCAhdGhpcy5zY2VuZSB8fCAhdGhpcy5zY2VuZS5pc0FjdGl2ZSgnTWVudVNjZW5lJykpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuY29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldFRleHQoYFNlcnZpZG9yOiAke2RhdGEuY291bnR9IHVzdWFyaW8ocykgY29uZWN0YWRvKHMpYCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldEZvbnRGYW1pbHkoJ2FhYWFhJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldENvbG9yKCcjMDBmZjAwJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldFRleHQoJ1NlcnZpZG9yOiBEZXNjb25lY3RhZG8nKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQuc2V0Rm9udEZhbWlseSgnYWFhYWEnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tNZW51U2NlbmVdIEVycm9yIHVwZGF0aW5nIGNvbm5lY3Rpb24gZGlzcGxheTonLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufSIsImV4cG9ydCBjbGFzcyBQZXJzb25hamVzIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgaWQsIHgsIHkpIHtcclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuc2NvcmUgPSAwO1xyXG4gICAgICAgIHRoaXMuYmFzZVNwZWVkID0gMzAwO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vVmFyaWFibGVzIHBhcmEgY29udHJvbGFyIGFuaW1hY2lvbmVzXHJcbiAgICAgICAgdGhpcy5sYXN0RGlyZWN0aW9uID0gbnVsbDtcclxuICAgICAgICB0aGlzLmlzQW5pbWF0aW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSAoaWQgPT09IFwicGxheWVyMVwiKSA/IFwicXVva2thRnJlbnRlXCIgOiBcIm5hcnZhbEZyZW50ZVwiO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksIHRleHR1cmUsIDApO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRTY2FsZSgwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZUhpdGJveCgpO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRDb2xsaWRlV29ybGRCb3VuZHModHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVIaXRib3goKSB7XHJcbiAgICAgICAgY29uc3QgYm9keSA9IHRoaXMuc3ByaXRlLmJvZHk7XHJcbiAgICAgICAgYm9keS5zZXRTaXplKHRoaXMuc3ByaXRlLndpZHRoLCB0aGlzLnNwcml0ZS5oZWlnaHQsIHRydWUpOyBcclxuICAgIH1cclxuXHJcbiAgICBzZXRTcHJpdGUoZGlyZWN0aW9uLCBpc01vdmluZyA9IHRydWUpIHtcclxuICAgICAgICBjb25zdCBib29zdGVkID0gdGhpcy5zY2VuZS5wb3dlclVwQWN0aXZlICYmIHRoaXMuc2NlbmUucG93ZXJVcEFjdGl2ZVt0aGlzLmlkXTtcclxuICAgICAgICBjb25zdCByb290ZWQgPSB0aGlzLnNjZW5lLnN0aWNreUFjdGl2ZSAmJiB0aGlzLnNjZW5lLnN0aWNreUFjdGl2ZVt0aGlzLmlkXTtcclxuXHJcbiAgICAgICAgLy8gU2kgZXN0w6EgcGVnYWRvIChyb290ZWQpLCBtb3N0cmFyIHRleHR1cmEgZXN0w6F0aWNhXHJcbiAgICAgICAgaWYocm9vdGVkKXtcclxuICAgICAgICAgICAgY29uc3QgdGV4dHVyZSA9ICh0aGlzLmlkID09PSBcInBsYXllcjFcIikgPyAncHJpbmd1ZVF1b2trYScgOiAncHJpbmd1ZU5hcnZhbCc7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNwcml0ZS50ZXh0dXJlLmtleSAhPT0gdGV4dHVyZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VGV4dHVyZSh0ZXh0dXJlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3ByaXRlLmFuaW1zLnN0b3AoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmJhc2VTcGVlZCA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuaXNBbmltYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2kgbm8gZXN0w6EgcGVnYWRvLCB2ZWxvY2lkYWQgbm9ybWFsXHJcbiAgICAgICAgdGhpcy5iYXNlU3BlZWQgPSAzMDA7XHJcbiAgICAgICAgbGV0IGFuaW1LZXk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlkID09PSBcInBsYXllcjFcIikgeyBcclxuICAgICAgICAgICAgaWYgKCFib29zdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBBTklNQUNJT05FUyBOT1JNQUxFU1xyXG4gICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gXCJ1cFwiKSBhbmltS2V5ID0gXCJxdW9ra2Ffd2Fsa19iYWNrXCI7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkaXJlY3Rpb24gPT09IFwiZG93blwiKSBhbmltS2V5ID0gXCJxdW9ra2Ffd2Fsa19mcm9udFwiO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZGlyZWN0aW9uID09PSBcImxlZnRcIikgYW5pbUtleSA9IFwicXVva2thX3dhbGtfbGVmdFwiO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZGlyZWN0aW9uID09PSBcInJpZ2h0XCIpIGFuaW1LZXkgPSBcInF1b2trYV93YWxrX3JpZ2h0XCI7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGFuaW1LZXkgPSBcInF1b2trYV93YWxrX2Zyb250XCI7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBBTklNQUNJT05FUyBQT1dFUiBVUFxyXG4gICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gXCJ1cFwiKSBhbmltS2V5ID0gXCJxdW9ra2Ffd2Fsa19iYWNrUFwiO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZGlyZWN0aW9uID09PSBcImRvd25cIikgYW5pbUtleSA9IFwicXVva2thX3dhbGtfZnJvbnRQXCI7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkaXJlY3Rpb24gPT09IFwibGVmdFwiKSBhbmltS2V5ID0gXCJxdW9ra2Ffd2Fsa19sZWZ0UFwiO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZGlyZWN0aW9uID09PSBcInJpZ2h0XCIpIGFuaW1LZXkgPSBcInF1b2trYV93YWxrX3JpZ2h0UFwiO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBhbmltS2V5ID0gXCJxdW9ra2Ffd2Fsa19mcm9udFBcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7IFxyXG4gICAgICAgICAgICBpZiAoIWJvb3N0ZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIEFOSU1BQ0lPTkVTIE5PUk1BTEVTXHJcbiAgICAgICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBcInVwXCIpIGFuaW1LZXkgPSBcIm5hcnZhbF93YWxrX2JhY2tcIjtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gXCJkb3duXCIpIGFuaW1LZXkgPSBcIm5hcnZhbF93YWxrX2Zyb250XCI7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkaXJlY3Rpb24gPT09IFwibGVmdFwiKSBhbmltS2V5ID0gXCJuYXJ2YWxfd2Fsa19sZWZ0XCI7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkaXJlY3Rpb24gPT09IFwicmlnaHRcIikgYW5pbUtleSA9IFwibmFydmFsX3dhbGtfcmlnaHRcIjtcclxuICAgICAgICAgICAgICAgIGVsc2UgYW5pbUtleSA9IFwibmFydmFsX3dhbGtfZnJvbnRcIjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIEFOSU1BQ0lPTkVTIFBPV0VSIFVQXHJcbiAgICAgICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBcInVwXCIpIGFuaW1LZXkgPSBcIm5hcnZhbF93YWxrX2JhY2tQXCI7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkaXJlY3Rpb24gPT09IFwiZG93blwiKSBhbmltS2V5ID0gXCJuYXJ2YWxfd2Fsa19mcm9udFBcIjtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gXCJsZWZ0XCIpIGFuaW1LZXkgPSBcIm5hcnZhbF93YWxrX2xlZnRQXCI7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkaXJlY3Rpb24gPT09IFwicmlnaHRcIikgYW5pbUtleSA9IFwibmFydmFsX3dhbGtfcmlnaHRQXCI7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGFuaW1LZXkgPSBcIm5hcnZhbF93YWxrX2Zyb250UFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBNYW5lamFyIGFuaW1hY2lvbmVzXHJcbiAgICAgICAgaWYgKGlzTW92aW5nKSB7XHJcbiAgICAgICAgICAgIC8vIFNvbG8gcmVwcm9kdWNpciBzaSBjYW1iacOzIGxhIGRpcmVjY2nDs24gbyBubyBlc3RhYmEgYW5pbWFuZG9cclxuICAgICAgICAgICAgaWYgKHRoaXMubGFzdERpcmVjdGlvbiAhPT0gZGlyZWN0aW9uIHx8ICF0aGlzLmlzQW5pbWF0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZS5wbGF5KGFuaW1LZXksIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0FuaW1hdGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3REaXJlY3Rpb24gPSBkaXJlY3Rpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBEZXRlbmVyIHNvbG8gc2kgZXN0YWJhIGFuaW1hbmRvXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzQW5pbWF0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZS5hbmltcy5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRGcmFtZSgwKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNBbmltYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5pbXBvcnQgeyBQZXJzb25hamVzIH0gZnJvbSBcIi4uL2VudGl0aWVzL1BlcnNvbmFqZXMuanNcIjtcclxuaW1wb3J0IHsgY29ubmVjdGlvbk1hbmFnZXIgfSBmcm9tICcuLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlcic7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZXtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdHYW1lU2NlbmUnKVxyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcblxyXG4gICAgICAgIC8vRm9uZG9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ2Fzc2V0cy9Gb25kb3MvZm9uZG9fanVlZ28ucG5nJyk7IFxyXG5cclxuICAgICAgICAvL0l0ZW1zXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdiYXN1cmEnLCAnYXNzZXRzL0l0ZW1zL2Jhc3VyYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3ZlcnRpZG8nLCAnYXNzZXRzL0l0ZW1zL2Jhc3VyYV90aWVycmExLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndmVydGlkbzEnLCAnYXNzZXRzL0l0ZW1zL3Jlc2lkdW9fdG94aWNvX2FndWEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwcmluZ3VlJywgJ2Fzc2V0cy9JdGVtcy9jdWJvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG93ZXJRdW9rYScsICdhc3NldHMvSXRlbXMvYmF5YXMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb3dlck5hcnZhbCcsICdhc3NldHMvSXRlbXMvcGV6LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndG94aWNBZ3VhJywgJ2Fzc2V0cy9JdGVtcy9yZXNpZHVvX3RveGljb19hZ3VhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndG94aWNvVGllcnJhJywgJ2Fzc2V0cy9JdGVtcy9iYXN1cmFfdGllcnJhMS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy9RdW9ra2FcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3F1b2trYUZyZW50ZScsICdhc3NldHMvUXVva2thL3F1b2trYV9mcm9udF92aWV3X2FuaW1hdGlvbi5wbmcnLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6MjU2LFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogMjU2XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdxdW9ra2FBdHJhcycsICdhc3NldHMvUXVva2thL3F1b2trYV9iYWNrX3ZpZXdfYW5pbWF0aW9uLnBuZycsIHtcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDoyNTYsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiAyNTZcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3F1b2trYUl6cXVpZXJkYScsICdhc3NldHMvUXVva2thL3F1b2trYV9zaWRlMl92aWV3LWFuaW1hdGlvbi5wbmcnLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6MjU2LFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogMjU2XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdxdW9ra2FEZXJlY2hhJywgJ2Fzc2V0cy9RdW9ra2EvcXVva2thX3NpZGUxX3ZpZXctYW5pbWF0aW9uLnBuZycsIHtcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDoyNTYsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiAyNTZcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9Db24gUG93ZXJVcHNcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdxdW9ra2FGcmVudGVQJywgJ2Fzc2V0cy9RdW9ra2EvcXVva2thX2Zyb250X3IucG5nJywge1xyXG4gICAgICAgICAgICBmcmFtZVdpZHRoOjI1NixcclxuICAgICAgICAgICAgZnJhbWVIZWlnaHQ6IDI1NlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgncXVva2thQXRyYXNQJywgJ2Fzc2V0cy9RdW9ra2EvcXVva2thX2JhY2tfci5wbmcnLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6MjU2LFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogMjU2XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdxdW9ra2FJenF1aWVyZGFQJywgJ2Fzc2V0cy9RdW9ra2EvcXVva2thX2l6cXVpX3IucG5nJywge1xyXG4gICAgICAgICAgICBmcmFtZVdpZHRoOjI1NixcclxuICAgICAgICAgICAgZnJhbWVIZWlnaHQ6IDI1NlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgncXVva2thRGVyZWNoYVAnLCAnYXNzZXRzL1F1b2trYS9xdW9ra2FfZGVyZWNoX3IucG5nJywge1xyXG4gICAgICAgICAgICBmcmFtZVdpZHRoOjI1NixcclxuICAgICAgICAgICAgZnJhbWVIZWlnaHQ6IDI1NlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0FmZWN0YWRvIHBvciBlbCBwcmluZ3VlXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwcmluZ3VlUXVva2thJywgJ2Fzc2V0cy9RdW9ra2EvYmFzdXJhX3RpZXJyYTMucG5nJyk7XHJcbiAgICAgICAgICAgICAgICBcclxuXHJcbiAgICAgICAgLy9OYXJ2YWxcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ25hcnZhbEZyZW50ZScsICdhc3NldHMvTmFydmFsL25hcnZhbF9kb3duX3ZpZXctYW5pbWF0aW9uLnBuZycsIHtcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDoyNTYsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiAyNTZcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ25hcnZhbEF0cmFzJywgJ2Fzc2V0cy9OYXJ2YWwvbmFydmFsX3RvcF92aWV3LWFuaW1hdGlvbi5wbmcnLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6MjU2LFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogMjU2XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCduYXJ2YWxJenF1aWVyZGEnLCAnYXNzZXRzL05hcnZhbC9uYXJ2YWxfc2lkZTJfdmlldy1hbmltYXRpb24ucG5nJywge1xyXG4gICAgICAgICAgICBmcmFtZVdpZHRoOjI1NixcclxuICAgICAgICAgICAgZnJhbWVIZWlnaHQ6IDI1NlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnbmFydmFsRGVyZWNoYScsICdhc3NldHMvTmFydmFsL25hcnZhbF9zaWRlMV92aWV3LWFuaW1hdGlvbi5wbmcnLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6MjU2LFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogMjU2XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vQ29uIFBvd2VyVXBzXHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnbmFydmFsRnJlbnRlUCcsICdhc3NldHMvTmFydmFsL25hcnZhbF9kb3duX3IucG5nJywge1xyXG4gICAgICAgICAgICBmcmFtZVdpZHRoOjI1NixcclxuICAgICAgICAgICAgZnJhbWVIZWlnaHQ6IDI1NlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnbmFydmFsQXRyYXNQJywgJ2Fzc2V0cy9OYXJ2YWwvbmFydmFsX2FycmliYV9yLnBuZycsIHtcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDoyNTYsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiAyNTZcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ25hcnZhbEl6cXVpZXJkYVAnLCAnYXNzZXRzL05hcnZhbC9uYXJ2YWxfaXpxdWlfci5wbmcnLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6MjU2LFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogMjU2XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCduYXJ2YWxEZXJlY2hhUCcsICdhc3NldHMvTmFydmFsL25hcnZhbF9kZXJlY2hfci5wbmcnLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6MjU2LFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogMjU2XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vQWZlY3RhZG8gcG9yIGVsIHByaW5ndWVcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3ByaW5ndWVOYXJ2YWwnLCAnYXNzZXRzL05hcnZhbC9yZXNpZHVvX3RveGljb19hZ3VhUy5wbmcnKTtcclxuXHJcbiAgICAgICAgLy9FZmVjdG9zIGRlIHNvbmlkb1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygncmVjb2dlckJhc3VyYScsICdhc3NldHMvU29uaWRvL3JlY29nZXJCYXN1cmEubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdwbGV1Z2gxJywgJ2Fzc2V0cy9Tb25pZG8vcGxldWdoLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygncGxldWdoMicsICdhc3NldHMvU29uaWRvL3BsdWgubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdwb3dlclVwU291bmQnLCAnYXNzZXRzL1Nvbmlkby9wb3dlclVwLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnZmluVGVtcG9yaXphZG9yJywgJ2Fzc2V0cy9Tb25pZG8vdGVtcDIubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdnYXZpb3RhJywgJ2Fzc2V0cy9Tb25pZG8vZ2F2aW90YS5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ211c2ljYV9qdWVnbycsICdhc3NldHMvU29uaWRvL0F1ZGlvIEp1ZWdvLm00YScpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgLy9JbmljaWFyIHZhcmlhYmxlc1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmlucHV0c01hcHBpbmcgPSBbXTtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lc2NXYXNEb3duID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5tb3ZpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNwaWxsR3JvdXAgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc3BpbGxTcGF3blRpbWVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLnRyYXNoR3JvdXAgPSBudWxsO1xyXG4gICAgICAgIHRoaXMudHJhc2hTcGF3blRpbWVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLmludmVydEdyb3VwID0gbnVsbDtcclxuICAgICAgICB0aGlzLnN0aWNreVNwYXduVGltZXIgPSB7XHJcbiAgICAgICAgICAgIHBsYXllcjE6IG51bGwsXHJcbiAgICAgICAgICAgIHBsYXllcjI6IG51bGxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuc3RpY2t5R3JvdXAgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc3RpY2t5QWN0aXZlID0ge1xyXG4gICAgICAgICAgICBwbGF5ZXIxOiBmYWxzZSxcclxuICAgICAgICAgICAgcGxheWVyMjogZmFsc2VcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMucG93ZXJVcEFjdGl2ZSA9IHtcclxuICAgICAgICAgICAgcGxheWVyMTogZmFsc2UsXHJcbiAgICAgICAgICAgIHBsYXllcjI6IGZhbHNlXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5wb3dlclVwVGltZXJzID0ge1xyXG4gICAgICAgICAgICBwbGF5ZXIxOiBudWxsLFxyXG4gICAgICAgICAgICBwbGF5ZXIyOiBudWxsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnZlcnRDb250cm9scyA9IHtcclxuICAgICAgICAgICAgcGxheWVyMTogZmFsc2UsXHJcbiAgICAgICAgICAgIHBsYXllcjI6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucG93ZXJVcEdyb3VwID0gbnVsbDtcclxuICAgIH0gXHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vYcOxYWRpciBmb25kbyB5IHN1IGJyaWxsb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQwMCwgMzAwLCAnZm9uZG8nKS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgIGNvbnN0IGJyaWdodG5lc3MgPSB0aGlzLnBsdWdpbnMuZ2V0KFwiQnJpZ2h0bmVzc1wiKTtcclxuICAgICAgICBicmlnaHRuZXNzLmFwcGx5VG9TY2VuZSh0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVBbmltYXRpb25zKCk7XHJcbiAgICAgICAgLy8gVGV4dG8gUHVudHVhY2lvblxyXG4gICAgICAgIHRoaXMuc2NvcmVRdW9rYSA9IHRoaXMuYWRkLnRleHQoMTAwLCAzMCwgJzAnLCB7XHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiYWFhYWFcIixcclxuICAgICAgICAgICAgZm9udFNpemU6ICczOHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZDlkZjVkZmYnLFxyXG4gICAgICAgICAgICBmaXhlZFdpZHRoOiAxMjAsXHJcbiAgICAgICAgICAgIGFsaWduOiAnbGVmdCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMCwgMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5zY29yZU5hcnZhbCA9IHRoaXMuYWRkLnRleHQoNzAwLCAzMCwgJzAnLCB7XHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiYWFhYWFcIixcclxuICAgICAgICAgICAgZm9udFNpemU6ICczOHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZDlkZjVkZmYnLFxyXG4gICAgICAgICAgICBmaXhlZFdpZHRoOiAxMjAsXHJcbiAgICAgICAgICAgIGFsaWduOiAncmlnaHQnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDEsIDAuNSk7XHJcblxyXG4gICAgICAgIC8vY3JlYXIgbGltaXRlcyBkZSBsb3MganVnYWRvcmVzIHkgcHJlcGFyYXIgZGljaG9zIGp1Z2Fkb3Jlc1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQm91bmRzKCk7XHJcbiAgICAgICAgdGhpcy5zZXRVcFBMYXllcnMoKTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuZXNjS2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkVTQyk7XHJcblxyXG5cclxuICAgICAgICAvL1RlbXBvcml6YWRvciBkZSAyIG1pbnV0b3NcclxuICAgICAgICB0aGlzLnRpbWVMZWZ0ID0gMTIwOyAvLyAyIG1pbnV0b3NcclxuICAgICAgICB0aGlzLnRpbWVyVGV4dCA9IHRoaXMuYWRkLnRleHQoMjc4LCAxNywgXCJUaWVtcG86IDEyMFwiLCB7XHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiYWFhYWFcIixcclxuICAgICAgICAgICAgZm9udFNpemU6IFwiMjRweFwiLFxyXG4gICAgICAgICAgICBjb2xvcjogXCIjOWRhMjNjZmZcIlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBFdmVudG8gcXVlIHNlIGVqZWN1dGEgY2FkYSBzZWd1bmRvXHJcbiAgICAgICAgdGhpcy50aW1lckV2ZW50ID0gdGhpcy50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICAgICAgZGVsYXk6IDEwMDAsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiB0aGlzLnVwZGF0ZVRpbWVyLFxyXG4gICAgICAgICAgICBjYWxsYmFja1Njb3BlOiB0aGlzLFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vR2VuZXJhY2nDs24gZGUgcHJpbmd1ZVxyXG4gICAgICAgIHRoaXMuc3RpY2t5R3JvdXAgPSB0aGlzLnBoeXNpY3MuYWRkLmdyb3VwKCk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RpY2t5U3Bhd25UaW1lciA9IHRoaXMudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgIGRlbGF5OiAxMDAwMCxcclxuICAgICAgICAgICAgY2FsbGJhY2s6IHRoaXMuc3Bhd25TdGlja3ksXHJcbiAgICAgICAgICAgIGNhbGxiYWNrU2NvcGU6IHRoaXMsXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vR2VuZXJhY2nDs24gZGUgYmFzdXJhXHJcbiAgICAgICAgdGhpcy50cmFzaEdyb3VwID0gdGhpcy5waHlzaWNzLmFkZC5ncm91cCgpO1xyXG5cclxuICAgICAgICB0aGlzLnRyYXNoU3Bhd25UaW1lciA9IHRoaXMudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgIGRlbGF5OiA3MDAsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiB0aGlzLnNwYXduVHJhc2gsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrU2NvcGU6IHRoaXMsXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9HZW5lcmFjacOzbiBkZSBQb3dlciBVcHNcclxuICAgICAgICB0aGlzLnBvd2VyVXBHcm91cCA9IHRoaXMucGh5c2ljcy5hZGQuZ3JvdXAoKTtcclxuXHJcbiAgICAgICAgdGhpcy50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICAgICAgZGVsYXk6IDUwMDAsIFxyXG4gICAgICAgICAgICBjYWxsYmFjazogdGhpcy50cnlTcGF3blBvd2VyVXAsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrU2NvcGU6IHRoaXMsXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWVcclxuICAgICAgICB9KTsgXHJcblxyXG4gICAgICAgIC8vR2VuZXJhY2nDs24gZGUgdmVydGlkb3NcclxuICAgICAgICB0aGlzLnNwaWxsR3JvdXAgPSB0aGlzLnBoeXNpY3MuYWRkLmdyb3VwKCk7XHJcblxyXG4gICAgICAgIHRoaXMuc3BpbGxTcGF3blRpbWVyID0gdGhpcy50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICAgICAgZGVsYXk6IDUwMDAsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiB0aGlzLnNwYXduU3BpbGwsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrU2NvcGU6IHRoaXMsXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnZlcnRHcm91cCA9IHRoaXMucGh5c2ljcy5hZGQuZ3JvdXAoKTtcclxuXHJcbiAgICAgICAgdGhpcy50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICAgICAgZGVsYXk6IDUwMDAsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiB0aGlzLnRyeVNwYXduSW52ZXJ0ZWQsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrU2NvcGU6IHRoaXMsXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9Tb25pZG8gZGUgZ2F2aW90YVxyXG4gICAgICAgIHRoaXMuc2VhZ3VsbFNvdW5kVGltZXIgPSB0aGlzLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICAgICAgICBkZWxheTogMTUwMDAsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiB0aGlzLnRyeVBsYXlTb3VuZCxcclxuICAgICAgICAgICAgY2FsbGJhY2tTY29wZTogdGhpcyxcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZVxyXG4gICAgICAgIH0pXHJcblxyXG5cclxuICAgICAgICAvLy8gRWZlY3RvcyBkZSBzb25pZG9cclxuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IHRoaXMucGx1Z2lucy5nZXQoXCJHbG9iYWxTZXR0aW5nc1wiKTtcclxuICAgICAgICBjb25zdCBzZnhWb2wgPSBzZXR0aW5ncy5nZXRTZnhWb2x1bWUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWNvZ2VyQmFzdXJhID0gdGhpcy5zb3VuZC5hZGQoJ3JlY29nZXJCYXN1cmEnLCB7XHJcbiAgICAgICAgICAgIHZvbHVtZTogc2Z4Vm9sLFxyXG4gICAgICAgICAgICBsb29wOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGxldWdoMSA9IHRoaXMuc291bmQuYWRkKCdwbGV1Z2gxJywge1xyXG4gICAgICAgICAgICB2b2x1bWU6IHNmeFZvbCxcclxuICAgICAgICAgICAgbG9vcDogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBsZXVnaDIgPSB0aGlzLnNvdW5kLmFkZCgncGxldWdoMicsIHtcclxuICAgICAgICAgICAgdm9sdW1lOiBzZnhWb2wsXHJcbiAgICAgICAgICAgIGxvb3A6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wb3dlclVwU291bmQgPSB0aGlzLnNvdW5kLmFkZCgncG93ZXJVcFNvdW5kJywge1xyXG4gICAgICAgICAgICB2b2x1bWU6IHNmeFZvbCxcclxuICAgICAgICAgICAgbG9vcDogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnRpZW1wb011ZXJ0byA9IHRoaXMuc291bmQuYWRkKCdmaW5UZW1wb3JpemFkb3InLCB7XHJcbiAgICAgICAgICAgIHZvbHVtZTogc2Z4Vm9sLFxyXG4gICAgICAgICAgICBsb29wOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZ2F2aW90YSA9IHRoaXMuc291bmQuYWRkKCdnYXZpb3RhJyx7XHJcbiAgICAgICAgICAgIHZvbHVtZTogc2Z4Vm9sLzIwLFxyXG4gICAgICAgICAgICBsb29wOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oXCJyZXN1bWVcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzZXR0aW5ncyA9IHRoaXMucGx1Z2lucy5nZXQoXCJHbG9iYWxTZXR0aW5nc1wiKTtcclxuICAgICAgICAgICAgY29uc3QgdiA9IHNldHRpbmdzLmdldFNmeFZvbHVtZSgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWNvZ2VyQmFzdXJhLnNldFZvbHVtZSh2KTtcclxuICAgICAgICAgICAgdGhpcy5wbGV1Z2gxLnNldFZvbHVtZSh2KTtcclxuICAgICAgICAgICAgdGhpcy5wbGV1Z2gyLnNldFZvbHVtZSh2KTtcclxuICAgICAgICAgICAgdGhpcy5wb3dlclVwU291bmQuc2V0Vm9sdW1lKHYpO1xyXG4gICAgICAgICAgICB0aGlzLnRpZW1wb011ZXJ0by5zZXRWb2x1bWUodik7XHJcbiAgICAgICAgICAgIHRoaXMuZ2F2aW90YS5zZXRWb2x1bWUodi8yMCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vTXVzaWNhIGRlIGZvbmRvXHJcblxyXG4gICAgICAgIHRoaXMubXVzaWNhID0gdGhpcy5zb3VuZC5hZGQoXCJtdXNpY2FfanVlZ29cIiwge1xyXG4gICAgICAgICAgICB2b2x1bWU6IHNldHRpbmdzLmdldE11c2ljVm9sdW1lKCksXHJcbiAgICAgICAgICAgIGxvb3A6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5tdXNpY2EucGxheSgpOyAgXHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oXCJyZXN1bWVcIiwgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gdGhpcy5wbHVnaW5zLmdldChcIkdsb2JhbFNldHRpbmdzXCIpO1xyXG4gICAgICAgIGNvbnN0IHYgPSBzZXR0aW5ncy5nZXRNdXNpY1ZvbHVtZSgpO1xyXG5cclxuICAgICAgICAvLyBCdXNjYSBUT0RBUyBsYXMgbcO6c2ljYXMgZW4gbGEgZXNjZW5hXHJcbiAgICAgICAgdGhpcy5zb3VuZC5zb3VuZHMuZm9yRWFjaChzb3VuZCA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc291bmQua2V5LmluY2x1ZGVzKFwibXVzaWNhXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc291bmQuc2V0Vm9sdW1lKHYpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ3NodXRkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5tdXNpY2EpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVzaWNhLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVzaWNhLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKlxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgaWYoIWRhdGEuY29ubmVjdGVkICYmIHRoaXMuc2NlbmUuaXNBY3RpdmUoKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ29ubmVjdGlvbkxvc3QoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIuYWRkTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG4gICAgICAgICovXHJcbiAgICAgICAgICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBvbkNvbm5lY3Rpb25Mb3N0KCl7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdDb25uZWN0aW9uTG9zdFNjZW5lJywgeyBwcmV2aW91c1NjZW5lOiAnR2FtZVNjZW5lJ30pO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVRpbWVyKCkge1xyXG4gICAgICAgIHRoaXMudGltZUxlZnQtLTtcclxuXHJcbiAgICAgICAgdGhpcy50aW1lclRleHQuc2V0VGV4dChcIlRpZW1wbzogXCIgKyB0aGlzLnRpbWVMZWZ0KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMudGltZUxlZnQgPD0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVyRXZlbnQucmVtb3ZlKGZhbHNlKTtcclxuICAgICAgICAgICAgdGhpcy5lbmRHYW1lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUFuaW1hdGlvbnMoKXtcclxuICAgICAgICAvL1F1b2trYVxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAncXVva2thX3dhbGtfZnJvbnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ3F1b2trYUZyZW50ZScsIHtzdGFydDogMCwgZW5kOjN9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAncXVva2thX3dhbGtfYmFjaycsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygncXVva2thQXRyYXMnLCB7c3RhcnQ6IDAsIGVuZDozfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3F1b2trYV93YWxrX2xlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ3F1b2trYUl6cXVpZXJkYScsIHtzdGFydDogMCwgZW5kOjJ9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAncXVva2thX3dhbGtfcmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ3F1b2trYURlcmVjaGEnLCB7c3RhcnQ6IDAsIGVuZDoyfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9RdW9ra2EgUG93ZXJVcFxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAncXVva2thX3dhbGtfZnJvbnRQJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdxdW9ra2FGcmVudGVQJywge3N0YXJ0OiAwLCBlbmQ6M30pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdxdW9ra2Ffd2Fsa19iYWNrUCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygncXVva2thQXRyYXNQJywge3N0YXJ0OiAwLCBlbmQ6M30pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdxdW9ra2Ffd2Fsa19sZWZ0UCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygncXVva2thSXpxdWllcmRhUCcsIHtzdGFydDogMCwgZW5kOjJ9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAncXVva2thX3dhbGtfcmlnaHRQJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdxdW9ra2FEZXJlY2hhUCcsIHtzdGFydDogMCwgZW5kOjJ9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL05hcnZhbFxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnbmFydmFsX3dhbGtfZnJvbnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ25hcnZhbEZyZW50ZScsIHtzdGFydDogMCwgZW5kOjJ9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnbmFydmFsX3dhbGtfYmFjaycsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnbmFydmFsQXRyYXMnLCB7c3RhcnQ6IDAsIGVuZDoyfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnbmFydmFsX3dhbGtfbGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnbmFydmFsSXpxdWllcmRhJywge3N0YXJ0OiAwLCBlbmQ6Mn0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICduYXJ2YWxfd2Fsa19yaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnbmFydmFsRGVyZWNoYScsIHtzdGFydDogMCwgZW5kOjJ9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLy9OYXJ2YWwgUG93ZXJVcFxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnbmFydmFsX3dhbGtfZnJvbnRQJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCduYXJ2YWxGcmVudGVQJywge3N0YXJ0OiAwLCBlbmQ6Mn0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICduYXJ2YWxfd2Fsa19iYWNrUCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnbmFydmFsQXRyYXNQJywge3N0YXJ0OiAwLCBlbmQ6Mn0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ25hcnZhbF93YWxrX2xlZnRQJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCduYXJ2YWxJenF1aWVyZGFQJywge3N0YXJ0OiAwLCBlbmQ6Mn0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICduYXJ2YWxfd2Fsa19yaWdodFAnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ25hcnZhbERlcmVjaGFQJywge3N0YXJ0OiAwLCBlbmQ6Mn0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBzZXRVcFBMYXllcnMoKSB7XHJcbiAgICAgICAgY29uc3QgcXVva2thID0gbmV3IFBlcnNvbmFqZXModGhpcywgJ3BsYXllcjEnLCA1MCwgMzAwKTtcclxuICAgICAgICBjb25zdCBuYXJ2YWwgPSBuZXcgUGVyc29uYWplcyh0aGlzLCAncGxheWVyMicsIDc1MCwgMzAwKTtcclxuICAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIxJywgcXVva2thKTtcclxuICAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIyJywgbmFydmFsKTtcclxuICAgICAgICAvL0xvcyBpbnB1dHMgZGUgY2FkYSBqdWdhZG9yXHJcbiAgICAgICAgY29uc3QgSW5wdXRDb25maWcgPSBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiAncGxheWVyMScsXHJcbiAgICAgICAgICAgICAgICB1cEtleTogJ1cnLFxyXG4gICAgICAgICAgICAgICAgZG93bktleTogJ1MnLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleTogJ0EnLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXk6ICdEJyxcclxuICAgICAgICAgICAgfSwgXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiAncGxheWVyMicsXHJcbiAgICAgICAgICAgICAgICB1cEtleTogJ1VQJyxcclxuICAgICAgICAgICAgICAgIGRvd25LZXk6ICdET1dOJyxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXk6ICdMRUZUJyxcclxuICAgICAgICAgICAgICAgIHJpZ2h0S2V5OiAnUklHSFQnLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuICAgICAgICB0aGlzLmlucHV0c01hcHBpbmcgPSBJbnB1dENvbmZpZztcclxuICAgICAgICB0aGlzLmlucHV0c01hcHBpbmcgPSB0aGlzLmlucHV0c01hcHBpbmcubWFwKGNvbmZpZyA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogY29uZmlnLnBsYXllcklkLFxyXG4gICAgICAgICAgICAgICAgdXBLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcudXBLZXldKSxcclxuICAgICAgICAgICAgICAgIGRvd25LZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcuZG93bktleV0pLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5sZWZ0S2V5XSksXHJcbiAgICAgICAgICAgICAgICByaWdodEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5yaWdodEtleV0pLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5UGxheVNvdW5kKCl7XHJcbiAgICAgICAgbGV0IGNoYW5jZSA9IDIwO1xyXG4gICAgICAgIGNvbnN0IHJvbGwgPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKDEsIDEwMCk7XHJcbiAgICAgICAgaWYocm9sbCA8PSBjaGFuY2Upe1xyXG4gICAgICAgICAgICB0aGlzLmdhdmlvdGEucGxheSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvdmVybGFwVmFyKHgseSxncnVwbyl7XHJcbiAgICAgICAgdmFyIG92ZXJsYXAgPSBncnVwby5nZXRDaGlsZHJlbigpLnNvbWUoY2hpbGQgPT57XHJcbiAgICAgICAgICAgIHJldHVybihcclxuICAgICAgICAgICAgICAgIE1hdGguYWJzKGNoaWxkLngteCkgPCA0MCAmJlxyXG4gICAgICAgICAgICAgICAgTWF0aC5hYnMoY2hpbGQueS15KSA8IDQwXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIG92ZXJsYXA7XHJcbiAgICB9XHJcblxyXG4gICAgYW50aU92ZXJsYXAoeDEseTEseDIseTIscDEscDIpe1xyXG4gICAgICAgIGxldCB4LHk7XHJcbiAgICAgICAgbGV0IGl0ZXJhdGlvbiA9IDA7XHJcbiAgICAgICAgZG97XHJcbiAgICAgICAgICAgIHggPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKHgxLHkxKTtcclxuICAgICAgICAgICAgeSA9IFBoYXNlci5NYXRoLkJldHdlZW4oeDIseTIpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdmFyIG92ZXJsYXBUcmFzaCA9IHRoaXMub3ZlcmxhcFZhcih4LHksdGhpcy50cmFzaEdyb3VwKTtcclxuICAgICAgICAgICAgdmFyIG92ZXJsYXBQb3dlclVwID0gdGhpcy5vdmVybGFwVmFyKHgseSx0aGlzLnN0aWNreUdyb3VwKTtcclxuICAgICAgICAgICAgdmFyIG92ZXJsYXBTdGlja3kgPSB0aGlzLm92ZXJsYXBWYXIoeCx5LHRoaXMucG93ZXJVcEdyb3VwKTtcclxuICAgICAgICAgICAgdmFyIG92ZXJsYXBTcGlsbCA9IHRoaXMub3ZlcmxhcFZhcih4LHksdGhpcy5zcGlsbEdyb3VwKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHZhciBvdmVybGFwTmFydmFsID0gTWF0aC5hYnMocDIueC14KTw2MCAmJiBNYXRoLmFicyhwMi55LXkpPDYwID09PSB0cnVlID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICB2YXIgb3ZlcmxhcFF1b2trYSA9IE1hdGguYWJzKHAxLngteCk8NjAgJiYgTWF0aC5hYnMocDEueS15KTw2MCA9PT0gdHJ1ZSA/IHRydWUgOiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGl0ZXJhdGlvbisrO1xyXG4gICAgICAgIH13aGlsZSgob3ZlcmxhcFRyYXNoIHx8IG92ZXJsYXBQb3dlclVwIHx8IG92ZXJsYXBTdGlja3kgfHwgb3ZlcmxhcFNwaWxsIHx8IG92ZXJsYXBOYXJ2YWwgfHwgb3ZlcmxhcFF1b2trYSkgJiYgaXRlcmF0aW9uPDQpO1xyXG4gICAgICAgIHJldHVybiB7eCwgeX07XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5U3Bhd24oY2hhbmNlLCBlZmZlY3RBY3RpdmUpe1xyXG4gICAgICAgIGNvbnN0IHAxID0gdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLnNjb3JlO1xyXG4gICAgICAgIGNvbnN0IHAyID0gdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLnNjb3JlO1xyXG4gICAgICAgIGxldCB0YXJnZXQ7XHJcbiAgICAgICAgdGFyZ2V0ID0gbnVsbDtcclxuICAgICAgICAvL2xldCBjaGFuY2U7XHJcbiAgICAgICAgaWYocDEgPCBwMi0xKXtcclxuICAgICAgICAgICAgdGFyZ2V0ID0gMTtcclxuICAgICAgICAgICAgY2hhbmNlO1xyXG4gICAgICAgIH1lbHNlIGlmKHAyIDwgcDEtMSl7XHJcbiAgICAgICAgICAgIHRhcmdldCA9IDI7XHJcbiAgICAgICAgICAgIGNoYW5jZTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgY2hhbmNlID0gMTA7XHJcbiAgICAgICAgICAgIHRhcmdldCA9IFBoYXNlci5NYXRoLkJldHdlZW4oMCwgMSkgPT09IDAgPyAxIDogMjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoZWZmZWN0QWN0aXZlW3RhcmdldF0peyBcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByb2xsID0gUGhhc2VyLk1hdGguQmV0d2VlbigxLDEwMCk7XHJcbiAgICAgICAgaWYocm9sbCA8PSBjaGFuY2Upe1xyXG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0cnlTcGF3blN0aWNreSgpIHtcclxuICAgICAgICBsZXQgdGFyZ2V0O1xyXG4gICAgICAgIHRhcmdldCA9IHRoaXMudHJ5U3Bhd24oNTAsIHRoaXMuc3RpY2t5QWN0aXZlKTtcclxuICAgICAgICBpZih0YXJnZXQhPW51bGwpe1xyXG4gICAgICAgICAgICB0aGlzLnNwYXduU3RpY2t5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vTG9zIHRyeVNwYXduIHkgbG9zIHNwYXduUG93ZXJVcCBzb24gaWd1YWxlcyBlbiBiYXNlIHNvbG8gY2FtYmlhIGVsIHRpcG8gZGUgb2JqZXRvXHJcbiAgICB0cnlTcGF3blBvd2VyVXAoKSB7XHJcbiAgICAgICAgbGV0IHRhcmdldDtcclxuICAgICAgICB0YXJnZXQ9dGhpcy50cnlTcGF3big3MCwgdGhpcy5wb3dlclVwQWN0aXZlKVxyXG4gICAgICAgIGlmKHRhcmdldCE9bnVsbCl7XHJcbiAgICAgICAgICAgIHRoaXMuc3Bhd25Qb3dlclVwKHRhcmdldCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRyeVNwYXduSW52ZXJ0ZWQoKXtcclxuICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy50cnlTcGF3big3MCwgdGhpcy5pbnZlcnRDb250cm9scyk7XHJcbiAgICAgICAgaWYodGFyZ2V0ICE9IG51bGwpe1xyXG4gICAgICAgICAgICB0aGlzLnNwYXduSW52ZXJ0ZWQodGFyZ2V0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3Bhd24odGFyZ2V0UGxheWVyLHgxMSx5MTEseDIxLHkyMSwgeDEyLHkxMix4MjIseTIyLCBrZXkxLCBrZXkyLCBzcHJpdGVTaXplLCBvYmplY3RHcm91cCwgdGllbXBvRW5QYW50YWxsYSxwMSxwMil7XHJcbiAgICAgICAgbGV0IHgseTtcclxuICAgICAgICBsZXQgb2JqZWN0O1xyXG4gICAgICAgIGlmKHRhcmdldFBsYXllciA9PT0gMSl7XHJcbiAgICAgICAgICAgICh7eCx5fSA9IHRoaXMuYW50aU92ZXJsYXAoeDExLHkxMSx4MjEseTIxLHAxLHAyKSk7XHJcbiAgICAgICAgICAgIG9iamVjdCA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKHgseSxrZXkxKTtcclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICh7eCx5fSA9IHRoaXMuYW50aU92ZXJsYXAoeDEyLHkxMix4MjIseTIyLHAxLHAyKSk7XHJcbiAgICAgICAgICAgIG9iamVjdCA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKHgseSxrZXkyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG9iamVjdC5zZXREaXNwbGF5U2l6ZShzcHJpdGVTaXplLHNwcml0ZVNpemUpO1xyXG4gICAgICAgIG9iamVjdEdyb3VwLmFkZChvYmplY3QpOyBcclxuXHJcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKHRpZW1wb0VuUGFudGFsbGEsICgpID0+e1xyXG4gICAgICAgICAgICBpZihvYmplY3QuYWN0aXZlKSBvYmplY3QuZGVzdHJveSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gb2JqZWN0O1xyXG4gICAgfVxyXG5cclxuICAgIHNwYXduU3RpY2t5KHRhcmdldFBsYXllcil7XHJcbiAgICAgICAgLy9Db2xpc2nDs24gZGVsIHByaW5ndWUgY29uIGNhZGEganVnYWRvclxyXG4gICAgICAgIGNvbnN0IHAxID0gdGhpcy5wbGF5ZXJzLmdldChcInBsYXllcjFcIikuc3ByaXRlO1xyXG4gICAgICAgIGNvbnN0IHAyID0gdGhpcy5wbGF5ZXJzLmdldChcInBsYXllcjJcIikuc3ByaXRlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBzdGlja3kgPSB0aGlzLnNwYXduKHRhcmdldFBsYXllciwgNDAwLDQwMCwxNTAsNTUwLCA0MDAsNDAwLDE1MCw1NTAsIFwicHJpbmd1ZVwiLCBcInByaW5ndWVcIiwgNDAsIHRoaXMuc3RpY2t5R3JvdXAsIDcwMDAscDEscDIpO1xyXG5cclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocDEsIHN0aWNreSwgKCkgPT4gdGhpcy50aHJvd1N0aWNreShzdGlja3ksIDIsIDEwKSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHAyLCBzdGlja3ksICgpID0+IHRoaXMudGhyb3dTdGlja3koc3RpY2t5LCAxLCAxMCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHNwYXduVHJhc2goKSB7XHJcbiAgICAgICAgLy8gU2VsZWNjacOzbiBhbGVhdG9yaWEgZGUganVnYWRvciAoMSBvIDIpXHJcbiAgICAgICAgY29uc3QgdGFyZ2V0UGxheWVyID0gUGhhc2VyLk1hdGguQmV0d2VlbigxLCAyKTtcclxuXHJcbiAgICAgICAgLy8gQ29saXNpw7NuIGJhc3VyYSBjb24gY2FkYSBqdWdhZG9yXHJcbiAgICAgICAgY29uc3QgcDEgPSB0aGlzLnBsYXllcnMuZ2V0KFwicGxheWVyMVwiKS5zcHJpdGU7XHJcbiAgICAgICAgY29uc3QgcDIgPSB0aGlzLnBsYXllcnMuZ2V0KFwicGxheWVyMlwiKS5zcHJpdGU7XHJcblxyXG4gICAgICAgIGxldCB0cmFzaCA9IHRoaXMuc3Bhd24odGFyZ2V0UGxheWVyLCAzMCwzNDAsMTUwLDU1MCwgNDYwLDc3MCwxNTAsNTUwLCBcImJhc3VyYVwiLFwiYmFzdXJhXCIsIDQwLCB0aGlzLnRyYXNoR3JvdXAsIDcwMDAscDEscDIpO1xyXG5cclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocDEsIHRyYXNoLCAoKSA9PiB0aGlzLmNvbGxlY3QodHJhc2gsIDEsIDUpKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocDIsIHRyYXNoLCAoKSA9PiB0aGlzLmNvbGxlY3QodHJhc2gsIDIsIDUpKTtcclxuICAgIH1cclxuXHJcbiAgICBzcGF3blNwaWxsKCkge1xyXG4gICAgICAgIC8vIFNlbGVjY2nDs24gYWxlYXRvcmlhIGRlIGp1Z2Fkb3IgKDEgbyAyKVxyXG4gICAgICAgIGNvbnN0IHRhcmdldFBsYXllciA9IFBoYXNlci5NYXRoLkJldHdlZW4oMSwgMik7XHJcblxyXG4gICAgICAgIC8vIENvbGlzacOzbiBiYXN1cmEgY29uIGNhZGEganVnYWRvclxyXG4gICAgICAgIGNvbnN0IHAxID0gdGhpcy5wbGF5ZXJzLmdldChcInBsYXllcjFcIikuc3ByaXRlO1xyXG4gICAgICAgIGNvbnN0IHAyID0gdGhpcy5wbGF5ZXJzLmdldChcInBsYXllcjJcIikuc3ByaXRlO1xyXG5cclxuICAgICAgICBsZXQgc3BpbGwgPSB0aGlzLnNwYXduKHRhcmdldFBsYXllciwgMzAsMzQwLDE1MCw1NTAsIDQ2MCw3NzAsMTUwLDU1MCwgXCJ2ZXJ0aWRvXCIsXCJ2ZXJ0aWRvMVwiLCA4MCwgdGhpcy5zcGlsbEdyb3VwLCA3MDAwLHAxLHAyKTtcclxuXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHAxLCBzcGlsbCwgKCkgPT4gdGhpcy5jb2xsZWN0KHNwaWxsLCAxLCAxMCkpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwMiwgc3BpbGwsICgpID0+IHRoaXMuY29sbGVjdChzcGlsbCwgMiwgMTApKTtcclxuICAgIH1cclxuXHJcbiAgICBzcGF3blBvd2VyVXAocGxheWVySWQpIHtcclxuICAgICAgICAvLyBDb2xpc2lvbmVzXHJcbiAgICAgICAgY29uc3QgcDEgPSB0aGlzLnBsYXllcnMuZ2V0KFwicGxheWVyMVwiKS5zcHJpdGU7XHJcbiAgICAgICAgY29uc3QgcDIgPSB0aGlzLnBsYXllcnMuZ2V0KFwicGxheWVyMlwiKS5zcHJpdGU7XHJcblxyXG4gICAgICAgIGxldCBwb3dlclVwID0gdGhpcy5zcGF3bihwbGF5ZXJJZCwgNTAsMzQwLDE1MCw1NTAsIDQ2MCw3NTAsMTUwLDU1MCwgXCJwb3dlclF1b2thXCIsXCJwb3dlck5hcnZhbFwiLCAxMjAsIHRoaXMucG93ZXJVcEdyb3VwLCAxNTAwMCxwMSxwMik7XHJcblxyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwMSwgcG93ZXJVcCwgKCkgPT4gdGhpcy5waWNrUG93ZXJVcChwb3dlclVwLCBcInBsYXllcjFcIikpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwMiwgcG93ZXJVcCwgKCkgPT4gdGhpcy5waWNrUG93ZXJVcChwb3dlclVwLCBcInBsYXllcjJcIikpO1xyXG4gICAgfVxyXG5cclxuICAgIHNwYXduSW52ZXJ0ZWQodGFyZ2V0KVxyXG4gICAge1xyXG4gICAgICAgIGlmKCF0YXJnZXQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0YXJnZXQgPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKDEsMik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBwMSA9IHRoaXMucGxheWVycy5nZXQoXCJwbGF5ZXIxXCIpLnNwcml0ZTtcclxuICAgICAgICBjb25zdCBwMiA9IHRoaXMucGxheWVycy5nZXQoXCJwbGF5ZXIyXCIpLnNwcml0ZTtcclxuXHJcbiAgICAgICAgbGV0IGludmVydGVkID0gdGhpcy5zcGF3bih0YXJnZXQsIDUwLCAzNDAsIDE1MCwgNTUwLCA0NjAsIDc1MCwgMTUwLCA1NTAsIFwicG93ZXJOYXJ2YWxcIiwgXCJwb3dlclF1b2thXCIsIDEyMCwgdGhpcy5pbnZlcnRHcm91cCwgMTUwMDAsIHAxLCBwMik7XHJcblxyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwMSwgaW52ZXJ0ZWQsICgpID0+IHRoaXMucGlja0ludmVydGVkQ29udHJvbHMoaW52ZXJ0ZWQsIFwicGxheWVyMVwiKSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHAyLCBpbnZlcnRlZCwgKCkgPT4gdGhpcy5waWNrSW52ZXJ0ZWRDb250cm9scyhpbnZlcnRlZCwgXCJwbGF5ZXIyXCIpKTtcclxuICAgIH1cclxuXHJcbiAgICB0aHJvd1N0aWNreShzdGlja3ksIHBsYXllck51bWJlciwgc2NvcmUpe1xyXG4gICAgICAgIGlmKCFzdGlja3kuYWN0aXZlKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMucGxldWdoMi5wbGF5KCk7XHJcbiAgICAgICAgc3RpY2t5LmRlc3Ryb3koKTtcclxuXHJcbiAgICAgICAgLy9Db25zaWd1ZSBxdWUganVnYWRvciBsYSBsYW56YVxyXG4gICAgICAgIGNvbnN0IHBsYXllciA9IHBsYXllck51bWJlciA9PT0gMSA/IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKSA6IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKTtcclxuXHJcbiAgICAgICAgY29uc3QgaWQgPSBwbGF5ZXJOdW1iZXIgPT09IDEgPyBcInBsYXllcjFcIiA6IFwicGxheWVyMlwiO1xyXG5cclxuICAgICAgICB0aGlzLnN0aWNreUFjdGl2ZVtpZF0gPSB0cnVlO1xyXG5cclxuICAgICAgICAvL1F1aXRhIHB1bnR1YWNpb25cclxuICAgICAgICBpZihwbGF5ZXIuc2NvcmUgPj0gc2NvcmUpe1xyXG4gICAgICAgIHBsYXllci5zY29yZSAtPSBzY29yZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5wb3dlclVwQWN0aXZlW2lkXSl7XHJcbiAgICAgICAgICAgIHRoaXMucG93ZXJVcEFjdGl2ZVtpZF0gPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5zdGlja3lBY3RpdmVbaWRdID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZihpZCA9PT0gXCJwbGF5ZXIxXCIpIHRoaXMuc2NvcmVRdW9rYS5zZXRUZXh0KHBsYXllci5zY29yZSk7XHJcbiAgICAgICAgZWxzZSB0aGlzLnNjb3JlTmFydmFsLnNldFRleHQocGxheWVyLnNjb3JlKTtcclxuICAgICAgICBcclxuXHJcbiAgICAgICAgdGhpcy5zdGlja3lTcGF3blRpbWVyW2lkXSA9IHRoaXMudGltZS5kZWxheWVkQ2FsbCgyMDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RpY2t5QWN0aXZlW2lkXSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAvL3RoaXMuaW5wdXRzTWFwcGluZy5yZXN1bWUoKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmdldChpZCkuc2V0U3ByaXRlKFwiZG93blwiKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBsYXllcnMuZ2V0KGlkKS5zZXRTcHJpdGUoXCJkb3duXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHBpY2tJbnZlcnRlZENvbnRyb2xzKHBvd2VyVXAsIHRhcmdldElkKVxyXG4gICAge1xyXG4gICAgICAgIGlmKCFwb3dlclVwLmFjdGl2ZSkgcmV0dXJuO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHBvd2VyVXAuYWN0aXZlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHBvd2VyVXAuZGVzdHJveSgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHRhcmdldFBsYXllciA9IHRhcmdldElkID09PSAncGxheWVyMScgPyAncGxheWVyMicgOiAncGxheWVyMSc7XHJcbiAgICBcclxuICAgICAgICB0aGlzLmludmVydENvbnRyb2xzW3RhcmdldFBsYXllcl0gPSB0cnVlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0aGlzLnBsZXVnaDEpIHtcclxuICAgICAgICAgICAgdGhpcy5wbGV1Z2gxLnBsYXkoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDYwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pbnZlcnRDb250cm9sc1t0YXJnZXRQbGF5ZXJdID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vUmVjb2dlIGVsIHJlc2lkdW8geSBkYSBsYSBwdW50dWFjacOzbiBjb3JyZWN0YVxyXG4gICAgY29sbGVjdChvYmplY3QsIHBsYXllck51bWJlciwgc2NvcmUpe1xyXG4gICAgICAgIGlmKCFvYmplY3QuYWN0aXZlKSByZXR1cm47XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5yZWNvZ2VyQmFzdXJhLnBsYXkoKTtcclxuICAgICAgICBvYmplY3QuZGVzdHJveSgpO1xyXG5cclxuICAgICAgICBjb25zdCBwbGF5ZXIgPSBwbGF5ZXJOdW1iZXIgPT09IDEgPyB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykgOiB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJyk7XHJcbiAgICAgICAgY29uc3QgaWQgPSBwbGF5ZXJOdW1iZXIgPT09IDEgPyBcInBsYXllcjFcIiA6IFwicGxheWVyMlwiO1xyXG5cclxuICAgICAgICBjb25zdCBtdWx0aXBsaWVyID0gdGhpcy5wb3dlclVwQWN0aXZlW2lkXSA/IDIgOiAxO1xyXG5cclxuICAgICAgICBwbGF5ZXIuc2NvcmUgKz0gc2NvcmUqbXVsdGlwbGllcjtcclxuXHJcbiAgICAgICAgaWYoaWQgPT09IFwicGxheWVyMVwiKSB0aGlzLnNjb3JlUXVva2Euc2V0VGV4dChwbGF5ZXIuc2NvcmUpO1xyXG4gICAgICAgIGVsc2UgdGhpcy5zY29yZU5hcnZhbC5zZXRUZXh0KHBsYXllci5zY29yZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcGlja1Bvd2VyVXAocG93ZXJVcCwgcGxheWVySWQpIHtcclxuICAgICAgICBpZiAoIXBvd2VyVXAuYWN0aXZlKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMucG93ZXJVcFNvdW5kLnBsYXkoKTtcclxuICAgICAgICBwb3dlclVwLmRlc3Ryb3koKTtcclxuXHJcbiAgICAgICAgLy8gQWN0aXZhciBlbCBlZmVjdG9cclxuICAgICAgICB0aGlzLnBvd2VyVXBBY3RpdmVbcGxheWVySWRdID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgLy8gQ2FuY2VsYXIgdW4gZWZlY3RvIHByZXZpbyBzaSB5YSB0ZW7DrWEgdW5vXHJcbiAgICAgICAgaWYgKHRoaXMucG93ZXJVcFRpbWVyc1twbGF5ZXJJZF0pIHtcclxuICAgICAgICAgICAgdGhpcy5wb3dlclVwVGltZXJzW3BsYXllcklkXS5yZW1vdmUoZmFsc2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5wb3dlclVwVGltZXJzW3BsYXllcklkXSA9IHRoaXMudGltZS5kZWxheWVkQ2FsbCgxMDAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBvd2VyVXBBY3RpdmVbcGxheWVySWRdID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQocGxheWVySWQpLnNldFNwcml0ZShcImRvd25cIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmdldChwbGF5ZXJJZCkuc2V0U3ByaXRlKFwiZG93blwiKTtcclxuICAgIH1cclxuICAgIC8vWm9uYSBxdWUgcHVlZGFuIGlyIGNhZGEganVnYWRvclxyXG4gICAgY3JlYXRlQm91bmRzKCkge1xyXG4gICAgICAgIHRoaXMuUXVva2FHb2FsID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoMCwgMzAwLCBudWxsKTtcclxuICAgICAgICB0aGlzLlF1b2thR29hbC5zZXREaXNwbGF5U2l6ZSgxMCwgNjAwKTtcclxuICAgICAgICB0aGlzLlF1b2thR29hbC5ib2R5LnNldFNpemUoMTAsIDYwMCk7XHJcbiAgICAgICAgdGhpcy5RdW9rYUdvYWwuc2V0SW1tb3ZhYmxlKGZhbHNlKTtcclxuICAgICAgICB0aGlzLlF1b2thR29hbC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuXHJcbiAgICAgICAgdGhpcy5OYXJ2YWxHb2FsID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoODAwLCAzMDAsIG51bGwpO1xyXG4gICAgICAgIHRoaXMuTmFydmFsR29hbC5zZXREaXNwbGF5U2l6ZSgxMCwgNjAwKTtcclxuICAgICAgICB0aGlzLk5hcnZhbEdvYWwuYm9keS5zZXRTaXplKDEwLCA2MDApO1xyXG4gICAgICAgIHRoaXMuTmFydmFsR29hbC5zZXRJbW1vdmFibGUoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuTmFydmFsR29hbC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRXaW5uZXIoKXtcclxuICAgICAgICBpZih0aGlzLnBsYXllcnMuZ2V0KFwicGxheWVyMVwiKS5zY29yZSA+IHRoaXMucGxheWVycy5nZXQoXCJwbGF5ZXIyXCIpLnNjb3JlKSByZXR1cm4gXCJwbGF5ZXIxXCI7XHJcbiAgICAgICAgZWxzZSBpZih0aGlzLnBsYXllcnMuZ2V0KFwicGxheWVyMlwiKS5zY29yZSA+IHRoaXMucGxheWVycy5nZXQoXCJwbGF5ZXIxXCIpLnNjb3JlKSByZXR1cm4gXCJwbGF5ZXIyXCI7XHJcbiAgICAgICAgcmV0dXJuIFwiZHJhd1wiO1xyXG4gICAgfVxyXG4gICAgLy9GaW5hbGl6YXIgZWwganVlZ29cclxuICAgIGVuZEdhbWUoKXtcclxuXHJcbiAgICAgICAgdGhpcy50aWVtcG9NdWVydG8ucGxheSgpO1xyXG4gICAgICAgIGNvbnN0IHdpbm5lcklEID0gdGhpcy5nZXRXaW5uZXIoKTtcclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChQZXJzb25hamVzID0+e1xyXG4gICAgICAgICAgICBQZXJzb25hamVzLnNwcml0ZS5zZXRWZWxvY2l0eSgwLDApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5wYXVzZSgpO1xyXG4gICAgICAgIGlmICh0aGlzLnRyYXNoU3Bhd25UaW1lcikgdGhpcy50cmFzaFNwYXduVGltZXIucmVtb3ZlKGZhbHNlKTtcclxuICAgICAgICB0aGlzLnRyYXNoR3JvdXAuY2xlYXIodHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnR2FtZU92ZXJTY2VuZScsIHt3aW5uZXJJRH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzZXRQYXVzZVN0YXRlKGlzUGF1c2VkKXtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkICA9IGlzUGF1c2VkO1xyXG5cclxuICAgICAgICBpZih0aGlzLmlzUGF1c2VkKXtcclxuICAgICAgICAgICAgaWYodGhpcy5tdXNpY2EgJiYgdGhpcy5tdXNpY2EuaXNQbGF5aW5nKXtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVzaWNhLnBhdXNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1BhdXNlU2NlbmUnLCB7b3JpZ2luYWxTY2VuZTogJ0dhbWVTY2VuZSd9KTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHRvZ2dsZVBhdXNlKCl7XHJcbiAgICAgICAgY29uc3QgbmV3UGF1c2VkU3RhdGUgPSAhIHRoaXMuaXNQYXVzZWQ7XHJcbiAgICAgICAgdGhpcy5zZXRQYXVzZVN0YXRlKG5ld1BhdXNlZFN0YXRlKTtcclxuICAgIH1cclxuICAgIHJlc3VtZSgpe1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICBpZih0aGlzLm11c2ljYSAmJiB0aGlzLm11c2ljYS5pc1BhdXNlZCl7XHJcbiAgICAgICAgICAgIHRoaXMubXVzaWNhLnJlc3VtZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKXtcclxuICAgICAgICBpZih0aGlzLmVzY0tleS5pc0Rvd24pe1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaW5wdXRzTWFwcGluZy5mb3JFYWNoKG1hcHBpbmc9PntcclxuICAgICAgICAgICAgY29uc3QgUGVyc29uYWplcyA9IHRoaXMucGxheWVycy5nZXQobWFwcGluZy5wbGF5ZXJJZCk7XHJcbiAgICAgICAgICAgIGxldCBpc01vdmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudERpcmVjdGlvbiA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBpbnZlcnRlZCA9IHRoaXMuaW52ZXJ0Q29udHJvbHNbbWFwcGluZy5wbGF5ZXJJZF07XHJcblxyXG4gICAgICAgICAgICBpZihtYXBwaW5nLnVwS2V5T2JqLmlzRG93bil7XHJcbiAgICAgICAgICAgICAgICBQZXJzb25hamVzLnNwcml0ZS5zZXRWZWxvY2l0eVkoaW52ZXJ0ZWQgPyBQZXJzb25hamVzLmJhc2VTcGVlZCA6IC1QZXJzb25hamVzLmJhc2VTcGVlZCk7XHJcbiAgICAgICAgICAgICAgICBQZXJzb25hamVzLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50RGlyZWN0aW9uID0gaW52ZXJ0ZWQgPyBcImRvd25cIiA6IFwidXBcIjtcclxuICAgICAgICAgICAgICAgIGlzTW92aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgfWVsc2UgaWYobWFwcGluZy5kb3duS2V5T2JqLmlzRG93bil7XHJcbiAgICAgICAgICAgICAgICBQZXJzb25hamVzLnNwcml0ZS5zZXRWZWxvY2l0eVkoaW52ZXJ0ZWQgPyAtUGVyc29uYWplcy5iYXNlU3BlZWQgOiBQZXJzb25hamVzLmJhc2VTcGVlZCk7XHJcbiAgICAgICAgICAgICAgICBQZXJzb25hamVzLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50RGlyZWN0aW9uID0gaW52ZXJ0ZWQgPyBcInVwXCIgOiBcImRvd25cIjtcclxuICAgICAgICAgICAgICAgIGlzTW92aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgfWVsc2UgaWYobWFwcGluZy5sZWZ0S2V5T2JqLmlzRG93bil7XHJcbiAgICAgICAgICAgICAgICBQZXJzb25hamVzLnNwcml0ZS5zZXRWZWxvY2l0eVgoaW52ZXJ0ZWQgPyBQZXJzb25hamVzLmJhc2VTcGVlZCA6IC1QZXJzb25hamVzLmJhc2VTcGVlZCk7XHJcbiAgICAgICAgICAgICAgICBQZXJzb25hamVzLnNwcml0ZS5zZXRWZWxvY2l0eVkoMCk7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50RGlyZWN0aW9uID0gaW52ZXJ0ZWQgPyBcInJpZ2h0XCIgOiBcImxlZnRcIjtcclxuICAgICAgICAgICAgICAgIGlzTW92aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgfWVsc2UgaWYobWFwcGluZy5yaWdodEtleU9iai5pc0Rvd24pe1xyXG4gICAgICAgICAgICAgICAgUGVyc29uYWplcy5zcHJpdGUuc2V0VmVsb2NpdHlYKGludmVydGVkID8gLVBlcnNvbmFqZXMuYmFzZVNwZWVkIDogUGVyc29uYWplcy5iYXNlU3BlZWQpO1xyXG4gICAgICAgICAgICAgICAgUGVyc29uYWplcy5zcHJpdGUuc2V0VmVsb2NpdHlZKDApO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudERpcmVjdGlvbiA9IGludmVydGVkID8gXCJsZWZ0XCIgOiBcInJpZ2h0XCI7XHJcbiAgICAgICAgICAgICAgICBpc01vdmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgUGVyc29uYWplcy5zcHJpdGUuc2V0VmVsb2NpdHkoMCwwKTtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnREaXJlY3Rpb24gPSBQZXJzb25hamVzLmxhc3REaXJlY3Rpb24gfHwgXCJkb3duXCI7XHJcbiAgICAgICAgICAgICAgICBpc01vdmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBBcGxpY2FyIHNwcml0ZSBjb24gZWwgZXN0YWRvIGRlIG1vdmltaWVudG9cclxuICAgICAgICAgICAgUGVyc29uYWplcy5zZXRTcHJpdGUoY3VycmVudERpcmVjdGlvbiwgaXNNb3ZpbmcpO1xyXG5cclxuICAgICAgICAgICAgLy9MaW1pdGFtb3MgZWwgbW92aW1pZW50byBhIGxhIG1pdGFkIGRlIGxhIHBhbnRhbGxhIHBhcmEgcXVlIG5vIHB1ZWRhbiBwYXNhciBhbCBvdHJvIGxhZG9cclxuICAgICAgICAgICAgaWYgKG1hcHBpbmcucGxheWVySWQgPT09IFwicGxheWVyMVwiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoUGVyc29uYWplcy5zcHJpdGUueCA8IC0yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUGVyc29uYWplcy5zcHJpdGUueCA9IC0yO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKFBlcnNvbmFqZXMuc3ByaXRlLnggPiA0MDApIHtcclxuICAgICAgICAgICAgICAgICAgICBQZXJzb25hamVzLnNwcml0ZS54ID0gNDAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKFBlcnNvbmFqZXMuc3ByaXRlLnkgPCAxMTUpIHtcclxuICAgICAgICAgICAgICAgICAgICBQZXJzb25hamVzLnNwcml0ZS55ID0gMTE1O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKFBlcnNvbmFqZXMuc3ByaXRlLnkgPiA1NTUpIHtcclxuICAgICAgICAgICAgICAgICAgICBQZXJzb25hamVzLnNwcml0ZS55ID0gNTU1O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAobWFwcGluZy5wbGF5ZXJJZCA9PT0gXCJwbGF5ZXIyXCIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChQZXJzb25hamVzLnNwcml0ZS54IDwgNDAwICkge1xyXG4gICAgICAgICAgICAgICAgICAgIFBlcnNvbmFqZXMuc3ByaXRlLnggPSA0MDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoUGVyc29uYWplcy5zcHJpdGUueCA+IDc1NSkge1xyXG4gICAgICAgICAgICAgICAgICAgIFBlcnNvbmFqZXMuc3ByaXRlLnggPSA3NTU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoUGVyc29uYWplcy5zcHJpdGUueSA8IDExNSApIHtcclxuICAgICAgICAgICAgICAgICAgICBQZXJzb25hamVzLnNwcml0ZS55ID0gMTE1O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKFBlcnNvbmFqZXMuc3ByaXRlLnkgPiA1NTUpIHtcclxuICAgICAgICAgICAgICAgICAgICBQZXJzb25hamVzLnNwcml0ZS55ID0gNTU1O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJyaWdodG5lc3MgPSB0aGlzLnBsdWdpbnMuZ2V0KFwiQnJpZ2h0bmVzc1wiKTtcclxuICAgICAgICBicmlnaHRuZXNzLnVwZGF0ZU92ZXJsYXkodGhpcyk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhdXNlU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdQYXVzZVNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgIHByZWxvYWQoKXtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uQWp1c3RlcycsICdhc3NldHMvQm90b25lcy9hanVzdGVzLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Db250cm9sZXMnLCAnYXNzZXRzL0JvdG9uZXMvYWp1c3Rlcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uQ29udGludWFyJywgJ2Fzc2V0cy9Cb3RvbmVzL2NvbnRpbnVhci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uTWVudScsICdhc3NldHMvQm90b25lcy9tZW51LnBuZycpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjcmVhdGUoZGF0YSkge1xyXG5cclxuICAgICAgICBjb25zdCBicmlnaHRuZXNzID0gdGhpcy5wbHVnaW5zLmdldChcIkJyaWdodG5lc3NcIik7XHJcbiAgICAgICAgYnJpZ2h0bmVzcy5hcHBseVRvU2NlbmUodGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg0MDAsIDMwMCwgODAwLCA2MDAsIDB4MDAwMDAwLCAwLjcpOyAvL1BhbnRhbGxhIHNlbWl0YW5zcGFyZW50ZSBlbiBsYSBxdWUgc2UgdmUgZWwgbWVudSBkZSBwYXVzYVxyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgNTAsICdQYXVzYScsIHsgIFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiBcImFhYWFhXCIsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2UxZTY3NCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgY29uc3QgcmVzdW1lQnRuID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCAyMDAsICdib3RvbkNvbnRpbnVhcicsKS5zZXRPcmlnaW4oMC41KSAgXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHt1c2VIYW5kQ3Vyc29yOiB0cnVlfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4geyAvL1BhdXNhIGxhIGVzY2VuYSBkZSBwYXVzYSAgeSBjb250aW51YSBjb24gbGEgZGVsIGp1ZWdvXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpOyAgIFxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZShkYXRhLm9yaWdpbmFsU2NlbmUpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmdldChkYXRhLm9yaWdpbmFsU2NlbmUpLnJlc3VtZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBhanVzdGVzQnRuID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCAzMDAsICdib3RvbkFqdXN0ZXMnLCApLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7IC8vTGxldmEgYWwganVnYWRvciBhIGxhIHBhbnRhbGxhIGRlIGFqdXN0ZXMgeSBndWFyZGEgbGEgZXNjZW5hIGFjdHVhbCBlbiBsYSBxdWUgZXN0w6EgcGFyYSBxdWUgbHVlZ28gYWwgdm9sdmVyIHZheWEgYSBQYXVzZVNjZW5lIHkgbm8gYSBNZW51IFNjZW5lXHJcblxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnNldFZpc2libGUoZmFsc2UsIFwiR2FtZVNjZW5lXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaChcIkFqdXN0ZXNcIiwgeyBwcmV2aW91c1NjZW5lOiBcIlBhdXNlU2NlbmVcIiB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgY29udHJvbGVzQnRuID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCA0MDAsICdib3RvbkNvbnRyb2xlcycsICkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pICAvL0hhY2UgbG8gbWlzbW8gcXVlIGVsIGJvdMOzbiBkZSBhanVzdGVzIHBlcm8gbGxldmEgYWwganVnYWRvciBhIGxhIHBhbnRhbGxhIGRlIGNvbnRyb2xlc1xyXG4gICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnNldFZpc2libGUoZmFsc2UsIFwiR2FtZVNjZW5lXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaChcIkNvbnRyb2xlc1wiLCB7IHByZXZpb3VzU2NlbmU6IFwiUGF1c2VTY2VuZVwiIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBtZW51QnRuID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCA1MDAsICdib3Rvbk1lbnUnLCkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pIFxyXG4gICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7ICAvL1RlIGxsZXZhIGEgTWVudVNjZW5lXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcChkYXRhLm9yaWdpbmFsU2NlbmUpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgdXBkYXRlKCkgeyAvL0FjdHVhbGl6YSBlbCBicmlsbG8gZW4gZnVuY2nDs24gZGVsIHNsaWRlciBkZSBhanVzdGVzXHJcbiAgICAgICAgY29uc3QgYnJpZ2h0bmVzcyA9IHRoaXMucGx1Z2lucy5nZXQoXCJCcmlnaHRuZXNzXCIpO1xyXG4gICAgICAgIGJyaWdodG5lc3MudXBkYXRlT3ZlcmxheSh0aGlzKTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENyZWRpdG9zIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKCdDcmVkaXRvcycpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKXtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVm9sdmVyJywgJ2Fzc2V0cy9Cb3RvbmVzL3ZvbHZlci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvQ3JlZGl0b3MnLCAnYXNzZXRzL0ZvbmRvcy9uYXJ2YWxfcGVyZGVkb3IucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBicmlnaHRuZXNzID0gdGhpcy5wbHVnaW5zLmdldChcIkJyaWdodG5lc3NcIik7ICAvL0FqdXN0ZXMgIGJyaWxsb1xyXG4gICAgICAgIGJyaWdodG5lc3MuYXBwbHlUb1NjZW5lKHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDMwMCwgJ2ZvbmRvQ3JlZGl0b3MnKS5zZXRPcmlnaW4oMC41KTsgXHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg0MDAsIDMwMCwgNzAwLCA1MDAsIDB4YWE5OWIwLCAwLjcgKTsgIC8vRm9uZG8gcGFyYSBxdWUgc2UgdmVhIGxhIGxldHJhXHJcblxyXG4gICAgICAgIC8vVGV4dG9cclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsMTAwLCAnQ3LDqWRpdG9zJyxcclxuICAgICAgICB7ICAgXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiYWFhYWFcIixcclxuICAgICAgICAgICAgZm9udFNpemU6ICc2NHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZTFlNjc0J1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoMjAwLCAxNzUsICdQcm9ncmFtYWNpw7NuJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZm9udEZhbWlseTogXCJhYWFhYVwiLFxyXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAnI2UxZTY3NCdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoMjAwLCAyMjUsICdMdWPDrWEgQW5kcsOpcycsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiYWFhYWFcIixcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTJweCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogJyNlMWU2NzQnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDIwMCwgMjc1LCAnSHVnbyBHYXJjw61hJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZm9udEZhbWlseTogXCJhYWFhYVwiLFxyXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICcxMnB4JyxcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAnI2UxZTY3NCdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoMjAwLCAzMjUsICdMdWNhcyBKb2dsYXInLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBcImFhYWFhXCIsXHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzEycHgnLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6ICcjZTFlNjc0J1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCgyMDAsIDM3NSwgJ1NlcmdpbyBQb25jZScsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiYWFhYWFcIixcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTJweCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogJyNlMWU2NzQnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDYwMCwgMTc1LCAnQXJ0ZSB5IFNvbmlkbycsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiYWFhYWFcIixcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogJyNlMWU2NzQnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNjAwLCAyMjUsICdTZXJnaW8gUG9uY2UnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBcImFhYWFhXCIsXHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzEycHgnLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6ICcjZTFlNjc0J1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDYwMCwgMzAwLCAnRGlzZcOxbycsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiYWFhYWFcIixcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogJyNlMWU2NzQnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDYwMCwgMzUwLCAnTHVjw61hIEFuZHLDqXMnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBcImFhYWFhXCIsXHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzEycHgnLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6ICcjZTFlNjc0J1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg2MDAsIDQwMCwgJ0h1Z28gR2FyY8OtYScsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiYWFhYWFcIixcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTJweCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogJyNlMWU2NzQnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDYwMCwgNDUwLCAnU2VyZ2lvIFBvbmNlJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZm9udEZhbWlseTogXCJhYWFhYVwiLFxyXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICcxMnB4JyxcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAnI2UxZTY3NCdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vQm90b24gdm9sdmVyXHJcblxyXG4gICAgICAgIGNvbnN0IHZvbHZlck1lbnUgPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDUwMCwgJ2JvdG9uVm9sdmVyJywpLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHt1c2VIYW5kQ3Vyc29yOiB0cnVlfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT57XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICAgICAgLy9FbiBlbCB1cGRhdGUgc2UgYWN0dWFsaXphIGVsIGJyaWxsbyBlbiBmdW5jacOzbiBkZWwgc2xpZGVyXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgYnJpZ2h0bmVzcyA9IHRoaXMucGx1Z2lucy5nZXQoXCJCcmlnaHRuZXNzXCIpO1xyXG4gICAgICAgIGJyaWdodG5lc3MudXBkYXRlT3ZlcmxheSh0aGlzKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBanVzdGVzIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKFwiQWp1c3Rlc1wiKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIFNlIGNhcmdhbiBsYXMgaW3DoWdlbmVzIG5lY2VzYXJpYXNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVm9sdmVyJywgJ2Fzc2V0cy9Cb3RvbmVzL3ZvbHZlci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvX0FqdXN0ZXMnLCAnYXNzZXRzL0ZvbmRvcy9xdW9ra2FfcGVyZGVkb3IucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwZXonLCAnYXNzZXRzL0l0ZW1zL3Blei5wbmcnKTsgICAgIFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYmF5YXMnLCAnYXNzZXRzL0l0ZW1zL2JheWFzLnBuZycpOyBcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdtdXNpY2FfYXNjZW5zb3InLCAnYXNzZXRzL1Nvbmlkby9tdXNpY2FBc2NlbnNvci5tcDMnKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgLy8gU2UgZ3VhcmRhIGxhIGVzY2VuYSBwcmV2aWFcclxuICAgICAgICB0aGlzLnByZXZpb3VzU2NlbmUgPSBkYXRhPy5wcmV2aW91c1NjZW5lIHx8IFwiTWVudVNjZW5lXCI7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gdGhpcy5wbHVnaW5zLmdldChcIkdsb2JhbFNldHRpbmdzXCIpO1xyXG4gICAgICAgIGNvbnN0IGJyaWdodG5lc3NQbHVnaW4gPSB0aGlzLnBsdWdpbnMuZ2V0KFwiQnJpZ2h0bmVzc1wiKTtcclxuXHJcbiAgICAgICAgYnJpZ2h0bmVzc1BsdWdpbi5hcHBseVRvU2NlbmUodGhpcyk7IC8vIFNlIGFwbGljYSBlbCBicmlsbG9cclxuXHJcbiAgICAgICAgLy9Nw7pzaWNhXHJcbiAgICAgICAgdGhpcy5tdXNpY2EgPSB0aGlzLnNvdW5kLmFkZChcIm11c2ljYV9hc2NlbnNvclwiLCB7XHJcbiAgICAgICAgICAgIHZvbHVtZTogc2V0dGluZ3MuZ2V0TXVzaWNWb2x1bWUoKSxcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLm11c2ljYS5wbGF5KCk7XHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oXCJzaHV0ZG93blwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm11c2ljYSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tdXNpY2Euc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tdXNpY2EuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gU2UgZGlidWphIGVsIGZvbmRvIHkgcGFuZWwgY2VudHJhbFxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQwMCwgMzAwLCAnZm9uZG9fQWp1c3RlcycpLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg0MDAsIDMwMCwgNzAwLCA1MDAsIDB4NDQ0YjNjLCAwLjcpO1xyXG5cclxuICAgICAgICAvLyBTZSBtdWVzdHJhIGVsIHTDrXR1bG9cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDI3NSwgMTAwLCBcIkFKVVNURVNcIiwge1xyXG4gICAgICAgICAgICBmb250RmFtaWx5OiBcImFhYWFhXCIsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiBcIjQwcHhcIixcclxuICAgICAgICAgICAgY29sb3I6IFwiI2UxZTY3NFwiXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHRyYWNrWCA9IDEwMDtcclxuICAgICAgICBjb25zdCB0cmFja1dpZHRoID0gNjAwO1xyXG5cclxuICAgICAgICAvL0JyaWxsb1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoMTAwLCAxNTAsIFwiQnJpbGxvXCIsIHtcclxuICAgICAgICAgICAgZm9udEZhbWlseTogXCJhYWFhYVwiLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogXCIyNHB4XCIsXHJcbiAgICAgICAgICAgIGNvbG9yOiBcIiNlMWU2NzRcIlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBicmlsbG9NaW4gPSAwLjI7XHJcbiAgICAgICAgY29uc3QgYnJpbGxvTWF4ID0gMS41O1xyXG4gICAgICAgIGNvbnN0IHRyYWNrWUJyaWxsbyA9IDIwMDtcclxuXHJcbiAgICAgICAgdGhpcy5icmlsbG9UcmFjayA9IHRoaXMuYWRkLnJlY3RhbmdsZSh0cmFja1gsIHRyYWNrWUJyaWxsbywgdHJhY2tXaWR0aCwgMTgsIDB4NDY1NDZlKS5zZXRPcmlnaW4oMCwgMC41KTtcclxuXHJcbiAgICAgICAgbGV0IGN1cnJlbnRCciA9IFBoYXNlci5NYXRoLkNsYW1wKGJyaWdodG5lc3NQbHVnaW4uZ2V0QnJpZ2h0bmVzcygpLCBicmlsbG9NaW4sIGJyaWxsb01heCk7XHJcbiAgICAgICAgbGV0IHRCciA9IChjdXJyZW50QnIgLSBicmlsbG9NaW4pIC8gKGJyaWxsb01heCAtIGJyaWxsb01pbik7XHJcbiAgICAgICAgbGV0IGhhbmRsZUJyWCA9IHRyYWNrWCArIHRCciAqIHRyYWNrV2lkdGg7XHJcblxyXG4gICAgICAgIHRoaXMuYnJpbGxvSGFuZGxlID0gdGhpcy5hZGQuaW1hZ2UoaGFuZGxlQnJYLCB0cmFja1lCcmlsbG8sICdwZXonKS5zZXRJbnRlcmFjdGl2ZSh7IGRyYWdnYWJsZTogdHJ1ZSB9KTtcclxuICAgICAgICB0aGlzLmJyaWxsb0hhbmRsZS5zZXREaXNwbGF5U2l6ZSgxNDAsMTQwKTtcclxuXHJcbiAgICAgICAgLy9NdXNpY2FcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDEwMCwgMjUwLCBcIlZvbHVtZW4gbcO6c2ljYVwiLCB7XHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiYWFhYWFcIixcclxuICAgICAgICAgICAgZm9udFNpemU6IFwiMjRweFwiLFxyXG4gICAgICAgICAgICBjb2xvcjogXCIjZTFlNjc0XCJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgdHJhY2tZVm9sID0gMzAwO1xyXG5cclxuICAgICAgICB0aGlzLnZvbHVtZW5UcmFjayA9IHRoaXMuYWRkLnJlY3RhbmdsZSh0cmFja1gsIHRyYWNrWVZvbCwgdHJhY2tXaWR0aCwgMTgsIDB4N2UxMzEzKS5zZXRPcmlnaW4oMCwgMC41KTtcclxuXHJcbiAgICAgICAgbGV0IGN1cnJlbnRWb2wgPSBQaGFzZXIuTWF0aC5DbGFtcChzZXR0aW5ncy5nZXRNdXNpY1ZvbHVtZSgpLCAwLCAxKTtcclxuICAgICAgICBsZXQgaGFuZGxlVm9sWCA9IHRyYWNrWCArIGN1cnJlbnRWb2wgKiB0cmFja1dpZHRoO1xyXG5cclxuICAgICAgICB0aGlzLnZvbHVtZW5IYW5kbGUgPSB0aGlzLmFkZC5pbWFnZShoYW5kbGVWb2xYLCB0cmFja1lWb2wsICdiYXlhcycpLnNldEludGVyYWN0aXZlKHsgZHJhZ2dhYmxlOiB0cnVlIH0pO1xyXG4gICAgICAgIHRoaXMudm9sdW1lbkhhbmRsZS5zZXREaXNwbGF5U2l6ZSgxNDAsMTQwKTtcclxuXHJcbiAgICAgICAgLy9TZnhcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDEwMCwgMzUwLCBcIlZvbHVtZW4gU0ZYXCIsIHtcclxuICAgICAgICAgICAgZm9udEZhbWlseTogXCJhYWFhYVwiLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogXCIyNHB4XCIsXHJcbiAgICAgICAgICAgIGNvbG9yOiBcIiNlMWU2NzRcIlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCB0cmFja1lTZnggPSA0MDA7XHJcblxyXG4gICAgICAgIHRoaXMuc2Z4VHJhY2sgPSB0aGlzLmFkZC5yZWN0YW5nbGUodHJhY2tYLCB0cmFja1lTZngsIHRyYWNrV2lkdGgsIDE4LCAweDdlMTMxMykuc2V0T3JpZ2luKDAsIDAuNSk7XHJcblxyXG4gICAgICAgIGxldCBjdXJyZW50U2Z4ID0gUGhhc2VyLk1hdGguQ2xhbXAoc2V0dGluZ3MuZ2V0U2Z4Vm9sdW1lKCksIDAsIDEpO1xyXG4gICAgICAgIGxldCBoYW5kbGVTZnhYID0gdHJhY2tYICsgY3VycmVudFNmeCAqIHRyYWNrV2lkdGg7XHJcblxyXG4gICAgICAgIHRoaXMuc2Z4SGFuZGxlID0gdGhpcy5hZGQuaW1hZ2UoaGFuZGxlU2Z4WCwgdHJhY2tZU2Z4LCAnYmF5YXMnKS5zZXRJbnRlcmFjdGl2ZSh7IGRyYWdnYWJsZTogdHJ1ZSB9KTtcclxuICAgICAgICB0aGlzLnNmeEhhbmRsZS5zZXREaXNwbGF5U2l6ZSgxNDAsMTQwKTtcclxuXHJcbiAgICAgICAgLy8gU2UgYWN0aXZhIGFycmFzdHJhciBlbiBsb3MgY29udHJvbGVzXHJcbiAgICAgICAgdGhpcy5pbnB1dC5zZXREcmFnZ2FibGUodGhpcy5icmlsbG9IYW5kbGUpO1xyXG4gICAgICAgIHRoaXMuaW5wdXQuc2V0RHJhZ2dhYmxlKHRoaXMudm9sdW1lbkhhbmRsZSk7XHJcbiAgICAgICAgdGhpcy5pbnB1dC5zZXREcmFnZ2FibGUodGhpcy5zZnhIYW5kbGUpO1xyXG5cclxuICAgICAgICAvLyBTZSBnZXN0aW9uYW4gbG9zIHNsaWRlcnNcclxuICAgICAgICB0aGlzLmlucHV0Lm9uKFwiZHJhZ1wiLCAocG9pbnRlciwgb2JqLCBkcmFnWCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgLy9CcmlsbG9cclxuICAgICAgICAgICAgaWYgKG9iaiA9PT0gdGhpcy5icmlsbG9IYW5kbGUpIHtcclxuICAgICAgICAgICAgICAgIGRyYWdYID0gUGhhc2VyLk1hdGguQ2xhbXAoZHJhZ1gsIHRyYWNrWCwgdHJhY2tYICsgdHJhY2tXaWR0aCk7XHJcbiAgICAgICAgICAgICAgICBvYmoueCA9IGRyYWdYO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCB0ID0gKGRyYWdYIC0gdHJhY2tYKSAvIHRyYWNrV2lkdGg7XHJcbiAgICAgICAgICAgICAgICBicmlnaHRuZXNzUGx1Z2luLnNldEJyaWdodG5lc3MoYnJpbGxvTWluICsgdCAqIChicmlsbG9NYXggLSBicmlsbG9NaW4pKTtcclxuICAgICAgICAgICAgICAgIGJyaWdodG5lc3NQbHVnaW4udXBkYXRlT3ZlcmxheSh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9NdXNpY2FcclxuICAgICAgICAgICAgaWYgKG9iaiA9PT0gdGhpcy52b2x1bWVuSGFuZGxlKSB7XHJcbiAgICAgICAgICAgICAgICBkcmFnWCA9IFBoYXNlci5NYXRoLkNsYW1wKGRyYWdYLCB0cmFja1gsIHRyYWNrWCArIHRyYWNrV2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgb2JqLnggPSBkcmFnWDtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgdCA9IChkcmFnWCAtIHRyYWNrWCkgLyB0cmFja1dpZHRoO1xyXG4gICAgICAgICAgICAgICAgc2V0dGluZ3Muc2V0TXVzaWNWb2x1bWUodCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5zb3VuZHMuZm9yRWFjaChzb3VuZCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdW5kLmtleS5pbmNsdWRlcyhcIm11c2ljYVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VuZC5zZXRWb2x1bWUodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vU2Z4XHJcbiAgICAgICAgICAgIGlmIChvYmogPT09IHRoaXMuc2Z4SGFuZGxlKSB7XHJcbiAgICAgICAgICAgICAgICBkcmFnWCA9IFBoYXNlci5NYXRoLkNsYW1wKGRyYWdYLCB0cmFja1gsIHRyYWNrWCArIHRyYWNrV2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgb2JqLnggPSBkcmFnWDtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgdCA9IChkcmFnWCAtIHRyYWNrWCkgLyB0cmFja1dpZHRoO1xyXG4gICAgICAgICAgICAgICAgc2V0dGluZ3Muc2V0U2Z4Vm9sdW1lKHQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHRlc3QgPSB0aGlzLnNvdW5kLmdldChcInRlc3Rfc2Z4XCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRlc3QpIHRlc3Quc2V0Vm9sdW1lKHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFNlIGNyZWEgZWwgYm90w7NuIGRlIHZvbHZlclxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQwMCwgNTAwLCBcImJvdG9uVm9sdmVyXCIpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSgpXHJcbiAgICAgICAgICAgIC5vbihcInBvaW50ZXJkb3duXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnByZXZpb3VzU2NlbmUgPT09IFwiUGF1c2VTY2VuZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zZXRWaXNpYmxlKHRydWUsIFwiR2FtZVNjZW5lXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc2V0VmlzaWJsZSh0cnVlLCBcIlBhdXNlU2NlbmVcIik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoXCJNZW51U2NlbmVcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICAvLyBTZSBhY3R1YWxpemEgZWwgYnJpbGxvXHJcbiAgICAgICAgY29uc3QgYnJpZ2h0bmVzc1BsdWdpbiA9IHRoaXMucGx1Z2lucy5nZXQoXCJCcmlnaHRuZXNzXCIpO1xyXG4gICAgICAgIGJyaWdodG5lc3NQbHVnaW4udXBkYXRlT3ZlcmxheSh0aGlzKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lT3ZlclNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignR2FtZU92ZXJTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNlIHJlY2liZSBlbCBnYW5hZG9yIGRlc2RlIEdhbWVTY2VuZVxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy53aW5uZXJJRCA9IGRhdGEud2lubmVySUQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2VtcGF0ZV9mJywgJ2Fzc2V0cy9Gb25kb3MvZm9uZG8ucG5nJyk7IFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncXVva2thX3BlcmRlZG9yX2YnLCAnYXNzZXRzL0ZvbmRvcy9xdW9ra2FfcGVyZGVkb3IucG5nJyk7IFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbmFydmFsX3BlcmRlZG9yX2YnLCAnYXNzZXRzL0ZvbmRvcy9uYXJ2YWxfcGVyZGVkb3IucG5nJyk7IFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Wb2x2ZXInLCAnYXNzZXRzL0JvdG9uZXMvdm9sdmVyLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncXVva2thX3BlcmRlZG9yJywgJ2Fzc2V0cy9RdW9ra2EvYmFzdXJhX3RpZXJyYTIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCduYXJ2YWxfcGVyZGVkb3InLCAnYXNzZXRzL05hcnZhbC9yZXNpZHVvX3RveGljb19hZ3VhTi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2VtcGF0ZScsICdhc3NldHMvcXVva2thX25hcnZhbC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uTWVudScsICdhc3NldHMvQm90b25lcy9tZW51LnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuXHJcbiAgICAgICAgY29uc3QgYnJpZ2h0bmVzcyA9IHRoaXMucGx1Z2lucy5nZXQoXCJCcmlnaHRuZXNzXCIpOyAgICAgXHJcbiAgICAgICAgYnJpZ2h0bmVzcy5hcHBseVRvU2NlbmUodGhpcyk7ICAgLy8gU2UgYXBsaWNhIGVsIGJyaWxsb1xyXG5cclxuICAgICAgICAvLyBTZSBlbGlnZSBlbCBmb25kbyBzZWfDum4gZWwgZ2FuYWRvclxyXG4gICAgICAgIGNvbnN0IGJha2Nncm91bmRXaW5uZXIgPSBcclxuICAgICAgICAgICAgdGhpcy53aW5uZXJJRCA9PT0gJ3BsYXllcjEnID8gJ25hcnZhbF9wZXJkZWRvcl9mJyA6XHJcbiAgICAgICAgICAgIHRoaXMud2lubmVySUQgPT09ICdwbGF5ZXIyJyA/ICdxdW9ra2FfcGVyZGVkb3JfZicgOlxyXG4gICAgICAgICAgICAnZW1wYXRlX2YnO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQwMCwgMzAwLCBiYWtjZ3JvdW5kV2lubmVyKS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gU2UgZWxpZ2UgZWwgdGV4dG8gc2Vnw7puIGVsIGdhbmFkb3JcclxuICAgICAgICBjb25zdCB3aW5uZXJUZXh0ID0gXHJcbiAgICAgICAgICAgIHRoaXMud2lubmVySUQgPT09ICdwbGF5ZXIxJyA/ICfCoUdhbmEgUXVva2thIScgOiBcclxuICAgICAgICAgICAgdGhpcy53aW5uZXJJRCA9PT0gJ3BsYXllcjInID8gJ8KhR2FuYSBOYXJ2YWwhJyA6IFxyXG4gICAgICAgICAgICAnwqFFbXBhdGUhJztcclxuXHJcbiAgICAgICAgLy8gU2UgZWxpZ2UgbGEgaW1hZ2VuIGRlbCByZXN1bHRhZG9cclxuICAgICAgICBjb25zdCB3aW5uZXIgPSBcclxuICAgICAgICAgICAgdGhpcy53aW5uZXJJRCA9PT0gJ3BsYXllcjEnID8gJ25hcnZhbF9wZXJkZWRvcicgOiBcclxuICAgICAgICAgICAgdGhpcy53aW5uZXJJRCA9PT0gJ3BsYXllcjInID8gJ3F1b2trYV9wZXJkZWRvcicgOlxyXG4gICAgICAgICAgICAnZW1wYXRlJztcclxuXHJcbiAgICAgICAgLy8gU2UgbXVlc3RyYSBsYSBpbWFnZW4gZGVsIGdhbmFkb3IvZW1wYXRlXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDAwLCA0NTAsIHdpbm5lcikuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIFNlIG11ZXN0cmEgZWwgdGV4dG8gZGVsIHJlc3VsdGFkb1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCA1MCwgd2lubmVyVGV4dCwge1xyXG4gICAgICAgICAgICBmb250RmFtaWx5OiBcImFhYWFhXCIsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2UxZTY3NCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIFNlIGNyZWEgZWwgYm90w7NuIHBhcmEgdm9sdmVyIGFsIG1lbsO6XHJcbiAgICAgICAgY29uc3Qgdm9sdmVyTWVudSA9IHRoaXMuYWRkLmltYWdlKDQyMCwgMTUwLCAnYm90b25NZW51JylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpOyAgLy8gU2UgY2FtYmlhIGEgbGEgZXNjZW5hIGRlbCBtZW7DulxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgLy8gU2UgYWN0dWFsaXphIGVsIGJyaWxsbyBzaSBoYSBjYW1iaWFkb1xyXG4gICAgICAgIGNvbnN0IGJyaWdodG5lc3MgPSB0aGlzLnBsdWdpbnMuZ2V0KFwiQnJpZ2h0bmVzc1wiKTtcclxuICAgICAgICBicmlnaHRuZXNzLnVwZGF0ZU92ZXJsYXkodGhpcyk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29udHJvbGVzIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKCdDb250cm9sZXMnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCl7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblZvbHZlcicsICdhc3NldHMvQm90b25lcy92b2x2ZXIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbkV4cGxpY2FjaW9uJywgJ2Fzc2V0cy9Cb3RvbmVzL2V4cGxpY2FjaW9uLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Db250cm9sZXMnLCAnYXNzZXRzL0JvdG9uZXMvY29udHJvbGVzLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG9Db250cm9sZXMnLCAnYXNzZXRzL0ZvbmRvcy9uYXJ2YWxfcGVyZGVkb3IucG5nJyk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3cnLCAnYXNzZXRzL0JvdG9uZXMvVy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2EnLCAnYXNzZXRzL0JvdG9uZXMvQS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3MnLCAnYXNzZXRzL0JvdG9uZXMvUy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2QnLCAnYXNzZXRzL0JvdG9uZXMvRC5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmbGVjaGExJywgJ2Fzc2V0cy9Cb3RvbmVzL0ZsZWNoYV9BcnIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmbGVjaGEyJywgJ2Fzc2V0cy9Cb3RvbmVzL0ZsZWNoYV9BYmEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmbGVjaGEzJywgJ2Fzc2V0cy9Cb3RvbmVzL0ZsZWNoYV9EZXIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmbGVjaGE0JywgJ2Fzc2V0cy9Cb3RvbmVzL0ZsZWNoYV9JenEucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5wcmV2aW91c1NjZW5lID0gZGF0YT8ucHJldmlvdXNTY2VuZSB8fCBcIk1lbnVTY2VuZVwiO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5tb3N0cmFuZG9Db250cm9sZXMgPSB0cnVlOyBcclxuXHJcbiAgICAgICAgY29uc3QgYnJpZ2h0bmVzcyA9IHRoaXMucGx1Z2lucy5nZXQoXCJCcmlnaHRuZXNzXCIpOyAgLy9BanVzdGVzIGRlIGJyaWxsb1xyXG4gICAgICAgIGJyaWdodG5lc3MuYXBwbHlUb1NjZW5lKHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDMwMCwgJ2ZvbmRvQ29udHJvbGVzJykuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg0MDAsIDMwMCwgNzAwLCA1MDAsIDB4YWE5OWIwLCAwLjcgKTsgLy9Gb25kbyBwYXJhIHF1ZSBzZSB2ZWEgbGEgbGV0cmHCtFxyXG5cclxuICAgICAgICB0aGlzLmNvbnRyb2xlc0NvbnRhaW5lciA9IHRoaXMuYWRkLmNvbnRhaW5lcigpO1xyXG4gICAgICAgIHRoaXMuY29udHJvbGVzQ29udGFpbmVyLmFkZChbICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLDEwMCwgJ0NvbnRyb2xlcycsXHJcbiAgICAgICAgICAgIHsgICBcclxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiYWFhYWFcIixcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnNjRweCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogJyNlMWU2NzQnXHJcbiAgICAgICAgICAgIH0pLnNldE9yaWdpbigwLjUpLFxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5hZGQudGV4dCgyNTAsIDIwMCwgJ1F1b2trYScsXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogXCJhYWFhYVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjZTFlNjc0J1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApLnNldE9yaWdpbigwLjUpLFxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMjUwLCAyNzUsICd3Jykuc2V0T3JpZ2luKDAuNSksXHJcbiAgICAgICAgICAgIHRoaXMuYWRkLmltYWdlKDE3MCwgMzUwLCAnYScpLnNldE9yaWdpbigwLjUpLFxyXG4gICAgICAgICAgICB0aGlzLmFkZC5pbWFnZSgyNTAsIDM1MCwgJ3MnKS5zZXRPcmlnaW4oMC41KSxcclxuICAgICAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMzMwLCAzNTAsICdkJykuc2V0T3JpZ2luKDAuNSksXHJcbiAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgdGhpcy5hZGQudGV4dCg1NzUsIDIwMCwgJyAgICBOYXJ2YWwvIFxcbnZlcnNpw7NuIG9ubGluZScsXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogXCJhYWFhYVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjZTFlNjc0J1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApLnNldE9yaWdpbigwLjUpLFxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuYWRkLmltYWdlKDU3NSwgMjc1LCAnZmxlY2hhMScpLnNldE9yaWdpbigwLjUpLFxyXG4gICAgICAgICAgICB0aGlzLmFkZC5pbWFnZSg0OTUsIDM1MCwgJ2ZsZWNoYTQnKS5zZXRPcmlnaW4oMC41KSxcclxuICAgICAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNTc1LCAzNTAsICdmbGVjaGEyJykuc2V0T3JpZ2luKDAuNSksXHJcbiAgICAgICAgICAgIHRoaXMuYWRkLmltYWdlKDY1NSwgMzUwLCAnZmxlY2hhMycpLnNldE9yaWdpbigwLjUpLFxyXG4gICAgICAgICAgICBcclxuICAgICAgICBdKTtcclxuXHJcbiAgICAgICAgLy9ib3TDs24gcGFyYSB2b2x2ZXJcclxuICAgICAgICBjb25zdCBib3RvbkNhbWJpYXIgPSB0aGlzLmFkZC5pbWFnZSg1NzUsIDUwMCwgJ2JvdG9uRXhwbGljYWNpb24nKVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSgpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYodGhpcy5tb3N0cmFuZG9Db250cm9sZXMpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb3N0cmFuZG9Db250cm9sZXMgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xlc0NvbnRhaW5lci5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXhwbGljYWNpb25Db250YWluZXIuc2V0VmlzaWJsZSh0cnVlKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZighdGhpcy5tb3N0cmFuZG9Db250cm9sZXMpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb3N0cmFuZG9Db250cm9sZXMgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbGVzQ29udGFpbmVyLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV4cGxpY2FjaW9uQ29udGFpbmVyLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJvdG9uQ2FtYmlhci5zZXRUZXh0dXJlKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5tb3N0cmFuZG9Db250cm9sZXMgPyAnYm90b25FeHBsaWNhY2lvbicgOiAnYm90b25Db250cm9sZXMnXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuZXhwbGljYWNpb25Db250YWluZXIgPSB0aGlzLmFkZC5jb250YWluZXIoKTtcclxuICAgICAgICB0aGlzLmV4cGxpY2FjaW9uQ29udGFpbmVyLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuZXhwbGljYWNpb25Db250YWluZXIuYWRkKFtcclxuICAgICAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDI1MCwgXHJcbiAgICAgICAgICAgICAgICAnRWwgb2JqZXRpdm8gZGUgZXN0ZSBqdWVnbyBlcyByZWNvZ2VyIG3DoXMgYmFzdXJhIHF1ZSBlbCBlbmVtaWdvLlxcblxcbicgK1xyXG4gICAgICAgICAgICAgICAgJ0NhZGEgdW5vIHRpZW5lIHBvd2VyIHVwcyAoYmF5YXMgbyBwZWNlcykgcXVlIGxlcyBkYW4gbcOhcyBwdW50dWFjacOzbi5cXG5cXG4nICtcclxuICAgICAgICAgICAgICAgICdMb3MgY3Vib3MgZGUgYmFzdXJhIGRlbCBjZW50cm8gcGVyanVkaWNhbiBhbCBlbmVtaWdvLiBTaSBlc3RlIHRpZW5lIHVuIHBvd2VyIHVwIHNlIGxvIHF1aXRhXFxuJyArXHJcbiAgICAgICAgICAgICAgICAnbyBkZSBsbyBjb250cmFyaW8gc2UgbGUgaW5tb3ZpbGl6YXLDoS5cXG5cXG4nICtcclxuICAgICAgICAgICAgICAgICdMb3MgdmVydGlkb3MgZGFuIDEwIHB1bnRvcy5cXG5cXG4nK1xyXG4gICAgICAgICAgICAgICAgJ0N1YW5kbyB0ZXJtaW5lbiBsb3MgMiBtaW51dG9zIGRlbCB0ZW1wb3JpemFkb3IgYWNhYmFyw6EgZWwganVlZ28geSBlbCBqdWdhZG9yIGNvbiBtYXlvciBwdW50dWFjacOzbiBnYW5hcsOhLicsXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogXCJhYWFhYVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjZTFlNjc0JyxcclxuICAgICAgICAgICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgd29yZFdyYXA6IHsgd2lkdGg6IDUwMCB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICBdKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMjUwLCA1MDAsIFwiYm90b25Wb2x2ZXJcIiwpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKClcclxuICAgICAgICAub24oXCJwb2ludGVyZG93blwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXZpb3VzU2NlbmUgPT09IFwiUGF1c2VTY2VuZVwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnNldFZpc2libGUodHJ1ZSwgXCJHYW1lU2NlbmVcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnNldFZpc2libGUodHJ1ZSwgXCJQYXVzZVNjZW5lXCIpO1xyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoXCJNZW51U2NlbmVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IGJyaWdodG5lc3MgPSB0aGlzLnBsdWdpbnMuZ2V0KFwiQnJpZ2h0bmVzc1wiKTtcclxuICAgICAgICBicmlnaHRuZXNzLnVwZGF0ZU92ZXJsYXkodGhpcyk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBjb25uZWN0aW9uTWFuYWdlciB9IGZyb20gJy4uL3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyJztcclxuXHJcbi8qKlxyXG4gKiBFc2NlbmEgcXVlIHNlIG11ZXN0cmEgY3VhbmRvIHNlIHBpZXJkZSBsYSBjb25leGnDs24gY29uIGVsIHNlcnZpZG9yXHJcbiAqIFBhdXNhIGVsIHJlc3RvIGRlIGVzY2VuYXMgeSBjb21wcnVlYmEgY29udGludWFtZW50ZSBoYXN0YSBxdWUgc2UgcmVzdGFibGV6Y2FcclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb25uZWN0aW9uTG9zdFNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdDb25uZWN0aW9uTG9zdFNjZW5lJyk7XHJcbiAgICAgICAgdGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KGRhdGEpIHtcclxuICAgICAgICAvLyBHdWFyZGFyIGxhIGVzY2VuYSBxdWUgZXN0YWJhIGFjdGl2YSBjdWFuZG8gc2UgcGVyZGnDsyBsYSBjb25leGnDs25cclxuICAgICAgICB0aGlzLnByZXZpb3VzU2NlbmUgPSBkYXRhLnByZXZpb3VzU2NlbmU7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vIEZvbmRvIHNlbWktdHJhbnNwYXJlbnRlXHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDQwMCwgMzAwLCA4MDAsIDYwMCwgMHgwMDAwMDAsIDAuOCk7XHJcblxyXG4gICAgICAgIC8vIFTDrXR1bG9cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgMjAwLCAnQ09ORVhJw5NOIFBFUkRJREEnLCB7XHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdhYWFhYScsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmMDAwMCcsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIE1lbnNhamVcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQgPSB0aGlzLmFkZC50ZXh0KDQwMCwgMzAwLCAnSW50ZW50YW5kbyByZWNvbmVjdGFyLi4uJywge1xyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnYWFhYWEnLCAgICBcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZjAwJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBDb250YWRvciBkZSBpbnRlbnRvc1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdENvdW50ID0gMDtcclxuICAgICAgICB0aGlzLmF0dGVtcHRUZXh0ID0gdGhpcy5hZGQudGV4dCg0MDAsIDM1MCwgJ0ludGVudG9zOiAwJywge1xyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnYWFhYWEnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIEluZGljYWRvciBwYXJwYWRlYW50ZVxyXG4gICAgICAgIHRoaXMuZG90Q291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgIGRlbGF5OiAyMDAwLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kb3RDb3VudCA9ICh0aGlzLmRvdENvdW50ICsgMSkgJSA0O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZG90cyA9ICcuJy5yZXBlYXQodGhpcy5kb3RDb3VudCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dChgSW50ZW50YW5kbyByZWNvbmVjdGFyJHtkb3RzfWApO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIExpc3RlbmVyIHBhcmEgY2FtYmlvcyBkZSBjb25leGnDs25cclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmNvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vblJlY29ubmVjdGVkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLmFkZExpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuXHJcbiAgICAgICAgLy8gSW50ZW50YXIgcmVjb25lY3RhciBjYWRhIDIgc2VndW5kb3NcclxuICAgICAgICB0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0ZW1wdFJlY29ubmVjdCgpO1xyXG4gICAgICAgIH0sIDIwMDApO1xyXG5cclxuICAgICAgICAvLyBQcmltZXIgaW50ZW50byBpbm1lZGlhdG9cclxuICAgICAgICB0aGlzLmF0dGVtcHRSZWNvbm5lY3QoKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBhdHRlbXB0UmVjb25uZWN0KCkge1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdENvdW50Kys7XHJcbiAgICAgICAgdGhpcy5hdHRlbXB0VGV4dC5zZXRUZXh0KGBJbnRlbnRvczogJHt0aGlzLmF0dGVtcHRDb3VudH1gKTtcclxuICAgICAgICBhd2FpdCBjb25uZWN0aW9uTWFuYWdlci5jaGVja0Nvbm5lY3Rpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBvblJlY29ubmVjdGVkKCkge1xyXG4gICAgICAgIC8vIExpbXBpYXIgaW50ZXJ2YWxcclxuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZXIgbGlzdGVuZXJcclxuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcblxyXG4gICAgICAgIC8vIE1lbnNhamUgZGUgw6l4aXRvXHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ8KhQ29uZXhpw7NuIHJlc3RhYmxlY2lkYSEnKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyMwMGZmMDAnKTtcclxuXHJcbiAgICAgICAgLy8gVm9sdmVyIGEgbGEgZXNjZW5hIGFudGVyaW9yXHJcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDEwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXZpb3VzU2NlbmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKHRoaXMucHJldmlvdXNTY2VuZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICAvLyBMaW1waWFyIGVsIGludGVydmFsIGFsIGNlcnJhciBsYSBlc2NlbmFcclxuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUmVtb3ZlciBlbCBsaXN0ZW5lclxyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgY29ubmVjdGlvbk1hbmFnZXIgfSBmcm9tICcuLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlcic7XHJcbmltcG9ydCB7IFBlcnNvbmFqZXMgfSBmcm9tICcuLi9lbnRpdGllcy9QZXJzb25hamVzJztcclxuXHJcbi8qKlxyXG4gKiBNdWx0aXBsYXllciBHYW1lIFNjZW5lIC0gT25saW5lIHBvbmcgZ2FtZVxyXG4gKiBCYWxsIHBoeXNpY3MgcnVuIG9uIGJvdGggY2xpZW50cyAoZGV0ZXJtaW5pc3RpYylcclxuICogU2VydmVyIG9ubHkgdHJhY2tzIHNjb3JlcyBhbmQgcmVsYXlzIHBhZGRsZSBwb3NpdGlvbnNcclxuICovXHJcbmV4cG9ydCBjbGFzcyBNdWx0aXBsYXllckdhbWVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdNdWx0aXBsYXllckdhbWVTY2VuZScpO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIEZvbmRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbycsICdhc3NldHMvRm9uZG9zL2ZvbmRvX2p1ZWdvLnBuZycpOyBcclxuXHJcbiAgICAgICAgLy8gSXRlbXNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2Jhc3VyYScsICdhc3NldHMvSXRlbXMvYmFzdXJhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndmVydGlkbycsICdhc3NldHMvSXRlbXMvYmFzdXJhX3RpZXJyYTEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd2ZXJ0aWRvMScsICdhc3NldHMvSXRlbXMvcmVzaWR1b190b3hpY29fYWd1YS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3ByaW5ndWUnLCAnYXNzZXRzL0l0ZW1zL2N1Ym8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb3dlclF1b2thJywgJ2Fzc2V0cy9JdGVtcy9iYXlhcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3Bvd2VyTmFydmFsJywgJ2Fzc2V0cy9JdGVtcy9wZXoucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0b3hpY0FndWEnLCAnYXNzZXRzL0l0ZW1zL3Jlc2lkdW9fdG94aWNvX2FndWEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0b3hpY29UaWVycmEnLCAnYXNzZXRzL0l0ZW1zL2Jhc3VyYV90aWVycmExLnBuZycpO1xyXG5cclxuICAgICAgICAvL1F1b2trYVxyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgncXVva2thRnJlbnRlJywgJ2Fzc2V0cy9RdW9ra2EvcXVva2thX2Zyb250X3ZpZXdfYW5pbWF0aW9uLnBuZycsIHtcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDoyNTYsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiAyNTZcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3F1b2trYUF0cmFzJywgJ2Fzc2V0cy9RdW9ra2EvcXVva2thX2JhY2tfdmlld19hbmltYXRpb24ucG5nJywge1xyXG4gICAgICAgICAgICBmcmFtZVdpZHRoOjI1NixcclxuICAgICAgICAgICAgZnJhbWVIZWlnaHQ6IDI1NlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgncXVva2thSXpxdWllcmRhJywgJ2Fzc2V0cy9RdW9ra2EvcXVva2thX3NpZGUyX3ZpZXctYW5pbWF0aW9uLnBuZycsIHtcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDoyNTYsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiAyNTZcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3F1b2trYURlcmVjaGEnLCAnYXNzZXRzL1F1b2trYS9xdW9ra2Ffc2lkZTFfdmlldy1hbmltYXRpb24ucG5nJywge1xyXG4gICAgICAgICAgICBmcmFtZVdpZHRoOjI1NixcclxuICAgICAgICAgICAgZnJhbWVIZWlnaHQ6IDI1NlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0NvbiBQb3dlclVwc1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3F1b2trYUZyZW50ZVAnLCAnYXNzZXRzL1F1b2trYS9xdW9ra2FfZnJvbnRfci5wbmcnLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6MjU2LFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogMjU2XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdxdW9ra2FBdHJhc1AnLCAnYXNzZXRzL1F1b2trYS9xdW9ra2FfYmFja19yLnBuZycsIHtcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDoyNTYsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiAyNTZcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3F1b2trYUl6cXVpZXJkYVAnLCAnYXNzZXRzL1F1b2trYS9xdW9ra2FfaXpxdWlfci5wbmcnLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6MjU2LFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogMjU2XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdxdW9ra2FEZXJlY2hhUCcsICdhc3NldHMvUXVva2thL3F1b2trYV9kZXJlY2hfci5wbmcnLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6MjU2LFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogMjU2XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vQWZlY3RhZG8gcG9yIGVsIHByaW5ndWVcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3ByaW5ndWVRdW9ra2EnLCAnYXNzZXRzL1F1b2trYS9iYXN1cmFfdGllcnJhMy5wbmcnKTtcclxuICAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAvL05hcnZhbFxyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnbmFydmFsRnJlbnRlJywgJ2Fzc2V0cy9OYXJ2YWwvbmFydmFsX2Rvd25fdmlldy1hbmltYXRpb24ucG5nJywge1xyXG4gICAgICAgICAgICBmcmFtZVdpZHRoOjI1NixcclxuICAgICAgICAgICAgZnJhbWVIZWlnaHQ6IDI1NlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnbmFydmFsQXRyYXMnLCAnYXNzZXRzL05hcnZhbC9uYXJ2YWxfdG9wX3ZpZXctYW5pbWF0aW9uLnBuZycsIHtcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDoyNTYsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiAyNTZcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ25hcnZhbEl6cXVpZXJkYScsICdhc3NldHMvTmFydmFsL25hcnZhbF9zaWRlMl92aWV3LWFuaW1hdGlvbi5wbmcnLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6MjU2LFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogMjU2XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCduYXJ2YWxEZXJlY2hhJywgJ2Fzc2V0cy9OYXJ2YWwvbmFydmFsX3NpZGUxX3ZpZXctYW5pbWF0aW9uLnBuZycsIHtcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDoyNTYsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiAyNTZcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9Db24gUG93ZXJVcHNcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCduYXJ2YWxGcmVudGVQJywgJ2Fzc2V0cy9OYXJ2YWwvbmFydmFsX2Rvd25fci5wbmcnLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6MjU2LFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogMjU2XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCduYXJ2YWxBdHJhc1AnLCAnYXNzZXRzL05hcnZhbC9uYXJ2YWxfYXJyaWJhX3IucG5nJywge1xyXG4gICAgICAgICAgICBmcmFtZVdpZHRoOjI1NixcclxuICAgICAgICAgICAgZnJhbWVIZWlnaHQ6IDI1NlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnbmFydmFsSXpxdWllcmRhUCcsICdhc3NldHMvTmFydmFsL25hcnZhbF9penF1aV9yLnBuZycsIHtcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDoyNTYsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiAyNTZcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ25hcnZhbERlcmVjaGFQJywgJ2Fzc2V0cy9OYXJ2YWwvbmFydmFsX2RlcmVjaF9yLnBuZycsIHtcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDoyNTYsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiAyNTZcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9BZmVjdGFkbyBwb3IgZWwgcHJpbmd1ZVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHJpbmd1ZU5hcnZhbCcsICdhc3NldHMvTmFydmFsL3Jlc2lkdW9fdG94aWNvX2FndWFTLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBFZmVjdG9zIGRlIHNvbmlkb1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygncmVjb2dlckJhc3VyYScsICdhc3NldHMvU29uaWRvL3JlY29nZXJCYXN1cmEubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdwbGV1Z2gxJywgJ2Fzc2V0cy9Tb25pZG8vcGxldWdoLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygncGxldWdoMicsICdhc3NldHMvU29uaWRvL3BsdWgubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdwb3dlclVwU291bmQnLCAnYXNzZXRzL1Nvbmlkby9wb3dlclVwLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnZmluVGVtcG9yaXphZG9yJywgJ2Fzc2V0cy9Tb25pZG8vdGVtcDIubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdnYXZpb3RhJywgJ2Fzc2V0cy9Tb25pZG8vZ2F2aW90YS5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ211c2ljYV9qdWVnbycsICdhc3NldHMvU29uaWRvL0F1ZGlvIEp1ZWdvLm00YScpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoZGF0YSkge1xyXG4gICAgICAgIHRoaXMud3MgPSBkYXRhLndzO1xyXG4gICAgICAgIHRoaXMucGxheWVyUm9sZSA9IGRhdGEucGxheWVyUm9sZTsgLy8gJ3BsYXllcjEnIG9yICdwbGF5ZXIyJ1xyXG4gICAgICAgIHRoaXMucm9vbUlkID0gZGF0YS5yb29tSWQ7XHJcblxyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmdhbWVFbmRlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLmxvY2FsSnVnYWRvciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5yZW1vdGVKdWdhZG9yID0gbnVsbDtcclxuICAgICAgICB0aGlzLmxvY2FsU2NvcmUgPSAwO1xyXG4gICAgICAgIHRoaXMucmVtb3RlU2NvcmUgPSAwO1xyXG5cclxuICAgICAgICAvLyBJbml0aWFsaXplIHByb3BlcnRpZXNcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucG93ZXJVcEFjdGl2ZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5zdGlja3lBY3RpdmUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucG93ZXJVcFRpbWVycyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy50cmFzaEdyb3VwID0gbnVsbDtcclxuICAgICAgICB0aGlzLnBvd2VyVXBHcm91cCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5zdGlja3lHcm91cCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5zcGlsbEdyb3VwID0gbnVsbDtcclxuICAgICAgICB0aGlzLmludmVydEdyb3VwID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5zdGlja3lTcGF3blRpbWVyID0ge1xyXG4gICAgICAgICAgICAncGxheWVyMSc6IG51bGwsXHJcbiAgICAgICAgICAgICdwbGF5ZXIyJzogbnVsbFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuaW52ZXJ0Q29udHJvbHMgPSB7XHJcbiAgICAgICAgICAgIHBsYXllcjE6IGZhbHNlLFxyXG4gICAgICAgICAgICBwbGF5ZXIyOiBmYWxzZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5lbmRBdCA9IGRhdGEuZW5kQXQgfHwgbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gQcOxYWRpciBmb25kbyB5IHN1IGJyaWxsb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQwMCwgMzAwLCAnZm9uZG8nKS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBjb25zdCBicmlnaHRuZXNzID0gdGhpcy5wbHVnaW5zLmdldChcIkJyaWdodG5lc3NcIik7XHJcbiAgICAgICAgYnJpZ2h0bmVzcy5hcHBseVRvU2NlbmUodGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMuY3JlYXRlQW5pbWF0aW9ucygpO1xyXG5cclxuICAgICAgICAvLyBUZXh0byBQdW50dWFjaW9uXHJcbiAgICAgICAgdGhpcy5zY29yZVF1b2thID0gdGhpcy5hZGQudGV4dCgxMDAsIDMwLCAnMCcsIHtcclxuICAgICAgICAgICAgZm9udEZhbWlseTogXCJhYWFhYVwiLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzM4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNkOWRmNWRmZicsXHJcbiAgICAgICAgICAgIGZpeGVkV2lkdGg6IDEyMCxcclxuICAgICAgICAgICAgYWxpZ246ICdsZWZ0J1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLCAwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLnNjb3JlTmFydmFsID0gdGhpcy5hZGQudGV4dCg3MDAsIDMwLCAnMCcsIHtcclxuICAgICAgICAgICAgZm9udEZhbWlseTogXCJhYWFhYVwiLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzM4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNkOWRmNWRmZicsXHJcbiAgICAgICAgICAgIGZpeGVkV2lkdGg6IDEyMCxcclxuICAgICAgICAgICAgYWxpZ246ICdyaWdodCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMSwgMC41KTtcclxuXHJcbiAgICAgICAgLy8gUm9sZSBpbmRpY2F0b3JcclxuICAgICAgICBjb25zdCByb2xlVGV4dCA9IHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnID8gJ1F1b2trYScgOiAnTmFydmFsJztcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgMTAwLCByb2xlVGV4dCwge1xyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnYWFhYWEnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIENyZWFyIGzDrW1pdGVzIGRlIGxvcyBqdWdhZG9yZXMgeSBwcmVwYXJhciBkaWNob3MganVnYWRvcmVzXHJcbiAgICAgICAgdGhpcy5jcmVhdGVCb3VuZHMoKTtcclxuICAgICAgICB0aGlzLnNldFVwUGxheWVycygpO1xyXG5cclxuICAgICAgICB0aGlzLmVzY0tleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5FU0MpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFRlbXBvcml6YWRvciBkZSAyIG1pbnV0b3NcclxuICAgICAgICB0aGlzLnRpbWVyVGV4dCA9IHRoaXMuYWRkLnRleHQoMjc4LCAxNywgXCJUaWVtcG86IC0tXCIsIHtcclxuICAgICAgICAgICAgZm9udEZhbWlseTogXCJhYWFhYVwiLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogXCIyNHB4XCIsXHJcbiAgICAgICAgICAgIGNvbG9yOiBcIiM5ZGEyM2NmZlwiXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvL0dydXBvcyBkZSBvYmpldG9zXHJcbiAgICAgICAgdGhpcy5zdGlja3lHcm91cCA9IHRoaXMucGh5c2ljcy5hZGQuZ3JvdXAoKTtcclxuICAgICAgICB0aGlzLnRyYXNoR3JvdXAgPSB0aGlzLnBoeXNpY3MuYWRkLmdyb3VwKCk7XHJcbiAgICAgICAgdGhpcy5wb3dlclVwR3JvdXAgPSB0aGlzLnBoeXNpY3MuYWRkLmdyb3VwKCk7XHJcbiAgICAgICAgdGhpcy5zcGlsbEdyb3VwID0gdGhpcy5waHlzaWNzLmFkZC5ncm91cCgpO1xyXG4gICAgICAgIHRoaXMuaW52ZXJ0R3JvdXAgPSB0aGlzLnBoeXNpY3MuYWRkLmdyb3VwKCk7XHJcblxyXG4gICAgICAgIGlmKHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnKXtcclxuICAgICAgICAgICAgdGhpcy5zdGlja3lHZW5lcmF0aW9uVGltZXIgPSB0aGlzLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICAgICAgICAgICAgZGVsYXk6IDEwMDAwLFxyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IHRoaXMuc3Bhd25TdGlja3ksXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFja1Njb3BlOiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgbG9vcDogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBHZW5lcmFjacOzbiBkZSBiYXN1cmFcclxuICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy50cmFzaFNwYXduVGltZXIgPSB0aGlzLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICAgICAgICAgICAgZGVsYXk6IDcwMCxcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiB0aGlzLnNwYXduVHJhc2gsXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFja1Njb3BlOiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgbG9vcDogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gR2VuZXJhY2nDs24gZGUgUG93ZXIgVXBzXHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgICAgICBkZWxheTogNTAwMCwgXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogdGhpcy50cnlTcGF3blBvd2VyVXAsXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFja1Njb3BlOiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgbG9vcDogdHJ1ZVxyXG4gICAgICAgICAgICB9KTsgXHJcblxyXG4gICAgICAgIC8vIEdlbmVyYWNpw7NuIGRlIHZlcnRpZG9zXHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuc3BpbGxTcGF3blRpbWVyID0gdGhpcy50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICAgICAgICAgIGRlbGF5OiA1MDAwLFxyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IHRoaXMuc3Bhd25TcGlsbCxcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrU2NvcGU6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICAgICAgICAgIGRlbGF5OiA1MDAwLCBcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiB0aGlzLnRyeVNwYXduSW52ZXJ0ZWQsXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFja1Njb3BlOiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgbG9vcDogdHJ1ZVxyXG4gICAgICAgICAgICB9KTsgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFNvbmlkbyBkZSBnYXZpb3RhXHJcbiAgICAgICAgdGhpcy5zZWFndWxsU291bmRUaW1lciA9IHRoaXMudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgIGRlbGF5OiAxNTAwMCxcclxuICAgICAgICAgICAgY2FsbGJhY2s6IHRoaXMudHJ5UGxheVNvdW5kLFxyXG4gICAgICAgICAgICBjYWxsYmFja1Njb3BlOiB0aGlzLFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEVmZWN0b3MgZGUgc29uaWRvXHJcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSB0aGlzLnBsdWdpbnMuZ2V0KFwiR2xvYmFsU2V0dGluZ3NcIik7XHJcbiAgICAgICAgY29uc3Qgc2Z4Vm9sID0gc2V0dGluZ3MuZ2V0U2Z4Vm9sdW1lKCk7XHJcblxyXG4gICAgICAgIHRoaXMucmVjb2dlckJhc3VyYSA9IHRoaXMuc291bmQuYWRkKCdyZWNvZ2VyQmFzdXJhJywge1xyXG4gICAgICAgICAgICB2b2x1bWU6IHNmeFZvbCxcclxuICAgICAgICAgICAgbG9vcDogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBsZXVnaDEgPSB0aGlzLnNvdW5kLmFkZCgncGxldWdoMScsIHtcclxuICAgICAgICAgICAgdm9sdW1lOiBzZnhWb2wsXHJcbiAgICAgICAgICAgIGxvb3A6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wbGV1Z2gyID0gdGhpcy5zb3VuZC5hZGQoJ3BsZXVnaDInLCB7XHJcbiAgICAgICAgICAgIHZvbHVtZTogc2Z4Vm9sLFxyXG4gICAgICAgICAgICBsb29wOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucG93ZXJVcFNvdW5kID0gdGhpcy5zb3VuZC5hZGQoJ3Bvd2VyVXBTb3VuZCcsIHtcclxuICAgICAgICAgICAgdm9sdW1lOiBzZnhWb2wsXHJcbiAgICAgICAgICAgIGxvb3A6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy50aWVtcG9NdWVydG8gPSB0aGlzLnNvdW5kLmFkZCgnZmluVGVtcG9yaXphZG9yJywge1xyXG4gICAgICAgICAgICB2b2x1bWU6IHNmeFZvbCxcclxuICAgICAgICAgICAgbG9vcDogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmdhdmlvdGEgPSB0aGlzLnNvdW5kLmFkZCgnZ2F2aW90YScsIHtcclxuICAgICAgICAgICAgdm9sdW1lOiBzZnhWb2wvMjAsXHJcbiAgICAgICAgICAgIGxvb3A6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKFwicmVzdW1lXCIsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSB0aGlzLnBsdWdpbnMuZ2V0KFwiR2xvYmFsU2V0dGluZ3NcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IHYgPSBzZXR0aW5ncy5nZXRTZnhWb2x1bWUoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVjb2dlckJhc3VyYS5zZXRWb2x1bWUodik7XHJcbiAgICAgICAgICAgIHRoaXMucGxldWdoMS5zZXRWb2x1bWUodik7XHJcbiAgICAgICAgICAgIHRoaXMucGxldWdoMi5zZXRWb2x1bWUodik7XHJcbiAgICAgICAgICAgIHRoaXMucG93ZXJVcFNvdW5kLnNldFZvbHVtZSh2KTtcclxuICAgICAgICAgICAgdGhpcy50aWVtcG9NdWVydG8uc2V0Vm9sdW1lKHYpO1xyXG4gICAgICAgICAgICB0aGlzLmdhdmlvdGEuc2V0Vm9sdW1lKHYvMjApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBNw7pzaWNhIGRlIGZvbmRvXHJcbiAgICAgICAgdGhpcy5tdXNpY2EgPSB0aGlzLnNvdW5kLmFkZChcIm11c2ljYV9qdWVnb1wiLCB7XHJcbiAgICAgICAgICAgIHZvbHVtZTogc2V0dGluZ3MuZ2V0TXVzaWNWb2x1bWUoKSxcclxuICAgICAgICAgICAgbG9vcDogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm11c2ljYS5wbGF5KCk7ICBcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmV2ZW50cy5vbihcInJlc3VtZVwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNldHRpbmdzID0gdGhpcy5wbHVnaW5zLmdldChcIkdsb2JhbFNldHRpbmdzXCIpO1xyXG4gICAgICAgICAgICBjb25zdCB2ID0gc2V0dGluZ3MuZ2V0TXVzaWNWb2x1bWUoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEJ1c2NhIFRPREFTIGxhcyBtw7pzaWNhcyBlbiBsYSBlc2NlbmFcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5zb3VuZHMuZm9yRWFjaChzb3VuZCA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc291bmQua2V5LmluY2x1ZGVzKFwibXVzaWNhXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc291bmQuc2V0Vm9sdW1lKHYpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ3NodXRkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5tdXNpY2EpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVzaWNhLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVzaWNhLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGlmKCFkYXRhLmNvbm5lY3RlZCAmJiB0aGlzLnNjZW5lLmlzQWN0aXZlKCkpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbm5lY3Rpb25Mb3N0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLmFkZExpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuXHJcbiAgICAgICAgLy8gU2V0IHVwIFdlYlNvY2tldCBsaXN0ZW5lcnNcclxuICAgICAgICB0aGlzLnNldHVwV2ViU29ja2V0TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgICAgIC8vIFNldCB1cCBpbnB1dCAtIGFtYm9zIGp1Z2Fkb3JlcyB1c2FuIGZsZWNoYXNcclxuICAgICAgICB0aGlzLmN1cnNvcnMgPSB0aGlzLmlucHV0LmtleWJvYXJkLmNyZWF0ZUN1cnNvcktleXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkNvbm5lY3Rpb25Mb3N0KCkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnQ29ubmVjdGlvbkxvc3RTY2VuZScsIHsgcHJldmlvdXNTY2VuZTogJ0dhbWVTY2VuZSd9KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVBbmltYXRpb25zKCl7XHJcbiAgICAgICAgLy9RdW9ra2FcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3F1b2trYV93YWxrX2Zyb250JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdxdW9ra2FGcmVudGUnLCB7c3RhcnQ6IDAsIGVuZDozfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3F1b2trYV93YWxrX2JhY2snLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ3F1b2trYUF0cmFzJywge3N0YXJ0OiAwLCBlbmQ6M30pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdxdW9ra2Ffd2Fsa19sZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdxdW9ra2FJenF1aWVyZGEnLCB7c3RhcnQ6IDAsIGVuZDoyfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3F1b2trYV93YWxrX3JpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdxdW9ra2FEZXJlY2hhJywge3N0YXJ0OiAwLCBlbmQ6Mn0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vUXVva2thIFBvd2VyVXBcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3F1b2trYV93YWxrX2Zyb250UCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygncXVva2thRnJlbnRlUCcsIHtzdGFydDogMCwgZW5kOjN9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAncXVva2thX3dhbGtfYmFja1AnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ3F1b2trYUF0cmFzUCcsIHtzdGFydDogMCwgZW5kOjN9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAncXVva2thX3dhbGtfbGVmdFAnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ3F1b2trYUl6cXVpZXJkYVAnLCB7c3RhcnQ6IDAsIGVuZDoyfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3F1b2trYV93YWxrX3JpZ2h0UCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygncXVva2thRGVyZWNoYVAnLCB7c3RhcnQ6IDAsIGVuZDoyfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9OYXJ2YWxcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ25hcnZhbF93YWxrX2Zyb250JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCduYXJ2YWxGcmVudGUnLCB7c3RhcnQ6IDAsIGVuZDoyfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ25hcnZhbF93YWxrX2JhY2snLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ25hcnZhbEF0cmFzJywge3N0YXJ0OiAwLCBlbmQ6Mn0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ25hcnZhbF93YWxrX2xlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ25hcnZhbEl6cXVpZXJkYScsIHtzdGFydDogMCwgZW5kOjJ9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnbmFydmFsX3dhbGtfcmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ25hcnZhbERlcmVjaGEnLCB7c3RhcnQ6IDAsIGVuZDoyfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KVxyXG4gICAgICAgIC8vTmFydmFsIFBvd2VyVXBcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ25hcnZhbF93YWxrX2Zyb250UCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnbmFydmFsRnJlbnRlUCcsIHtzdGFydDogMCwgZW5kOjJ9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnbmFydmFsX3dhbGtfYmFja1AnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ25hcnZhbEF0cmFzUCcsIHtzdGFydDogMCwgZW5kOjJ9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICduYXJ2YWxfd2Fsa19sZWZ0UCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnbmFydmFsSXpxdWllcmRhUCcsIHtzdGFydDogMCwgZW5kOjJ9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnbmFydmFsX3dhbGtfcmlnaHRQJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCduYXJ2YWxEZXJlY2hhUCcsIHtzdGFydDogMCwgZW5kOjJ9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXBQbGF5ZXJzKCkge1xyXG4gICAgICAgIC8vIENyZWF0ZSBwbGF5ZXJzIGJhc2VkIG9uIHBsYXllciByb2xlXHJcbiAgICAgICAgaWYgKHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxKdWdhZG9yID0gbmV3IFBlcnNvbmFqZXModGhpcywgJ3BsYXllcjEnLCA1MCwgMzAwKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdGVKdWdhZG9yID0gbmV3IFBlcnNvbmFqZXModGhpcywgJ3BsYXllcjInLCA3NTAsIDMwMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbEp1Z2Fkb3IgPSBuZXcgUGVyc29uYWplcyh0aGlzLCAncGxheWVyMicsIDc1MCwgMzAwKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdGVKdWdhZG9yID0gbmV3IFBlcnNvbmFqZXModGhpcywgJ3BsYXllcjEnLCA1MCwgMzAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBwbGF5ZXIgdHJhY2tpbmdcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMScsIHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnID8gdGhpcy5sb2NhbEp1Z2Fkb3IgOiB0aGlzLnJlbW90ZUp1Z2Fkb3IpO1xyXG4gICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjInLCB0aGlzLnBsYXllclJvbGUgPT09ICdwbGF5ZXIyJyA/IHRoaXMubG9jYWxKdWdhZG9yIDogdGhpcy5yZW1vdGVKdWdhZG9yKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBJbml0aWFsaXplIHN0YXRlIHRyYWNraW5nXHJcbiAgICAgICAgdGhpcy5wb3dlclVwQWN0aXZlID0ge1xyXG4gICAgICAgICAgICAncGxheWVyMSc6IGZhbHNlLFxyXG4gICAgICAgICAgICAncGxheWVyMic6IGZhbHNlXHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnN0aWNreUFjdGl2ZSA9IHtcclxuICAgICAgICAgICAgJ3BsYXllcjEnOiBmYWxzZSxcclxuICAgICAgICAgICAgJ3BsYXllcjInOiBmYWxzZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5wb3dlclVwVGltZXJzID0ge1xyXG4gICAgICAgICAgICAncGxheWVyMSc6IG51bGwsXHJcbiAgICAgICAgICAgICdwbGF5ZXIyJzogbnVsbFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuaW52ZXJ0Q29udHJvbHMgPSB7XHJcbiAgICAgICAgICAgIHBsYXllcjE6IGZhbHNlLFxyXG4gICAgICAgICAgICBwbGF5ZXIyOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBJbml0aWFsaXplIHNjb3Jlc1xyXG4gICAgICAgIHRoaXMubG9jYWxKdWdhZG9yLnNjb3JlID0gMDtcclxuICAgICAgICB0aGlzLnJlbW90ZUp1Z2Fkb3Iuc2NvcmUgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHNldHVwV2ViU29ja2V0TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIGlmICghdGhpcy53cykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbTXVsdGlwbGF5ZXJHYW1lU2NlbmVdIE5vIGhheSBXZWJTb2NrZXQuIMK/RW50cmFzdGUgc2luIHBhc2FyIHBvciBMb2JieVNjZW5lPycpO1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTsgXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTZXJ2ZXJNZXNzYWdlKGRhdGEpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBzZXJ2ZXIgbWVzc2FnZTonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLndzLm9uY2xvc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgY29ubmVjdGlvbiBjbG9zZWQnKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmdhbWVFbmRlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLndzLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignV2ViU29ja2V0IGVycm9yOicsIGVycm9yKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmdhbWVFbmRlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHRyeVBsYXlTb3VuZCgpIHtcclxuICAgICAgICBsZXQgY2hhbmNlID0gMjA7XHJcbiAgICAgICAgY29uc3Qgcm9sbCA9IFBoYXNlci5NYXRoLkJldHdlZW4oMSwgMTAwKTtcclxuICAgICAgICBpZihyb2xsIDw9IGNoYW5jZSl7XHJcbiAgICAgICAgICAgIHRoaXMuZ2F2aW90YS5wbGF5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBvdmVybGFwVmFyKHgsIHksIGdydXBvKSB7XHJcbiAgICAgICAgdmFyIG92ZXJsYXAgPSBncnVwby5nZXRDaGlsZHJlbigpLnNvbWUoY2hpbGQgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgTWF0aC5hYnMoY2hpbGQueCAtIHgpIDwgNDAgJiZcclxuICAgICAgICAgICAgICAgIE1hdGguYWJzKGNoaWxkLnkgLSB5KSA8IDQwXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIG92ZXJsYXA7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGFudGlPdmVybGFwKHgxLCB5MSwgeDIsIHkyLCBwMSwgcDIpIHtcclxuICAgICAgICBsZXQgeCwgeTtcclxuICAgICAgICBsZXQgaXRlcmF0aW9uID0gMDtcclxuICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgIHggPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKHgxLCB5MSk7XHJcbiAgICAgICAgICAgIHkgPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKHgyLCB5Mik7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB2YXIgb3ZlcmxhcFRyYXNoID0gdGhpcy5vdmVybGFwVmFyKHgsIHksIHRoaXMudHJhc2hHcm91cCk7XHJcbiAgICAgICAgICAgIHZhciBvdmVybGFwUG93ZXJVcCA9IHRoaXMub3ZlcmxhcFZhcih4LCB5LCB0aGlzLnN0aWNreUdyb3VwKTtcclxuICAgICAgICAgICAgdmFyIG92ZXJsYXBTdGlja3kgPSB0aGlzLm92ZXJsYXBWYXIoeCwgeSwgdGhpcy5wb3dlclVwR3JvdXApO1xyXG4gICAgICAgICAgICB2YXIgb3ZlcmxhcFNwaWxsID0gdGhpcy5vdmVybGFwVmFyKHgsIHksIHRoaXMuc3BpbGxHcm91cCk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgdmFyIG92ZXJsYXBOYXJ2YWwgPSBNYXRoLmFicyhwMi54IC0geCkgPCA2MCAmJiBNYXRoLmFicyhwMi55IC0geSkgPCA2MDtcclxuICAgICAgICAgICAgdmFyIG92ZXJsYXBRdW9ra2EgPSBNYXRoLmFicyhwMS54IC0geCkgPCA2MCAmJiBNYXRoLmFicyhwMS55IC0geSkgPCA2MDtcclxuICAgIFxyXG4gICAgICAgICAgICBpdGVyYXRpb24rKztcclxuICAgICAgICB9IHdoaWxlKChvdmVybGFwVHJhc2ggfHwgb3ZlcmxhcFBvd2VyVXAgfHwgb3ZlcmxhcFN0aWNreSB8fCBvdmVybGFwU3BpbGwgfHwgb3ZlcmxhcE5hcnZhbCB8fCBvdmVybGFwUXVva2thKSAmJiBpdGVyYXRpb24gPCA0KTtcclxuICAgICAgICByZXR1cm4ge3gsIHl9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBoYW5kbGVTZXJ2ZXJNZXNzYWdlKGRhdGEpIHtcclxuICAgICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICdwbGF5ZXJVcGRhdGUnOlxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVtb3RlSnVnYWRvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3RlSnVnYWRvci5zcHJpdGUueCA9IGRhdGEueDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZUp1Z2Fkb3Iuc3ByaXRlLnkgPSBkYXRhLnk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuZGlyZWN0aW9uICYmIHRoaXMucmVtb3RlSnVnYWRvci5zZXRTcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVKdWdhZG9yLnNldFNwcml0ZShkYXRhLmRpcmVjdGlvbiwgZGF0YS5pc01vdmluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vU2luY3Jvbml6YXIgZXN0YWRvc1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnBvd2VyVXBBY3RpdmUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJJZCA9IHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnID8gJ3BsYXllcjInIDogJ3BsYXllcjEnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvd2VyVXBBY3RpdmVbcGxheWVySWRdID0gZGF0YS5wb3dlclVwQWN0aXZlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdGlja3lBY3RpdmUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJJZCA9IHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnID8gJ3BsYXllcjInIDogJ3BsYXllcjEnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0aWNreUFjdGl2ZVtwbGF5ZXJJZF0gPSBkYXRhLnN0aWNreUFjdGl2ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ3Njb3JlVXBkYXRlJzpcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQdW50dWFjacOzbiByZWNpYmlkYSBkZWwgc2Vydmlkb3I6JywgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2FsU2NvcmUgPSBkYXRhLnBsYXllcjFTY29yZTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3RlU2NvcmUgPSBkYXRhLnBsYXllcjJTY29yZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NvcmVRdW9rYS5zZXRUZXh0KGRhdGEucGxheWVyMVNjb3JlLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY29yZU5hcnZhbC5zZXRUZXh0KGRhdGEucGxheWVyMlNjb3JlLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAvL1NpbmNyb25pemFyIGVmZWN0b3MgZGUgcG93ZXJVcFxyXG4gICAgICAgICAgICBjYXNlICdwb3dlclVwUGlja3VwJzpcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBvd2VyVXBQbGF5ZXJJZCA9IGRhdGEucGxheWVySWQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvd2VyVXBBY3RpdmVbcG93ZXJVcFBsYXllcklkXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBvd2VyVXBUaW1lcnNbcG93ZXJVcFBsYXllcklkXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG93ZXJVcFRpbWVyc1twb3dlclVwUGxheWVySWRdLnJlbW92ZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHRoaXMucG93ZXJVcFRpbWVyc1twb3dlclVwUGxheWVySWRdID0gdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDEwMDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3dlclVwQWN0aXZlW3Bvd2VyVXBQbGF5ZXJJZF0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcnMuZ2V0KHBvd2VyVXBQbGF5ZXJJZCkuc2V0U3ByaXRlKFwiZG93blwiKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmdldChwb3dlclVwUGxheWVySWQpLnNldFNwcml0ZShcImRvd25cIik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIC8vU2luY3Jvbml6YXIgZWZlY3RvcyBkZSBzdGlja3lcclxuICAgICAgICAgICAgY2FzZSAnc3RpY2t5SGl0JzpcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0aWNreVBsYXllcklkID0gZGF0YS5wbGF5ZXJJZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RpY2t5QWN0aXZlW3N0aWNreVBsYXllcklkXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wb3dlclVwQWN0aXZlW3N0aWNreVBsYXllcklkXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG93ZXJVcEFjdGl2ZVtzdGlja3lQbGF5ZXJJZF0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0aWNreUFjdGl2ZVtzdGlja3lQbGF5ZXJJZF0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0aWNreVNwYXduVGltZXJbc3RpY2t5UGxheWVySWRdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGlja3lTcGF3blRpbWVyW3N0aWNreVBsYXllcklkXS5yZW1vdmUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0aWNreVNwYXduVGltZXJbc3RpY2t5UGxheWVySWRdID0gdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDIwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0aWNreUFjdGl2ZVtzdGlja3lQbGF5ZXJJZF0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcnMuZ2V0KHN0aWNreVBsYXllcklkKS5zZXRTcHJpdGUoXCJkb3duXCIpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllcnMuZ2V0KHN0aWNreVBsYXllcklkKS5zZXRTcHJpdGUoXCJkb3duXCIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdzeW5jT2JqZWN0cyc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVN5bmNlZE9iamVjdHMoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2RlbE9iamVjdHMnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVPYmplY3RCeUlkKGRhdGEub2JqZWN0VHlwZSwgZGF0YS5pZCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2dhbWVPdmVyJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuZW5kR2FtZShkYXRhLndpbm5lciwgZGF0YS5wbGF5ZXIxU2NvcmUsIGRhdGEucGxheWVyMlNjb3JlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAncGxheWVyRGlzY29ubmVjdGVkJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICd0aW1lclN5bmMnOlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tUSU1FUiBTWU5DIFJFQ0lCSURPXScsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbmRBdCA9IGRhdGEuZW5kQXQ7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2dhbWVPdmVyVGltZSc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuZEdhbWUoXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS53aW5uZXIsIFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEucGxheWVyMVNjb3JlLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEucGxheWVyMlNjb3JlXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2ludmVydENvbnRyb2xzJzp7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IGRhdGEudGFyZ2V0UGxheWVyO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnZlcnRDb250cm9sc1tpZF0gPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbChkYXRhLmR1cmF0aW9uLCAoKSA9PntcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmludmVydENvbnRyb2xzW2lkXSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1Vua25vd24gbWVzc2FnZSB0eXBlOicsIGRhdGEudHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZVN5bmNlZE9iamVjdHMoZGF0YSl7XHJcbiAgICAgICAgZGF0YS5zdGlja3lHcm91cC5mb3JFYWNoKG9iaiA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0cyA9IHRoaXMuc3RpY2t5R3JvdXAuZ2V0Q2hpbGRyZW4oKS5zb21lKGNoaWxkID0+IFxyXG4gICAgICAgICAgICAgICAgY2hpbGQub2JqZWN0SWQgPT09IG9iai5pZFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKCFleGlzdHMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9ICdwcmluZ3VlJztcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNwcml0ZSA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKG9iai54LCBvYmoueSwga2V5KTtcclxuICAgICAgICAgICAgICAgIHNwcml0ZS5zZXREaXNwbGF5U2l6ZShvYmouc2l6ZSwgb2JqLnNpemUpO1xyXG4gICAgICAgICAgICAgICAgc3ByaXRlLm9iamVjdElkID0gb2JqLmlkO1xyXG4gICAgICAgICAgICAgICAgc3ByaXRlLm9iamVjdFR5cGUgPSAnc3RpY2t5JztcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RpY2t5R3JvdXAuYWRkKHNwcml0ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZENvbGxpc2lvbnNGb3JPYmplY3Qoc3ByaXRlLCAnc3RpY2t5Jyk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbUDIgU1lOQ10gQ3JlYWRvIHBvd2VyVXAgY29uIElEICR7b2JqLmlkfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGRhdGEudHJhc2hHcm91cC5mb3JFYWNoKG9iaiA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0cyA9IHRoaXMudHJhc2hHcm91cC5nZXRDaGlsZHJlbigpLnNvbWUoY2hpbGQgPT4gXHJcbiAgICAgICAgICAgICAgICBjaGlsZC5vYmplY3RJZCA9PT0gb2JqLmlkXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoIWV4aXN0cykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gJ2Jhc3VyYSc7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzcHJpdGUgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZShvYmoueCwgb2JqLnksIGtleSk7XHJcbiAgICAgICAgICAgICAgICBzcHJpdGUuc2V0RGlzcGxheVNpemUob2JqLnNpemUsIG9iai5zaXplKTtcclxuICAgICAgICAgICAgICAgIHNwcml0ZS5vYmplY3RJZCA9IG9iai5pZDtcclxuICAgICAgICAgICAgICAgIHNwcml0ZS5vYmplY3RUeXBlID0gJ3RyYXNoJztcclxuICAgICAgICAgICAgICAgIHRoaXMudHJhc2hHcm91cC5hZGQoc3ByaXRlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ29sbGlzaW9uc0Zvck9iamVjdChzcHJpdGUsICd0cmFzaCcpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgW1AyIFNZTkNdIENyZWFkbyBwb3dlclVwIGNvbiBJRCAke29iai5pZH1gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkYXRhLnBvd2VyVXBHcm91cC5mb3JFYWNoKG9iaiA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0cyA9IHRoaXMucG93ZXJVcEdyb3VwLmdldENoaWxkcmVuKCkuc29tZShjaGlsZCA9PiBcclxuICAgICAgICAgICAgICAgIGNoaWxkLm9iamVjdElkID09PSBvYmouaWRcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmICghZXhpc3RzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBvYmoueCA8PSA0MDAgPyAncG93ZXJRdW9rYScgOiAncG93ZXJOYXJ2YWwnO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3ByaXRlID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUob2JqLngsIG9iai55LCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgc3ByaXRlLnNldERpc3BsYXlTaXplKG9iai5zaXplLCBvYmouc2l6ZSk7XHJcbiAgICAgICAgICAgICAgICBzcHJpdGUub2JqZWN0SWQgPSBvYmouaWQ7XHJcbiAgICAgICAgICAgICAgICBzcHJpdGUub2JqZWN0VHlwZSA9ICdwb3dlclVwJztcclxuICAgICAgICAgICAgICAgIHRoaXMucG93ZXJVcEdyb3VwLmFkZChzcHJpdGUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDb2xsaXNpb25zRm9yT2JqZWN0KHNwcml0ZSwgJ3Bvd2VyVXAnKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFtQMiBTWU5DXSBDcmVhZG8gcG93ZXJVcCBjb24gSUQgJHtvYmouaWR9YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZGF0YS5zcGlsbEdyb3VwLmZvckVhY2gob2JqID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZXhpc3RzID0gdGhpcy5zcGlsbEdyb3VwLmdldENoaWxkcmVuKCkuc29tZShjaGlsZCA9PiBcclxuICAgICAgICAgICAgICAgIGNoaWxkLm9iamVjdElkID09PSBvYmouaWRcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICBcclxuICAgICAgICAgICAgaWYgKCFleGlzdHMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IG9iai54IDw9IDQwMCA/ICd2ZXJ0aWRvJyA6ICd2ZXJ0aWRvMSc7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzcHJpdGUgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZShvYmoueCwgb2JqLnksIGtleSk7XHJcbiAgICAgICAgICAgICAgICBzcHJpdGUuc2V0RGlzcGxheVNpemUob2JqLnNpemUsIG9iai5zaXplKTtcclxuICAgICAgICAgICAgICAgIHNwcml0ZS5vYmplY3RJZCA9IG9iai5pZDtcclxuICAgICAgICAgICAgICAgIHNwcml0ZS5vYmplY3RUeXBlID0gJ3NwaWxsJztcclxuICAgICAgICAgICAgICAgIHRoaXMuc3BpbGxHcm91cC5hZGQoc3ByaXRlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ29sbGlzaW9uc0Zvck9iamVjdChzcHJpdGUsICdzcGlsbCcpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYFtQMiBTWU5DXSBDcmVhZG8gc3BpbGwgY29uIHNwcml0ZSAke2tleX0gZW4geD0ke29iai54fSwgSUQgJHtvYmouaWR9YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZGF0YS5pbnZlcnRHcm91cC5mb3JFYWNoKG9iaiA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0cyA9IHRoaXMuaW52ZXJ0R3JvdXAuZ2V0Q2hpbGRyZW4oKS5zb21lKGNoaWxkID0+IFxyXG4gICAgICAgICAgICAgICAgY2hpbGQub2JqZWN0SWQgPT09IG9iai5pZFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKCFleGlzdHMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IG9iai54IDw9IDQwMCA/ICdwb3dlck5hcnZhbCcgOiAncG93ZXJRdW9rYSc7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzcHJpdGUgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZShvYmoueCwgb2JqLnksIGtleSk7XHJcbiAgICAgICAgICAgICAgICBzcHJpdGUuc2V0RGlzcGxheVNpemUob2JqLnNpemUsIG9iai5zaXplKTtcclxuICAgICAgICAgICAgICAgIHNwcml0ZS5vYmplY3RJZCA9IG9iai5pZDtcclxuICAgICAgICAgICAgICAgIHNwcml0ZS5vYmplY3RUeXBlID0gJ2ludmVydCc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmludmVydEdyb3VwLmFkZChzcHJpdGUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDb2xsaXNpb25zRm9yT2JqZWN0KHNwcml0ZSwgJ2ludmVydCcpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgW1AyIFNZTkNdIENyZWFkbyBwb3dlclVwIGNvbiBJRCAke29iai5pZH1gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBhZGRDb2xsaXNpb25zRm9yT2JqZWN0KHNwcml0ZSwgb2JqZWN0VHlwZSkge1xyXG4gICAgICAgIGNvbnN0IHAxID0gdGhpcy5wbGF5ZXJzLmdldChcInBsYXllcjFcIikuc3ByaXRlO1xyXG4gICAgICAgIGNvbnN0IHAyID0gdGhpcy5wbGF5ZXJzLmdldChcInBsYXllcjJcIikuc3ByaXRlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHN3aXRjaChvYmplY3RUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3N0aWNreSc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocDEsIHNwcml0ZSwgKCkgPT4gdGhpcy50aHJvd1N0aWNreShzcHJpdGUsIDIsIDEwKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocDIsIHNwcml0ZSwgKCkgPT4gdGhpcy50aHJvd1N0aWNreShzcHJpdGUsIDEsIDEwKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAndHJhc2gnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHAxLCBzcHJpdGUsICgpID0+IHRoaXMuY29sbGVjdChzcHJpdGUsIDEsIDUpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwMiwgc3ByaXRlLCAoKSA9PiB0aGlzLmNvbGxlY3Qoc3ByaXRlLCAyLCA1KSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnc3BpbGwnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHAxLCBzcHJpdGUsICgpID0+IHRoaXMuY29sbGVjdChzcHJpdGUsIDEsIDEwKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocDIsIHNwcml0ZSwgKCkgPT4gdGhpcy5jb2xsZWN0KHNwcml0ZSwgMiwgMTApKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdwb3dlclVwJzpcclxuICAgICAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwMSwgc3ByaXRlLCAoKSA9PiB0aGlzLnBpY2tQb3dlclVwKHNwcml0ZSwgXCJwbGF5ZXIxXCIpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwMiwgc3ByaXRlLCAoKSA9PiB0aGlzLnBpY2tQb3dlclVwKHNwcml0ZSwgXCJwbGF5ZXIyXCIpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdpbnZlcnQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHAxLCBzcHJpdGUsICgpID0+IHRoaXMucGlja0ludmVydGVkQ29udHJvbHMoc3ByaXRlLCBcInBsYXllcjFcIikpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHAyLCBzcHJpdGUsICgpID0+IHRoaXMucGlja0ludmVydGVkQ29udHJvbHMoc3ByaXRlLCBcInBsYXllcjJcIikpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkZWxldGVPYmplY3RCeUlkKG9iamVjdFR5cGUsIGlkKSB7XHJcbiAgICAgICAgbGV0IGdyb3VwO1xyXG4gICAgICAgIHN3aXRjaChvYmplY3RUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3N0aWNreSc6IGdyb3VwID0gdGhpcy5zdGlja3lHcm91cDsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3RyYXNoJzogZ3JvdXAgPSB0aGlzLnRyYXNoR3JvdXA7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdwb3dlclVwJzogZ3JvdXAgPSB0aGlzLnBvd2VyVXBHcm91cDsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3NwaWxsJzogZ3JvdXAgPSB0aGlzLnNwaWxsR3JvdXA7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdpbnZlcnQnIDogZ3JvdXAgPSB0aGlzLmludmVydEdyb3VwOyBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGdyb3VwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNwcml0ZSA9IGdyb3VwLmdldENoaWxkcmVuKCkuZmluZChjaGlsZCA9PiBjaGlsZC5vYmplY3RJZCA9PT0gaWQpO1xyXG4gICAgICAgICAgICBpZiAoc3ByaXRlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgW0RFTEVURSBMT0NBTF0gRGVzdHJ1eWVuZG8gJHtvYmplY3RUeXBlfSBjb24gSUQgJHtpZH1gKTtcclxuICAgICAgICAgICAgICAgIHNwcml0ZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgW0RFTEVURSBMT0NBTF0gTm8gc2UgZW5jb250csOzICR7b2JqZWN0VHlwZX0gY29uIElEICR7aWR9YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2VuZE9iamVjdHNUb1NlcnZlcihvYmplY3RUeXBlLCB4LHksc2l6ZSxpZCl7XHJcbiAgICAgICAgLy9pZih0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pXHJcbiAgICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgdHlwZTogJ3N5bmNPYmplY3RzJyxcclxuICAgICAgICAgICAgcm9vbUlkOiB0aGlzLnJvb21JZCxcclxuICAgICAgICAgICAgb2JqZWN0VHlwZSA6IG9iamVjdFR5cGUsXHJcbiAgICAgICAgICAgIHg6IHgsXHJcbiAgICAgICAgICAgIHk6IHksXHJcbiAgICAgICAgICAgIHNpemU6c2l6ZSxcclxuICAgICAgICAgICAgaWQ6IGlkXHJcbiAgICAgICAgfSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHRyeVNwYXduKGNoYW5jZSwgZWZmZWN0QWN0aXZlKSB7XHJcbiAgICAgICAgY29uc3QgcDEgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuc2NvcmU7XHJcbiAgICAgICAgY29uc3QgcDIgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuc2NvcmU7XHJcbiAgICAgICAgbGV0IHRhcmdldCA9IG51bGw7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYocDEgPCBwMiAtIDEpIHtcclxuICAgICAgICAgICAgdGFyZ2V0ID0gMTtcclxuICAgICAgICB9IGVsc2UgaWYocDIgPCBwMSAtIDEpIHtcclxuICAgICAgICAgICAgdGFyZ2V0ID0gMjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjaGFuY2UgPSAxMDtcclxuICAgICAgICAgICAgdGFyZ2V0ID0gUGhhc2VyLk1hdGguQmV0d2VlbigwLCAxKSA9PT0gMCA/IDEgOiAyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZihlZmZlY3RBY3RpdmVbdGFyZ2V0XSkgeyBcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHJvbGwgPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKDEsIDEwMCk7XHJcbiAgICAgICAgaWYocm9sbCA8PSBjaGFuY2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHRyeVNwYXduU3RpY2t5KCkge1xyXG4gICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLnRyeVNwYXduKDUwLCB0aGlzLnN0aWNreUFjdGl2ZSk7XHJcbiAgICAgICAgaWYodGFyZ2V0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5zcGF3blN0aWNreSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgdHJ5U3Bhd25Qb3dlclVwKCkge1xyXG4gICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLnRyeVNwYXduKDcwLCB0aGlzLnBvd2VyVXBBY3RpdmUpO1xyXG4gICAgICAgIGlmKHRhcmdldCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3Bhd25Qb3dlclVwKHRhcmdldCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICB0cnlTcGF3bkludmVydGVkKClcclxuICAgIHtcclxuICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy50cnlTcGF3big3MCwgdGhpcy5pbnZlcnRDb250cm9scyk7XHJcbiAgICAgICAgaWYodGFyZ2V0ICE9IG51bGwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnNwYXduSW52ZXJ0ZWQodGFyZ2V0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzcGF3bihvYmplY3RUeXBlLCB0YXJnZXRQbGF5ZXIsIHgxMSwgeTExLCB4MjEsIHkyMSwgeDEyLCB5MTIsIHgyMiwgeTIyLCBrZXkxLCBrZXkyLCBzcHJpdGVTaXplLCBvYmplY3RHcm91cCwgdGllbXBvRW5QYW50YWxsYSwgcDEsIHAyKSB7XHJcbiAgICAgICAgbGV0IHgsIHk7XHJcbiAgICAgICAgbGV0IG9iamVjdDtcclxuICAgICAgICBcclxuICAgICAgICBpZih0YXJnZXRQbGF5ZXIgPT09IDEpIHtcclxuICAgICAgICAgICAgKHt4LCB5fSA9IHRoaXMuYW50aU92ZXJsYXAoeDExLCB5MTEsIHgyMSwgeTIxLCBwMSwgcDIpKTtcclxuICAgICAgICAgICAgb2JqZWN0ID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoeCwgeSwga2V5MSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgKHt4LCB5fSA9IHRoaXMuYW50aU92ZXJsYXAoeDEyLCB5MTIsIHgyMiwgeTIyLCBwMSwgcDIpKTtcclxuICAgICAgICAgICAgb2JqZWN0ID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoeCwgeSwga2V5Mik7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgY29uc3QgaWQgPSBEYXRlLm5vdygpICsgJy0nICsgTWF0aC5yYW5kb20oKTtcclxuICAgICAgICBvYmplY3Qub2JqZWN0SWQgPSBpZDtcclxuICAgICAgICBvYmplY3Qub2JqZWN0VHlwZSA9IG9iamVjdFR5cGU7XHJcbiAgICAgICAgb2JqZWN0LnNldERpc3BsYXlTaXplKHNwcml0ZVNpemUsIHNwcml0ZVNpemUpO1xyXG4gICAgICAgIG9iamVjdEdyb3VwLmFkZChvYmplY3QpO1xyXG4gICAgXHJcbiAgICAgICAgdGhpcy5zZW5kT2JqZWN0c1RvU2VydmVyKG9iamVjdFR5cGUsIHgsIHksIHNwcml0ZVNpemUsIGlkKTtcclxuXHJcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKHRpZW1wb0VuUGFudGFsbGEsICgpID0+IHtcclxuICAgICAgICAgICAgaWYob2JqZWN0LmFjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gRW52aWFyIG1lbnNhamUgZGUgZWxpbWluYWNpw7NuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGVsT2JqZWN0cycsXHJcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0VHlwZTogb2JqZWN0VHlwZSxcclxuICAgICAgICAgICAgICAgICAgICBpZDogaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcm9vbUlkOiB0aGlzLnJvb21JZFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBvYmplY3QuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgXHJcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgc3Bhd25TdGlja3kodGFyZ2V0UGxheWVyID0gbnVsbCkge1xyXG4gICAgICAgIGlmICghdGFyZ2V0UGxheWVyKSB7XHJcbiAgICAgICAgICAgIHRhcmdldFBsYXllciA9IFBoYXNlci5NYXRoLkJldHdlZW4oMSwgMik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENvbGlzacOzbiBkZWwgcHJpbmd1ZSBjb24gY2FkYSBqdWdhZG9yXHJcbiAgICAgICAgY29uc3QgcDEgPSB0aGlzLnBsYXllcnMuZ2V0KFwicGxheWVyMVwiKS5zcHJpdGU7XHJcbiAgICAgICAgY29uc3QgcDIgPSB0aGlzLnBsYXllcnMuZ2V0KFwicGxheWVyMlwiKS5zcHJpdGU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IHN0aWNreSA9IHRoaXMuc3Bhd24oJ3N0aWNreScsdGFyZ2V0UGxheWVyLCA0MDAsIDQwMCwgMTUwLCA1NTAsIDQwMCwgNDAwLCAxNTAsIDU1MCwgXCJwcmluZ3VlXCIsIFwicHJpbmd1ZVwiLCA0MCwgdGhpcy5zdGlja3lHcm91cCwgNzAwMCwgcDEsIHAyKTtcclxuICAgIFxyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwMSwgc3RpY2t5LCAoKSA9PiB0aGlzLnRocm93U3RpY2t5KHN0aWNreSwgMiwgMTApKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocDIsIHN0aWNreSwgKCkgPT4gdGhpcy50aHJvd1N0aWNreShzdGlja3ksIDEsIDEwKSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHNwYXduVHJhc2goKSB7XHJcbiAgICAgICAgLy8gU2VsZWNjacOzbiBhbGVhdG9yaWEgZGUganVnYWRvciAoMSBvIDIpXHJcbiAgICAgICAgY29uc3QgdGFyZ2V0UGxheWVyID0gUGhhc2VyLk1hdGguQmV0d2VlbigxLCAyKTtcclxuICAgIFxyXG4gICAgICAgIC8vIENvbGlzacOzbiBiYXN1cmEgY29uIGNhZGEganVnYWRvclxyXG4gICAgICAgIGNvbnN0IHAxID0gdGhpcy5wbGF5ZXJzLmdldChcInBsYXllcjFcIikuc3ByaXRlO1xyXG4gICAgICAgIGNvbnN0IHAyID0gdGhpcy5wbGF5ZXJzLmdldChcInBsYXllcjJcIikuc3ByaXRlO1xyXG4gICAgXHJcbiAgICAgICAgbGV0IHRyYXNoID0gdGhpcy5zcGF3bigndHJhc2gnLHRhcmdldFBsYXllciwgMzAsIDM0MCwgMTUwLCA1NTAsIDQ2MCwgNzcwLCAxNTAsIDU1MCwgXCJiYXN1cmFcIiwgXCJiYXN1cmFcIiwgNDAsIHRoaXMudHJhc2hHcm91cCwgNzAwMCwgcDEsIHAyKTtcclxuICAgIFxyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwMSwgdHJhc2gsICgpID0+IHRoaXMuY29sbGVjdCh0cmFzaCwgMSwgNSkpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwMiwgdHJhc2gsICgpID0+IHRoaXMuY29sbGVjdCh0cmFzaCwgMiwgNSkpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzcGF3blNwaWxsKCkge1xyXG4gICAgICAgIC8vIFNlbGVjY2nDs24gYWxlYXRvcmlhIGRlIGp1Z2Fkb3IgKDEgbyAyKVxyXG4gICAgICAgIGNvbnN0IHRhcmdldFBsYXllciA9IFBoYXNlci5NYXRoLkJldHdlZW4oMSwgMik7XHJcbiAgICBcclxuICAgICAgICAvLyBDb2xpc2nDs24gYmFzdXJhIGNvbiBjYWRhIGp1Z2Fkb3JcclxuICAgICAgICBjb25zdCBwMSA9IHRoaXMucGxheWVycy5nZXQoXCJwbGF5ZXIxXCIpLnNwcml0ZTtcclxuICAgICAgICBjb25zdCBwMiA9IHRoaXMucGxheWVycy5nZXQoXCJwbGF5ZXIyXCIpLnNwcml0ZTtcclxuICAgIFxyXG4gICAgICAgIGxldCBzcGlsbCA9IHRoaXMuc3Bhd24oJ3NwaWxsJyx0YXJnZXRQbGF5ZXIsIDMwLCAzNDAsIDE1MCwgNTUwLCA0NjAsIDc3MCwgMTUwLCA1NTAsIFwidmVydGlkb1wiLCBcInZlcnRpZG8xXCIsIDgwLCB0aGlzLnNwaWxsR3JvdXAsIDcwMDAsIHAxLCBwMik7XHJcbiAgICBcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocDEsIHNwaWxsLCAoKSA9PiB0aGlzLmNvbGxlY3Qoc3BpbGwsIDEsIDEwKSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHAyLCBzcGlsbCwgKCkgPT4gdGhpcy5jb2xsZWN0KHNwaWxsLCAyLCAxMCkpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzcGF3blBvd2VyVXAocGxheWVySWQpIHtcclxuICAgICAgICAvLyBDb2xpc2lvbmVzXHJcbiAgICAgICAgY29uc3QgcDEgPSB0aGlzLnBsYXllcnMuZ2V0KFwicGxheWVyMVwiKS5zcHJpdGU7XHJcbiAgICAgICAgY29uc3QgcDIgPSB0aGlzLnBsYXllcnMuZ2V0KFwicGxheWVyMlwiKS5zcHJpdGU7XHJcbiAgICBcclxuICAgICAgICBsZXQgcG93ZXJVcCA9IHRoaXMuc3Bhd24oJ3Bvd2VyVXAnLHBsYXllcklkLCA1MCwgMzQwLCAxNTAsIDU1MCwgNDYwLCA3NTAsIDE1MCwgNTUwLCBcInBvd2VyUXVva2FcIiwgXCJwb3dlck5hcnZhbFwiLCAxMjAsIHRoaXMucG93ZXJVcEdyb3VwLCAxNTAwMCwgcDEsIHAyKTtcclxuICAgIFxyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwMSwgcG93ZXJVcCwgKCkgPT4gdGhpcy5waWNrUG93ZXJVcChwb3dlclVwLCBcInBsYXllcjFcIikpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChwMiwgcG93ZXJVcCwgKCkgPT4gdGhpcy5waWNrUG93ZXJVcChwb3dlclVwLCBcInBsYXllcjJcIikpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzcGF3bkludmVydGVkKHRhcmdldClcclxuICAgIHtcclxuICAgICAgICBpZighdGFyZ2V0KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGFyZ2V0ID0gUGhhc2VyLk1hdGguQmV0d2VlbigxLDIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgcDEgPSB0aGlzLnBsYXllcnMuZ2V0KFwicGxheWVyMVwiKS5zcHJpdGU7XHJcbiAgICAgICAgY29uc3QgcDIgPSB0aGlzLnBsYXllcnMuZ2V0KFwicGxheWVyMlwiKS5zcHJpdGU7XHJcblxyXG4gICAgICAgIGxldCBpbnZlcnRlZCA9IHRoaXMuc3Bhd24oJ2ludmVydCcsIHRhcmdldCwgNTAsIDM0MCwgMTUwLCA1NTAsIDQ2MCwgNzUwLCAxNTAsIDU1MCwgXCJwb3dlck5hcnZhbFwiLCBcInBvd2VyUXVva2FcIiwgMTIwLCB0aGlzLmludmVydEdyb3VwLCAxNTAwMCwgcDEsIHAyKTtcclxuXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHAxLCBpbnZlcnRlZCwgKCkgPT4gdGhpcy5waWNrSW52ZXJ0ZWRDb250cm9scyhpbnZlcnRlZCwgXCJwbGF5ZXIxXCIpKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocDIsIGludmVydGVkLCAoKSA9PiB0aGlzLnBpY2tJbnZlcnRlZENvbnRyb2xzKGludmVydGVkLCBcInBsYXllcjJcIikpO1xyXG4gICAgfVxyXG4gICAgdGhyb3dTdGlja3koc3RpY2t5LCBwbGF5ZXJOdW1iZXIsIHNjb3JlKXtcclxuICAgICAgICBpZighc3RpY2t5LmFjdGl2ZSkgcmV0dXJuO1xyXG4gICAgICAgIHN0aWNreS5hY3RpdmUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGV1Z2gyLnBsYXkoKTtcclxuXHJcbiAgICAgICAgY29uc3QgaWQgPSBwbGF5ZXJOdW1iZXIgPT09IDEgPyBcInBsYXllcjFcIiA6IFwicGxheWVyMlwiO1xyXG4gICAgICAgIFxyXG5cclxuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgdHlwZTogJ2RlbE9iamVjdHMnLFxyXG4gICAgICAgICAgICBvYmplY3RUeXBlOiAnc3RpY2t5JyxcclxuICAgICAgICAgICAgaWQ6IHN0aWNreS5vYmplY3RJZCxcclxuICAgICAgICAgICAgcm9vbUlkOiB0aGlzLnJvb21JZFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzdGlja3kuZGVzdHJveSgpO1xyXG5cclxuICAgICAgICBjb25zdCBkZWx0YSA9IC1zY29yZTtcclxuXHJcbiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdzY29yZVVwZGF0ZScsXHJcbiAgICAgICAgICAgIHRhcmdldFBsYXllcjogaWQsXHJcbiAgICAgICAgICAgIHNjb3JlOiBkZWx0YSxcclxuICAgICAgICAgICAgcm9vbUlkOiB0aGlzLnJvb21JZFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgdHlwZTogJ3N0aWNreUhpdCcsXHJcbiAgICAgICAgICAgIHBsYXllcklkOiBpZCxcclxuICAgICAgICAgICAgcm9vbUlkOiB0aGlzLnJvb21JZFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnN0aWNreUFjdGl2ZVtpZF0gPSB0cnVlO1xyXG5cclxuICAgICAgICBpZih0aGlzLnBvd2VyVXBBY3RpdmVbaWRdKXtcclxuICAgICAgICAgICAgdGhpcy5wb3dlclVwQWN0aXZlW2lkXSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnN0aWNreUFjdGl2ZVtpZF0gPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc3RpY2t5U3Bhd25UaW1lcltpZF0gPSB0aGlzLnRpbWUuZGVsYXllZENhbGwoMjAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnN0aWNreUFjdGl2ZVtpZF0gPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmdldChpZCkuc2V0U3ByaXRlKFwiZG93blwiKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBsYXllcnMuZ2V0KGlkKS5zZXRTcHJpdGUoXCJkb3duXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHBpY2tJbnZlcnRlZENvbnRyb2xzKHBvd2VyVXAsIHRhcmdldElkKVxyXG4gICAge1xyXG4gICAgICAgIGlmKCFwb3dlclVwLmFjdGl2ZSkgcmV0dXJuO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHBvd2VyVXAuYWN0aXZlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGNvbnN0IHRhcmdldFBsYXllciA9IHRhcmdldElkID09PSAncGxheWVyMScgPyAncGxheWVyMicgOiAncGxheWVyMSc7XHJcblxyXG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICB0eXBlOiAnZGVsT2JqZWN0cycsXHJcbiAgICAgICAgICAgIG9iamVjdFR5cGU6ICdpbnZlcnQnLFxyXG4gICAgICAgICAgICBpZDogcG93ZXJVcC5vYmplY3RJZCxcclxuICAgICAgICAgICAgcm9vbUlkOiB0aGlzLnJvb21JZFxyXG4gICAgICAgIH0pOyAgICAgICAgXHJcblxyXG4gICAgICAgIHBvd2VyVXAuZGVzdHJveSgpO1xyXG5cclxuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgdHlwZTogJ2ludmVydENvbnRyb2xzJyxcclxuICAgICAgICAgICAgdGFyZ2V0UGxheWVyOiB0YXJnZXRQbGF5ZXIsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiA2MDAwLFxyXG4gICAgICAgICAgICByb29tSWQgOiB0aGlzLnJvb21JZFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICAvLyBSZWNvZ2UgZWwgcmVzaWR1byB5IGRhIGxhIHB1bnR1YWNpw7NuIGNvcnJlY3RhXHJcbiAgICBjb2xsZWN0KG9iamVjdCwgcGxheWVyTnVtYmVyLCBzY29yZSkge1xyXG4gICAgICAgIGlmKCFvYmplY3QuYWN0aXZlKSByZXR1cm47XHJcbiAgICAgICAgb2JqZWN0LmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICB0eXBlOiAnZGVsT2JqZWN0cycsXHJcbiAgICAgICAgICAgIG9iamVjdFR5cGU6IG9iamVjdC5vYmplY3RUeXBlLFxyXG4gICAgICAgICAgICBpZDogb2JqZWN0Lm9iamVjdElkLFxyXG4gICAgICAgICAgICByb29tSWQ6IHRoaXMucm9vbUlkXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5yZWNvZ2VyQmFzdXJhLnBsYXkoKTtcclxuICAgICAgICBvYmplY3QuZGVzdHJveSgpO1xyXG4gICAgXHJcbiAgICAgICAgY29uc3QgcGxheWVyID0gcGxheWVyTnVtYmVyID09PSAxID8gdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpIDogdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpO1xyXG4gICAgICAgIGNvbnN0IGlkID0gcGxheWVyTnVtYmVyID09PSAxID8gXCJwbGF5ZXIxXCIgOiBcInBsYXllcjJcIjtcclxuICAgIFxyXG4gICAgICAgIGNvbnN0IG11bHRpcGxpZXIgPSB0aGlzLnBvd2VyVXBBY3RpdmVbaWRdID8gMiA6IDE7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy9wbGF5ZXIuc2NvcmUgKz0gc2NvcmUgKiBtdWx0aXBsaWVyO1xyXG4gICAgXHJcbiAgICAgICAgY29uc29sZS5sb2coYEVudmlhbmRvIHB1bnR1YWNpw7NuIGFsIHNlcnZpZG9yOiAke3BsYXllci5zY29yZX1gKTtcclxuICAgICAgICBjb25zdCBkZWx0YSA9IHNjb3JlICogbXVsdGlwbGllcjtcclxuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgdHlwZTogJ3Njb3JlVXBkYXRlJyxcclxuICAgICAgICAgICAgcGxheWVyUm9sZTogdGhpcy5wbGF5ZXJSb2xlLFxyXG4gICAgICAgICAgICBzY29yZTogZGVsdGEsXHJcbiAgICAgICAgICAgIHJvb21JZDogdGhpcy5yb29tSWRcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHBpY2tQb3dlclVwKHBvd2VyVXAsIHBsYXllcklkKSB7XHJcbiAgICAgICAgaWYgKCFwb3dlclVwLmFjdGl2ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLnBvd2VyVXBTb3VuZC5wbGF5KCk7XHJcblxyXG4gICAgICAgIC8vRW52aWFyIGV2ZW50byBkZSBwb3dlclVwIHBpY2t1cCBhbCBzZXJ2aWRvclxyXG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICB0eXBlOiAncG93ZXJVcFBpY2t1cCcsXHJcbiAgICAgICAgICAgIHBsYXllcklkOiBwbGF5ZXJJZCxcclxuICAgICAgICAgICAgcm9vbUlkOiB0aGlzLnJvb21JZFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgdHlwZTogJ2RlbE9iamVjdHMnLFxyXG4gICAgICAgICAgICBvYmplY3RUeXBlOiAncG93ZXJVcCcsXHJcbiAgICAgICAgICAgIGlkOiBwb3dlclVwLm9iamVjdElkLFxyXG4gICAgICAgICAgICByb29tSWQ6IHRoaXMucm9vbUlkXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHBvd2VyVXAuZGVzdHJveSgpO1xyXG5cclxuICAgICAgICB0aGlzLnBvd2VyVXBBY3RpdmVbcGxheWVySWRdID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucG93ZXJVcFRpbWVyc1twbGF5ZXJJZF0pIHtcclxuICAgICAgICAgICAgdGhpcy5wb3dlclVwVGltZXJzW3BsYXllcklkXS5yZW1vdmUoZmFsc2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5wb3dlclVwVGltZXJzW3BsYXllcklkXSA9IHRoaXMudGltZS5kZWxheWVkQ2FsbCgxMDAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBvd2VyVXBBY3RpdmVbcGxheWVySWRdID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQocGxheWVySWQpLnNldFNwcml0ZShcImRvd25cIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmdldChwbGF5ZXJJZCkuc2V0U3ByaXRlKFwiZG93blwiKTtcclxuICAgIH1cclxuXHJcbiAgICBlbmRHYW1lKHdpbm5lciA9IG51bGwsIHBsYXllcjFTY29yZSA9IG51bGwsIHBsYXllcjJTY29yZSA9IG51bGwpIHtcclxuICAgICAgICBpZiAodGhpcy5nYW1lRW5kZWQpIHJldHVybjtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmdhbWVFbmRlZCA9IHRydWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy50aHJvd1N0aWNreVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdbRU5EIEdBTUVdIFdpbm5lcjonLCB3aW5uZXIsICdTY29yZXM6JywgcGxheWVyMVNjb3JlLCBwbGF5ZXIyU2NvcmUpO1xyXG5cclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHdpbm5lciA9PT0gbnVsbCB8fFxyXG4gICAgICAgICAgICBwbGF5ZXIxU2NvcmUgPT09IG51bGwgfHxcclxuICAgICAgICAgICAgcGxheWVyMlNjb3JlID09PSBudWxsXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tFTkQgR0FNRV0gRGF0b3MgaW52w6FsaWRvcyBkZWwgc2Vydmlkb3InLCB7XHJcbiAgICAgICAgICAgICAgICB3aW5uZXIsXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIxU2NvcmUsXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIyU2NvcmVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQWN0dWFsaXphciBsYXMgcHVudHVhY2lvbmVzIGZpbmFsZXMgZW4gbGEgVUlcclxuICAgICAgICBcclxuICAgICAgICAvLyBEZXRlbmVyIGbDrXNpY2EgeSBtb3ZpbWllbnRvXHJcbiAgICAgICAgaWYgKHRoaXMubG9jYWxKdWdhZG9yICYmIHRoaXMubG9jYWxKdWdhZG9yLnNwcml0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvY2FsSnVnYWRvci5zcHJpdGUuc2V0VmVsb2NpdHkoMCwgMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnJlbW90ZUp1Z2Fkb3IgJiYgdGhpcy5yZW1vdGVKdWdhZG9yLnNwcml0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnJlbW90ZUp1Z2Fkb3Iuc3ByaXRlLnNldFZlbG9jaXR5KDAsIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnNjb3JlUXVva2Euc2V0VGV4dChwbGF5ZXIxU2NvcmUudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgdGhpcy5zY29yZU5hcnZhbC5zZXRUZXh0KHBsYXllcjJTY29yZS50b1N0cmluZygpKTtcclxuXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XHJcblxyXG4gICAgICAgIC8vIExpbXBpYXIgdGltZXJzXHJcbiAgICAgICAgaWYgKHRoaXMudHJhc2hTcGF3blRpbWVyKSB0aGlzLnRyYXNoU3Bhd25UaW1lci5yZW1vdmUoZmFsc2UpO1xyXG4gICAgICAgIGlmICh0aGlzLnNwaWxsU3Bhd25UaW1lcikgdGhpcy5zcGlsbFNwYXduVGltZXIucmVtb3ZlKGZhbHNlKTtcclxuICAgICAgICBpZiAodGhpcy5zdGlja3lHZW5lcmF0aW9uVGltZXIpIHRoaXMuc3RpY2t5R2VuZXJhdGlvblRpbWVyLnJlbW92ZShmYWxzZSk7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VhZ3VsbFNvdW5kVGltZXIpIHRoaXMuc2VhZ3VsbFNvdW5kVGltZXIucmVtb3ZlKGZhbHNlKTtcclxuXHJcbiAgICAgICAgLy8gTGltcGlhciBncnVwb3MgZGUgb2JqZXRvc1xyXG4gICAgICAgIGlmICh0aGlzLnRyYXNoR3JvdXApIHRoaXMudHJhc2hHcm91cC5jbGVhcih0cnVlLCB0cnVlKTtcclxuICAgICAgICBpZiAodGhpcy5wb3dlclVwR3JvdXApIHRoaXMucG93ZXJVcEdyb3VwLmNsZWFyKHRydWUsIHRydWUpO1xyXG4gICAgICAgIGlmICh0aGlzLnN0aWNreUdyb3VwKSB0aGlzLnN0aWNreUdyb3VwLmNsZWFyKHRydWUsIHRydWUpO1xyXG4gICAgICAgIGlmICh0aGlzLnNwaWxsR3JvdXApIHRoaXMuc3BpbGxHcm91cC5jbGVhcih0cnVlLCB0cnVlKTtcclxuXHJcbiAgICAgICAgLy8gUmVwcm9kdWNpciBzb25pZG8gZGUgZmluXHJcbiAgICAgICAgaWYgKHRoaXMudGllbXBvTXVlcnRvKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGllbXBvTXVlcnRvLnBsYXkoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENyZWFyIG92ZXJsYXkgc2VtaS10cmFuc3BhcmVudGVcclxuICAgICAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDQwMCwgMzAwLCA4MDAsIDYwMCwgMHgwMDAwMDAsIDAuNyk7XHJcblxyXG4gICAgICAgIC8vIFB1bnR1YWNpw7NuIGZpbmFsXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDI4MCwgYFB1bnR1YWNpw7NuIEZpbmFsYCwge1xyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnYWFhYWEnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMTAwKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDMyMCwgYFF1b2trYTogJHtwbGF5ZXIxU2NvcmV9ICAtICBOYXJ2YWw6ICR7cGxheWVyMlNjb3JlfWAsIHtcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ2FhYWFhJyxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyOHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZDlkZjVkZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMTAwKTtcclxuXHJcbiAgICAgICAgLy8gRGV0ZXJtaW5hciBlbCBwZXJzb25hamUgZ2FuYWRvciBwYXJhIG1vc3RyYXIgaW1hZ2VuXHJcbiAgICAgICAgbGV0IHdpbm5lcklEO1xyXG4gICAgICAgIGlmICh3aW5uZXIgPT09ICdwbGF5ZXIxJykge1xyXG4gICAgICAgICAgICB3aW5uZXJJRCA9ICdwbGF5ZXIxJztcclxuICAgICAgICB9IGVsc2UgaWYgKHdpbm5lciA9PT0gJ3BsYXllcjInKSB7XHJcbiAgICAgICAgICAgIHdpbm5lcklEID0gJ3BsYXllcjInO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHdpbm5lcklEID0gJ2RyYXcnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQm90w7NuIHBhcmEgdm9sdmVyIGFsIG1lbsO6XHJcbiAgICAgICAgdGhpcy5jcmVhdGVNZW51QnV0dG9uKCk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlRGlzY29ubmVjdGlvbigpIHtcclxuICAgICAgICB0aGlzLmdhbWVFbmRlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5sb2NhbEp1Z2Fkb3Iuc3ByaXRlLnNldFZlbG9jaXR5KDAsIDApO1xyXG4gICAgICAgIHRoaXMucmVtb3RlSnVnYWRvci5zcHJpdGUuc2V0VmVsb2NpdHkoMCwgMCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAyNTAsICdPcHBvbmVudCBEaXNjb25uZWN0ZWQnLCB7XHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6J2FhYWFhJyxcclxuICAgICAgICAgICAgZm9udFNpemU6ICczOHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmYwMDAwJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZU1lbnVCdXR0b24oKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVNZW51QnV0dG9uKCkge1xyXG4gICAgICAgIGNvbnN0IG1lbnVCdG4gPSB0aGlzLmFkZC50ZXh0KDQwMCwgNDAwLCAnVm9sdmVyIGFsIE1lbsO6IFByaW5jaXBhbCcsIHtcclxuICAgICAgICAgICAgZm9udEZhbWlseTonYWFhYWEnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBtZW51QnRuLnNldENvbG9yKCcjY2NjY2NjJykpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbWVudUJ0bi5zZXRDb2xvcignI2ZmZmZmZicpKVxyXG4gICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVCb3VuZHMoKSB7XHJcbiAgICAgICAgdGhpcy5RdW9rYUdvYWwgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSgwLCAzMDAsIG51bGwpO1xyXG4gICAgICAgIHRoaXMuUXVva2FHb2FsLnNldERpc3BsYXlTaXplKDEwLCA2MDApO1xyXG4gICAgICAgIHRoaXMuUXVva2FHb2FsLmJvZHkuc2V0U2l6ZSgxMCwgNjAwKTtcclxuICAgICAgICB0aGlzLlF1b2thR29hbC5zZXRJbW1vdmFibGUoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuUXVva2FHb2FsLnNldFZpc2libGUoZmFsc2UpO1xyXG5cclxuICAgICAgICB0aGlzLk5hcnZhbEdvYWwgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSg4MDAsIDMwMCwgbnVsbCk7XHJcbiAgICAgICAgdGhpcy5OYXJ2YWxHb2FsLnNldERpc3BsYXlTaXplKDEwLCA2MDApO1xyXG4gICAgICAgIHRoaXMuTmFydmFsR29hbC5ib2R5LnNldFNpemUoMTAsIDYwMCk7XHJcbiAgICAgICAgdGhpcy5OYXJ2YWxHb2FsLnNldEltbW92YWJsZShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5OYXJ2YWxHb2FsLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5nYW1lRW5kZWQpIHJldHVybjtcclxuICAgICAgICBpZiAodGhpcy5lbmRBdCAmJiB0aGlzLnRpbWVyVGV4dCkge1xyXG4gICAgICAgICAgICBjb25zdCByZW1haW5pbmcgPSBNYXRoLm1heChcclxuICAgICAgICAgICAgICAgIDAsXHJcbiAgICAgICAgICAgICAgICBNYXRoLmNlaWwoKHRoaXMuZW5kQXQgLSBEYXRlLm5vdygpKSAvIDEwMDApXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHRoaXMudGltZXJUZXh0LnNldFRleHQoXCJUaWVtcG86IFwiICsgcmVtYWluaW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZUVuZGVkIHx8IHRoaXMuaXNQYXVzZWQpIHJldHVybjtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLmxvY2FsSnVnYWRvcjtcclxuICAgICAgICBpZiAoIXBsYXllciB8fCAhcGxheWVyLnNwcml0ZSkgcmV0dXJuO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHBsYXllci5zcHJpdGUuc2V0VmVsb2NpdHkoMCwgMCk7XHJcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLnBsYXllclJvbGU7XHJcbiAgICAgICAgY29uc3QgaW52ZXJ0ZWQgPSB0aGlzLmludmVydENvbnRyb2xzW2lkXVxyXG5cclxuICAgICAgICBsZXQgY3VycmVudERpcmVjdGlvbiA9IG51bGw7XHJcbiAgICAgICAgbGV0IGlzTW92aW5nID0gZmFsc2U7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMuY3Vyc29ycy51cC5pc0Rvd24pIHtcclxuICAgICAgICAgICAgcGxheWVyLnNwcml0ZS5zZXRWZWxvY2l0eVkoaW52ZXJ0ZWQgPyBwbGF5ZXIuYmFzZVNwZWVkIDogLXBsYXllci5iYXNlU3BlZWQpO1xyXG4gICAgICAgICAgICBwbGF5ZXIuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICAgICAgY3VycmVudERpcmVjdGlvbiA9IGludmVydGVkID8gXCJkb3duXCIgOiBcInVwXCI7XHJcbiAgICAgICAgICAgIGlzTW92aW5nID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY3Vyc29ycy5kb3duLmlzRG93bikge1xyXG4gICAgICAgICAgICBwbGF5ZXIuc3ByaXRlLnNldFZlbG9jaXR5WShpbnZlcnRlZCA/IC1wbGF5ZXIuYmFzZVNwZWVkIDogcGxheWVyLmJhc2VTcGVlZCk7XHJcbiAgICAgICAgICAgIHBsYXllci5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgICAgICBjdXJyZW50RGlyZWN0aW9uID0gaW52ZXJ0ZWQgPyBcInVwXCIgOiBcImRvd25cIjtcclxuICAgICAgICAgICAgaXNNb3ZpbmcgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJzb3JzLmxlZnQuaXNEb3duKSB7XHJcbiAgICAgICAgICAgIHBsYXllci5zcHJpdGUuc2V0VmVsb2NpdHlYKGludmVydGVkID8gcGxheWVyLmJhc2VTcGVlZCA6IC1wbGF5ZXIuYmFzZVNwZWVkKTtcclxuICAgICAgICAgICAgcGxheWVyLnNwcml0ZS5zZXRWZWxvY2l0eVkoMCk7XHJcbiAgICAgICAgICAgIGN1cnJlbnREaXJlY3Rpb24gPSBpbnZlcnRlZCA/IFwicmlnaHRcIiA6IFwibGVmdFwiO1xyXG4gICAgICAgICAgICBpc01vdmluZyA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnNvcnMucmlnaHQuaXNEb3duKSB7XHJcbiAgICAgICAgICAgIHBsYXllci5zcHJpdGUuc2V0VmVsb2NpdHlYKGludmVydGVkID8gLXBsYXllci5iYXNlU3BlZWQgOiBwbGF5ZXIuYmFzZVNwZWVkKTtcclxuICAgICAgICAgICAgcGxheWVyLnNwcml0ZS5zZXRWZWxvY2l0eVkoMCk7XHJcbiAgICAgICAgICAgIGN1cnJlbnREaXJlY3Rpb24gPSBpbnZlcnRlZCA/IFwibGVmdFwiIDogXCJyaWdodFwiO1xyXG4gICAgICAgICAgICBpc01vdmluZyA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY3VycmVudERpcmVjdGlvbiA9IHRoaXMubGFzdERpcmVjdGlvbiB8fCBcImRvd25cIjtcclxuICAgICAgICAgICAgaXNNb3ZpbmcgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQXBsaWNhciBzcHJpdGUgY29uIGVsIGVzdGFkbyBkZSBtb3ZpbWllbnRvXHJcbiAgICAgICAgcGxheWVyLnNldFNwcml0ZShjdXJyZW50RGlyZWN0aW9uLCBpc01vdmluZyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gR3VhcmRhciBsYSBkaXJlY2Npw7NuIGFjdHVhbCBZIGVsIGVzdGFkbyBkZSBtb3ZpbWllbnRvXHJcbiAgICAgICAgdGhpcy5sYXN0RGlyZWN0aW9uID0gY3VycmVudERpcmVjdGlvbjtcclxuICAgICAgICB0aGlzLmxhc3RJc01vdmluZyA9IGlzTW92aW5nOyAgLy9HdWFyZGFyIGlzTW92aW5nXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnKSB7XHJcbiAgICAgICAgICAgIHBsYXllci5zcHJpdGUueCA9IFBoYXNlci5NYXRoLkNsYW1wKHBsYXllci5zcHJpdGUueCwgMCwgNDAwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwbGF5ZXIuc3ByaXRlLnggPSBQaGFzZXIuTWF0aC5DbGFtcChwbGF5ZXIuc3ByaXRlLngsIDQwMCwgODAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcGxheWVyLnNwcml0ZS55ID0gUGhhc2VyLk1hdGguQ2xhbXAocGxheWVyLnNwcml0ZS55LCAxMTUsIDU1NSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5zZW5kUGxheWVyUG9zaXRpb24oKTtcclxuXHJcbiAgICAgICAgY29uc3QgYnJpZ2h0bmVzcyA9IHRoaXMucGx1Z2lucy5nZXQoXCJCcmlnaHRuZXNzXCIpO1xyXG4gICAgICAgIGJyaWdodG5lc3MudXBkYXRlT3ZlcmxheSh0aGlzKTtcclxuICAgIH1cclxuICAgIHNlbmRQbGF5ZXJQb3NpdGlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOICYmIHRoaXMubG9jYWxKdWdhZG9yKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG15UGxheWVySWQgPSB0aGlzLnBsYXllclJvbGU7XHJcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAncGxheWVyTW92ZScsXHJcbiAgICAgICAgICAgICAgICByb29tSWQ6IHRoaXMucm9vbUlkLFxyXG4gICAgICAgICAgICAgICAgcGxheWVyUm9sZTogdGhpcy5wbGF5ZXJSb2xlLFxyXG4gICAgICAgICAgICAgICAgeDogdGhpcy5sb2NhbEp1Z2Fkb3Iuc3ByaXRlLngsXHJcbiAgICAgICAgICAgICAgICB5OiB0aGlzLmxvY2FsSnVnYWRvci5zcHJpdGUueSxcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogdGhpcy5sYXN0RGlyZWN0aW9uIHx8ICdkb3duJyxcclxuICAgICAgICAgICAgICAgIGlzTW92aW5nOiB0aGlzLmxhc3RJc01vdmluZyAhPT0gdW5kZWZpbmVkID8gdGhpcy5sYXN0SXNNb3ZpbmcgOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIC8vSW5jbHVpciBlc3RhZG9zXHJcbiAgICAgICAgICAgICAgICBwb3dlclVwQWN0aXZlOiB0aGlzLnBvd2VyVXBBY3RpdmVbbXlQbGF5ZXJJZF0sXHJcbiAgICAgICAgICAgICAgICBzdGlja3lBY3RpdmU6IHRoaXMuc3RpY2t5QWN0aXZlW215UGxheWVySWRdXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeShtZXNzYWdlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzZW5kTWVzc2FnZShkYXRhKSB7XHJcbiAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgbWVzc2FnZTonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2h1dGRvd24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdwbGF5ZXJMZWZ0JyxcclxuICAgICAgICAgICAgICAgIHJvb21JZDogdGhpcy5yb29tSWRcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMudHJhc2hTcGF3blRpbWVyKSB0aGlzLnRyYXNoU3Bhd25UaW1lci5yZW1vdmUoKTtcclxuICAgICAgICBpZiAodGhpcy5zdGlja3lTcGF3blRpbWVyKSB0aGlzLnN0aWNreVNwYXduVGltZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuc3BpbGxTcGF3blRpbWVyKSB0aGlzLnNwaWxsU3Bhd25UaW1lci5yZW1vdmUoKTtcclxuICAgICAgICBpZiAodGhpcy5zZWFndWxsU291bmRUaW1lcikgdGhpcy5zZWFndWxsU291bmRUaW1lci5yZW1vdmUoKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAodGhpcy5tdXNpY2EgJiYgdGhpcy5tdXNpY2EuaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMubXVzaWNhLnN0b3AoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIvKipcclxuICogTG9iYnkgU2NlbmUgLSBXYWl0aW5nIGZvciBtdWx0aXBsYXllciBtYXRjaG1ha2luZ1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIExvYmJ5U2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoeyBrZXk6ICdMb2JieVNjZW5lJyB9KTtcclxuICAgIHRoaXMud3MgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgcHJlbG9hZCgpe1xyXG4gICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbkF0cmFzJywgJ2Fzc2V0cy9Cb3RvbmVzL3ZvbHZlcicpO1xyXG4gICAgdGhpcy5sb2FkLmltYWdlKCdmb25kb01lbnUnLCAnYXNzZXRzL0ZvbmRvcy9mb25kby5wbmcnKTtcclxuICB9XHJcbiAgY3JlYXRlKCkge1xyXG4gICAgY29uc3Qgd2lkdGggPSB0aGlzLmNhbWVyYXMubWFpbi53aWR0aDtcclxuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuY2FtZXJhcy5tYWluLmhlaWdodDtcclxuXHJcbiAgICB0aGlzLmFkZC5pbWFnZSg0MDAsMzAwLCAnZm9uZG9NZW51Jyk7XHJcbiAgICAvLyBUaXRsZVxyXG4gICAgdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDE1MCwgJ09ubGluZSBNdWx0aXBsYXllcicsIHtcclxuICAgICAgZm9udEZhbWlseTogJ2FhYWFhJyxcclxuICAgICAgZm9udFNpemU6ICczOHB4JyxcclxuICAgICAgY29sb3I6ICcjZTFlNjc0J1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgLy8gU3RhdHVzIHRleHRcclxuICAgIHRoaXMuc3RhdHVzVGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCBoZWlnaHQgLyAyIC0gNTAsICdDb25uZWN0aW5nIHRvIHNlcnZlci4uLicsIHtcclxuICAgICAgZm9udEZhbWlseTogJ2FhYWFhJyxcclxuICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgY29sb3I6ICcjZmZmZjAwJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgLy8gUGxheWVyIGNvdW50IHRleHRcclxuICAgIHRoaXMucGxheWVyQ291bnRUZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAvIDIgKyAyMCwgJycsIHtcclxuICAgICAgZm9udEZhbWlseTogJ2FhYWFhJyxcclxuICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgY29sb3I6ICcjMDBmZjAwJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgLy8gQ2FuY2VsIGJ1dHRvblxyXG4gICAgY29uc3QgY2FuY2VsQnV0dG9uID0gdGhpcy5hZGQuaW1hZ2UoNDAwLDUwMCwgJ2JvdG9uQXRyYXMnXHJcbiAgICApLnNldE9yaWdpbigwLjUpLnNldEludGVyYWN0aXZlKClcclxuICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMubGVhdmVRdWV1ZSgpO1xyXG4gICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuY29ubmVjdFRvU2VydmVyKCk7XHJcbiAgfVxyXG5cclxuICBjb25uZWN0VG9TZXJ2ZXIoKSB7XHJcbiAgICB0cnkgeyAgICAgIFxyXG4gICAgICBjb25zdCB3c1VybCA9IGB3czovLyR7d2luZG93LmxvY2F0aW9uLmhvc3R9YDtcclxuICAgICAgdGhpcy53cyA9IG5ldyBXZWJTb2NrZXQod3NVcmwpO1xyXG5cclxuICAgICAgdGhpcy53cy5vbm9wZW4gPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0Nvbm5lY3RlZCB0byBXZWJTb2NrZXQgc2VydmVyJyk7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ1dhaXRpbmcgZm9yIG9wcG9uZW50Li4uJyk7XHJcblxyXG4gICAgICAgIC8vIEpvaW4gbWF0Y2htYWtpbmcgcXVldWVcclxuICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnam9pblF1ZXVlJyB9KSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcclxuICAgICAgICAgIHRoaXMuaGFuZGxlU2VydmVyTWVzc2FnZShkYXRhKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBzZXJ2ZXIgbWVzc2FnZTonLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy53cy5vbmVycm9yID0gKGVycm9yKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignV2ViU29ja2V0IGVycm9yOicsIGVycm9yKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnQ29ubmVjdGlvbiBlcnJvciEnKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMud3Mub25jbG9zZSA9ICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnV2ViU29ja2V0IGNvbm5lY3Rpb24gY2xvc2VkJyk7XHJcbiAgICAgICAgaWYgKHRoaXMuc2NlbmUuaXNBY3RpdmUoJ0xvYmJ5U2NlbmUnKSkge1xyXG4gICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0Nvbm5lY3Rpb24gbG9zdCEnKTtcclxuICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNvbm5lY3RpbmcgdG8gc2VydmVyOicsIGVycm9yKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0ZhaWxlZCB0byBjb25uZWN0IScpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSkge1xyXG4gICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcclxuICAgICAgY2FzZSAncXVldWVTdGF0dXMnOlxyXG4gICAgICAgIHRoaXMucGxheWVyQ291bnRUZXh0LnNldFRleHQoYFBsYXllcnMgaW4gcXVldWU6ICR7ZGF0YS5wb3NpdGlvbn0vMmApO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnZ2FtZVN0YXJ0JzpcclxuICAgICAgICBjb25zb2xlLmxvZygnR2FtZSBzdGFydGluZyEnLCBkYXRhKTtcclxuICAgICAgICAvLyBTdG9yZSBnYW1lIGRhdGEgYW5kIHRyYW5zaXRpb24gdG8gbXVsdGlwbGF5ZXIgZ2FtZSBzY2VuZVxyXG4gICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ011bHRpcGxheWVyR2FtZVNjZW5lJywge1xyXG4gICAgICAgICAgd3M6IHRoaXMud3MsXHJcbiAgICAgICAgICBwbGF5ZXJSb2xlOiBkYXRhLnJvbGUsXHJcbiAgICAgICAgICByb29tSWQ6IGRhdGEucm9vbUlkLFxyXG4gICAgICAgICAgZW5kQXQ6IGRhdGEuZW5kQXRcclxuICAgICAgICB9KTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1Vua25vd24gbWVzc2FnZSB0eXBlOicsIGRhdGEudHlwZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBsZWF2ZVF1ZXVlKCkge1xyXG4gICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnbGVhdmVRdWV1ZScgfSkpO1xyXG4gICAgICB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzaHV0ZG93bigpIHtcclxuICAgIHRoaXMubGVhdmVRdWV1ZSgpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGNvbm5lY3Rpb25NYW5hZ2VyIH0gZnJvbSAnLi4vc2VydmljZXMvQ29ubmVjdGlvbk1hbmFnZXInO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBMb2NhbG9PbmxpbmVTZWxlY2Npb24gZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0xvY2Fsb09ubGluZVNlbGVjY2lvbicpO1xyXG4gICAgfVxyXG5cclxuICAgICBwcmVsb2FkKCl7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbkxvY2FsJywgJ2Fzc2V0cy9Cb3RvbmVzL2xvY2FsLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25PbmxpbmUnLCAnYXNzZXRzL0JvdG9uZXMvb25saW5lLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25BdHJhcycsICdhc3NldHMvQm90b25lcy92b2x2ZXIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kb01lbnUnLCAnYXNzZXRzL0ZvbmRvcy9mb25kby5wbmcnKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgY3JlYXRlKGRhdGEpIHtcclxuXHJcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSB0aGlzLnBsdWdpbnMuZ2V0KFwiR2xvYmFsU2V0dGluZ3NcIik7ICAgLy9Mb3Mgc2NyaXB0cyBwYXJhIGNvbnRyb2xhciBlbCBicmlsbG8geSBsYSBtw7pzaWNhXHJcbiAgICAgICAgY29uc3QgYnJpZ2h0bmVzcyA9IHRoaXMucGx1Z2lucy5nZXQoXCJCcmlnaHRuZXNzXCIpO1xyXG4gICAgICAgIGJyaWdodG5lc3MuYXBwbHlUb1NjZW5lKHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDMwMCwgJ2ZvbmRvTWVudScpLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLDE1MCwgJ1NlbGVjY2nDs24gbW9kbyBkZSBqdWVnbycsICAgIC8vTm9tYnJlIGRlbCBqdWVnb1xyXG4gICAgICAgIHsgICBcclxuICAgICAgICAgICAgZm9udEZhbWlseTogXCJhYWFhYVwiLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNlMWU2NzQnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGxvY2FsQnRuID0gdGhpcy5hZGQuaW1hZ2UoMzAwLCAzMDAsICdib3RvbkxvY2FsJykuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoe3VzZUhhbmRDdXJzb3I6IHRydWV9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcmRvd24nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0dhbWVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBvbmxpbmVCdG4gPSB0aGlzLmFkZC5pbWFnZSg1MDAsIDMwMCwgJ2JvdG9uT25saW5lJykuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoe3VzZUhhbmRDdXJzb3I6IHRydWV9KVxyXG4gICAgICAgIC5vbigncG9pbnRlcmRvd24nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cuc2Vzc2lvbklkKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCcvYXBpL2dhbWUvc3RhcnQnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHNlc3Npb25JZDogd2luZG93LnNlc3Npb25JZCB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZ2FtZXNQbGF5ZWQgPSBkYXRhLmdhbWVzUGxheWVkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUGFydGlkYXMganVnYWRhczonLCB3aW5kb3cuZ2FtZXNQbGF5ZWQpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbmljaWFuZG8gcGFydGlkYScsIGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0xvYmJ5U2NlbmUnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnTG9naW4nKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICBjb25zdCB2b2x2ZXJCdG4gPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDQ1MCwgJ2JvdG9uQXRyYXMnKS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7dXNlSGFuZEN1cnNvcjogdHJ1ZX0pXHJcbiAgICAgICAgLm9uKCdwb2ludGVyZG93bicsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHVwZGF0ZSgpIHsgLy9BY3R1YWxpemEgZWwgYnJpbGxvIGVuIGZ1bmNpw7NuIGRlbCBzbGlkZXIgZGUgYWp1c3Rlc1xyXG4gICAgICAgIGNvbnN0IGJyaWdodG5lc3MgPSB0aGlzLnBsdWdpbnMuZ2V0KFwiQnJpZ2h0bmVzc1wiKTtcclxuICAgICAgICBicmlnaHRuZXNzLnVwZGF0ZU92ZXJsYXkodGhpcyk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgTG9naW4gZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdMb2dpbicpO1xyXG4gICAgfVxyXG5cclxuICAgICBwcmVsb2FkKCl7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3Rvbkp1Z2FyJywgJ2Fzc2V0cy9Cb3RvbmVzL2VtcGV6YXIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbkF0cmFzJywgJ2Fzc2V0cy9Cb3RvbmVzL3ZvbHZlci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2xvZ2luJywgJ2Fzc2V0cy9Cb3RvbmVzL2xvZ2luLnBuZycpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjcmVhdGUoZGF0YSkge1xyXG5cclxuICAgICAgICBjb25zdCBicmlnaHRuZXNzID0gdGhpcy5wbHVnaW5zLmdldChcIkJyaWdodG5lc3NcIik7XHJcbiAgICAgICAgYnJpZ2h0bmVzcy5hcHBseVRvU2NlbmUodGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg0MDAsIDMwMCwgODAwLCA2MDAsIDB4MDAwMDAwLCAwLjcpOyBcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsMjUwLCdsb2dpbicpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDEuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAxNTAsICdMb2dpbicsIHsgIFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiBcImFhYWFhXCIsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2UxZTY3NCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICBcclxuICAgICAgICBjb25zdCBlbXBlemFyID0gdGhpcy5hZGQuaW1hZ2UoNTAwLCA0MDAsICdib3Rvbkp1Z2FyJywpLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KSBcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgYXN5bmMgKCkgPT4geyAgXHJcbiAgICAgICAgICAgIGNvbnN0IG5pY2tuYW1lID0gdGhpcy5uaWNrbmFtZUlucHV0LnZhbHVlLnRyaW0oKTtcclxuICAgICAgICAgICAgaWYgKCFuaWNrbmFtZSkgcmV0dXJuO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJy9hcGkvbG9naW4nLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuaWNrbmFtZSB9KVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgd2luZG93LnNlc3Npb25JZCA9IGRhdGEuc2Vzc2lvbklkO1xyXG4gICAgICAgICAgICAgICAgd2luZG93Lm5pY2tuYW1lID0gZGF0YS5uaWNrbmFtZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzUmVzID0gYXdhaXQgZmV0Y2goYC9hcGkvZ2FtZS9zdGF0cz9zZXNzaW9uSWQ9JHt3aW5kb3cuc2Vzc2lvbklkfWApO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHMgPSBhd2FpdCBzdGF0c1Jlcy5qc29uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzdGF0cy5nYW1lc1BsYXllZCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZ2FtZXNQbGF5ZWQgPSBzdGF0cy5nYW1lc1BsYXllZDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBMaW1waWFyIGlucHV0XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5pY2tuYW1lSW5wdXQucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ2VycmFyIGxvZ2luIHkgZW1wZXphciBqdWVnb1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoJ0xvY2Fsb09ubGluZVNlbGVjY2lvbicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTG9iYnlTY2VuZScpO1xyXG5cclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignTG9naW4gZXJyb3InLCBlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCB2b2x2ZXIgPSB0aGlzLmFkZC5pbWFnZSgzMDAsIDQwMCwgJ2JvdG9uQXRyYXMnLCkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pIFxyXG4gICAgICAgIC5vbigncG9pbnRlcmRvd24nLCBhc3luYyAoKSA9PiB7ICBcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7ICAgXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKCdMb2NhbG9PbmxpbmVTZWxlY2Npb24nKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gSW5wdXQgSFRNTFxyXG4gICAgICAgIHRoaXMubmlja25hbWVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICAgICAgdGhpcy5uaWNrbmFtZUlucHV0LnR5cGUgPSAndGV4dCc7XHJcbiAgICAgICAgdGhpcy5uaWNrbmFtZUlucHV0LnBsYWNlaG9sZGVyID0gJ05pY2tuYW1lJztcclxuICAgICAgICB0aGlzLm5pY2tuYW1lSW5wdXQubWF4TGVuZ3RoID0gMTI7XHJcblxyXG4gICAgICAgIHRoaXMubmlja25hbWVJbnB1dC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICAgICAgdGhpcy5uaWNrbmFtZUlucHV0LnN0eWxlLnRvcCA9ICc0NSUnO1xyXG4gICAgICAgIHRoaXMubmlja25hbWVJbnB1dC5zdHlsZS5sZWZ0ID0gJzUwJSc7XHJcbiAgICAgICAgdGhpcy5uaWNrbmFtZUlucHV0LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKC01MCUpJztcclxuICAgICAgICB0aGlzLm5pY2tuYW1lSW5wdXQuc3R5bGUucGFkZGluZyA9ICcxMHB4JztcclxuICAgICAgICB0aGlzLm5pY2tuYW1lSW5wdXQuc3R5bGUuZm9udEZhbWlseSA9ICdhYWFhYSc7XHJcbiAgICAgICAgdGhpcy5uaWNrbmFtZUlucHV0LnN0eWxlLmZvbnRTaXplID0gJzE2cHgnO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMubmlja25hbWVJbnB1dCk7XHJcblxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdzaHV0ZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMubmlja25hbWVJbnB1dCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5uaWNrbmFtZUlucHV0LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHVwZGF0ZSgpIHsgLy9BY3R1YWxpemEgZWwgYnJpbGxvIGVuIGZ1bmNpw7NuIGRlbCBzbGlkZXIgZGUgYWp1c3Rlc1xyXG4gICAgICAgIGNvbnN0IGJyaWdodG5lc3MgPSB0aGlzLnBsdWdpbnMuZ2V0KFwiQnJpZ2h0bmVzc1wiKTtcclxuICAgICAgICBicmlnaHRuZXNzLnVwZGF0ZU92ZXJsYXkodGhpcyk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdGFydFNjcmVlbiBleHRlbmRzIFBoYXNlci5TY2VuZXtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdTdGFydFNjcmVlbicpXHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpe1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG9TJywgJ2Fzc2V0cy9Gb25kb3MvZm9uZG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbkNsaWNrJywgJ2Fzc2V0cy9Cb3RvbmVzL2NsaWNrLnBuZycpO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDMwMCwgJ2ZvbmRvUycpLnNldE9yaWdpbigwLjUpOyAvL0HDsWFkaW1vcyB1biBmb25kb1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgMzEwLCAnYScsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBmb250RmFtaWx5OiBcImFhYWFhXCIsIFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzM4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNlMWU2NzQnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICBjb25zdCB0ZXh0b1N0YXJ0ID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCAzMTAsICdib3RvbkNsaWNrJykuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgZW1wZXphckp1ZWdvICA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pbnB1dC5lbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoXCJNZW51U2NlbmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaW5wdXQub25jZSgncG9pbnRlcmRvd24nLCBlbXBlemFySnVlZ28pO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEdsb2JhbFNldHRpbmdQbHVnaW4gZXh0ZW5kcyBQaGFzZXIuUGx1Z2lucy5CYXNlUGx1Z2luIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwbHVnaW5NYW5hZ2VyKSB7XHJcbiAgICAgICAgc3VwZXIocGx1Z2luTWFuYWdlcik7XHJcblxyXG4gICAgICAgIC8vIFZhbG9yZXMgZ2xvYmFsZXMgZGUgdm9sdW1lblxyXG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSB7XHJcbiAgICAgICAgICAgIG11c2ljVm9sdW1lOiAxLFxyXG4gICAgICAgICAgICBzZnhWb2x1bWU6IDFcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNlIGd1YXJkYSBlbCB2b2x1bWVuIGRlIG3DunNpY2FcclxuICAgIHNldE11c2ljVm9sdW1lKHYpIHtcclxuICAgICAgICB0aGlzLnNldHRpbmdzLm11c2ljVm9sdW1lID0gdjtcclxuICAgIH1cclxuXHJcbiAgICAvL1NlIG9idGllbmUgZWwgdm9sdW1lbiBkZSBtw7pzaWNhXHJcbiAgICBnZXRNdXNpY1ZvbHVtZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tdXNpY1ZvbHVtZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAgU2UgZ3VhcmRhIGVsIHZvbHVtZW4gZGUgZWZlY3Rvc1xyXG4gICAgc2V0U2Z4Vm9sdW1lKHYpIHtcclxuICAgICAgICB0aGlzLnNldHRpbmdzLnNmeFZvbHVtZSA9IHY7XHJcbiAgICB9XHJcblxyXG4gICAgLy9TZSBvYnRpZW5lIGVsIHZvbHVtZW4gZGUgZWZlY3Rvc1xyXG4gICAgZ2V0U2Z4Vm9sdW1lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLnNmeFZvbHVtZTtcclxuICAgIH1cclxufVxyXG5cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnJpZ2h0bmVzc1BsdWdpbiBleHRlbmRzIFBoYXNlci5QbHVnaW5zLkJhc2VQbHVnaW4geyBcclxuICAgIGNvbnN0cnVjdG9yKHBsdWdpbk1hbmFnZXIpIHtcclxuICAgICAgICBzdXBlcihwbHVnaW5NYW5hZ2VyKTtcclxuICAgICAgICB0aGlzLmJyaWdodG5lc3MgPSAxOyAvLyBicmlsbG8gaW5pY2lhbFxyXG4gICAgfVxyXG5cclxuICAgIC8vIFNlIGd1YXJkYSBlbCBicmlsbG9cclxuICAgIHNldEJyaWdodG5lc3ModmFsdWUpIHtcclxuICAgICAgICB0aGlzLmJyaWdodG5lc3MgPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZSBvYnRpZW5lIGVsIGJyaWxsb1xyXG4gICAgZ2V0QnJpZ2h0bmVzcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5icmlnaHRuZXNzO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNlIGNyZWEgbGEgY2FwYSBxdWUgY29udHJvbGEgZWwgYnJpbGxvXHJcbiAgICBhcHBseVRvU2NlbmUoc2NlbmUpIHtcclxuICAgICAgICBjb25zdCBvdmVybGF5ID0gc2NlbmUuYWRkLnJlY3RhbmdsZSg0MDAsIDMwMCwgODAwLCA2MDAsIDB4ZmZmZmZmKTtcclxuICAgICAgICBvdmVybGF5LnNldERlcHRoKDk5OTkpOyAgICAgICAgICAgICAgLy8gc2UgY29sb2NhIGVuY2ltYSBkZSB0b2RvXHJcbiAgICAgICAgc2NlbmUuYnJpZ2h0bmVzc092ZXJsYXkgPSBvdmVybGF5OyAgIC8vIHNlIGFzaWduYSBhbCBzY2VuZVxyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZU92ZXJsYXkoc2NlbmUpOyAgICAgICAgICAgLy8gc2UgYXBsaWNhIGVsIGJyaWxsbyBhY3R1YWxcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZSBhanVzdGEgbGEgY2FwYSBlbiBmdW5jacOzbiBkZWwgYnJpbGxvXHJcbiAgICB1cGRhdGVPdmVybGF5KHNjZW5lKSB7XHJcbiAgICAgICAgY29uc3QgYnIgPSB0aGlzLmJyaWdodG5lc3M7XHJcblxyXG4gICAgICAgIGlmIChiciA8IDEpIHtcclxuICAgICAgICAgICAgLy8gc2Ugb3NjdXJlY2UgbGEgcGFudGFsbGFcclxuICAgICAgICAgICAgc2NlbmUuYnJpZ2h0bmVzc092ZXJsYXkuc2V0RmlsbFN0eWxlKDB4MDAwMDAwKTtcclxuICAgICAgICAgICAgc2NlbmUuYnJpZ2h0bmVzc092ZXJsYXkuc2V0QmxlbmRNb2RlKFBoYXNlci5CbGVuZE1vZGVzLk1VTFRJUExZKTtcclxuICAgICAgICAgICAgc2NlbmUuYnJpZ2h0bmVzc092ZXJsYXkuYWxwaGEgPSAxIC0gYnI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gc2UgYWNsYXJhIGxhIHBhbnRhbGxhXHJcbiAgICAgICAgICAgIHNjZW5lLmJyaWdodG5lc3NPdmVybGF5LnNldEZpbGxTdHlsZSgweGZmZmZmZik7XHJcbiAgICAgICAgICAgIHNjZW5lLmJyaWdodG5lc3NPdmVybGF5LnNldEJsZW5kTW9kZShQaGFzZXIuQmxlbmRNb2Rlcy5BREQpO1xyXG4gICAgICAgICAgICBzY2VuZS5icmlnaHRuZXNzT3ZlcmxheS5hbHBoYSA9IGJyIC0gMTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFBoYXNlciwgeyBQaHlzaWNzIH0gZnJvbSAncGhhc2VyJztcclxuXHJcbmltcG9ydCB7IE1lbnVTY2VuZSB9IGZyb20gJy4vc2NlbmUvTWVudVNjZW5lLmpzJztcclxuaW1wb3J0IHsgR2FtZVNjZW5lIH0gZnJvbSAnLi9zY2VuZS9HYW1lU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBQYXVzZVNjZW5lfSBmcm9tICcuL3NjZW5lL1BhdXNlU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBDcmVkaXRvc30gZnJvbSAnLi9zY2VuZS9DcmVkaXRvcy5qcyc7XHJcbmltcG9ydCB7IEFqdXN0ZXN9IGZyb20gJy4vc2NlbmUvQWp1c3Rlcy5qcyc7XHJcbmltcG9ydCB7IEdhbWVPdmVyU2NlbmUgfSBmcm9tICcuL3NjZW5lL0dhbWVPdmVyU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBDb250cm9sZXMgfSBmcm9tICcuL3NjZW5lL0NvbnRyb2xlcy5qcyc7XHJcbmltcG9ydCB7IENvbm5lY3Rpb25Mb3N0U2NlbmUgfSBmcm9tICcuL3NjZW5lL0Nvbm5lY3Rpb25Mb3N0U2NlbmUuanMnO1xyXG5pbXBvcnQgeyBNdWx0aXBsYXllckdhbWVTY2VuZSB9IGZyb20gJy4vc2NlbmUvTXVsdGlwbGF5ZXJHYW1lU2NlbmUuanMnO1xyXG5pbXBvcnQge0xvYmJ5U2NlbmV9ICBmcm9tICcuL3NjZW5lL0xvYmJ5U2NlbmUuanMnO1xyXG5pbXBvcnQgeyBMb2NhbG9PbmxpbmVTZWxlY2Npb24gfSBmcm9tICcuL3NjZW5lL0xvY2Fsb09ubGluZVNlbGVjY2lvbi5qcyc7ICAgXHJcbmltcG9ydCB7IExvZ2luIH0gZnJvbSAnLi9zY2VuZS9Mb2dpbi5qcyc7XHJcbmltcG9ydCB7IFN0YXJ0U2NyZWVuIH0gZnJvbSAnLi9zY2VuZS9TdGFydFNjcmVlbi5qcyc7ICAgXHJcblxyXG5pbXBvcnQgR2xvYmFsU2V0dGluZ3NQbHVnaW4gZnJvbSBcIi4vR2xvYmFsU2V0dGluZ1BsdWdpbi5qc1wiO1xyXG5pbXBvcnQgQnJpZ2h0bmVzc1BsdWdpbiAgZnJvbSBcIi4vQnJpZ2h0bmVzc1BsdWdpbi5qc1wiO1xyXG5cclxuY29uc3QgY29uZmlnID0ge1xyXG4gICAgdHlwZTogUGhhc2VyLkFVVE8sXHJcbiAgICB3aWR0aDogODAwLFxyXG4gICAgaGVpZ2h0OiA2MDAsXHJcbiAgICBwYXJlbnQ6ICdnYW1lLWNvbnRhaW5lcicsXHJcbiAgICBwaHlzaWNzOiB7XHJcbiAgICAgICAgZGVmYXVsdDogJ2FyY2FkZScsXHJcbiAgICAgICAgYXJjYWRlOiB7XHJcbiAgICAgICAgICAgIGdyYXZpdHk6IHt5OiAwfSxcclxuICAgICAgICAgICAgZGVidWc6IGZhbHNlXHJcbiAgICAgICAgfSBcclxuICAgIH0sXHJcbiAgICBwbHVnaW5zOiB7XHJcbiAgICAgICAgZ2xvYmFsOiBbXHJcbiAgICAgICAgICAgIHsga2V5OiBcIkdsb2JhbFNldHRpbmdzXCIsIHBsdWdpbjogR2xvYmFsU2V0dGluZ3NQbHVnaW4sIHN0YXJ0OiB0cnVlIH0sXHJcbiAgICAgICAgICAgIHsga2V5OiBcIkJyaWdodG5lc3NcIiwgcGx1Z2luOiBCcmlnaHRuZXNzUGx1Z2luLCBzdGFydDogdHJ1ZSB9XHJcbiAgICAgICAgXVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgICAgIHNjZW5lOiBbU3RhcnRTY3JlZW4sIE1lbnVTY2VuZSwgR2FtZVNjZW5lLCBQYXVzZVNjZW5lLCBDcmVkaXRvcywgQWp1c3RlcywgR2FtZU92ZXJTY2VuZSwgQ29udHJvbGVzLCBDb25uZWN0aW9uTG9zdFNjZW5lLCBMb2JieVNjZW5lLCBNdWx0aXBsYXllckdhbWVTY2VuZSwgTG9jYWxvT25saW5lU2VsZWNjaW9uLExvZ2luXSxcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjODc2ZjAwJ1xyXG4gICAgfVxyXG5cclxuY29uc3QgZ2FtZSA9IG5ldyBQaGFzZXIuR2FtZShjb25maWcpO1xyXG5cclxuXHJcblxyXG5leHBvcnQgeyBnYW1lIH07XHJcblxyXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZSIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJQaGFzZXIiLCJjb25uZWN0aW9uTWFuYWdlciIsImNvbnN0cnVjdG9yIiwidGhpcyIsImNvbm5lY3RlZENvdW50IiwiaXNDb25uZWN0ZWQiLCJsYXN0Q2hlY2tUaW1lIiwiRGF0ZSIsIm5vdyIsImNoZWNrSW50ZXJ2YWwiLCJsaXN0ZW5lcnMiLCJzZXNzaW9uSWQiLCJnZW5lcmF0ZVNlc3Npb25JZCIsImludGVydmFsSWQiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJjaGVja0Nvbm5lY3Rpb24iLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwib2siLCJkYXRhIiwianNvbiIsImNvbm5lY3RlZCIsIm5vdGlmeUxpc3RlbmVycyIsImNvdW50Iiwic3VjY2VzcyIsImhhbmRsZURpc2Nvbm5lY3Rpb24iLCJlcnJvciIsImNvbnNvbGUiLCJhZGRMaXN0ZW5lciIsImNhbGxiYWNrIiwicHVzaCIsInJlbW92ZUxpc3RlbmVyIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiZm9yRWFjaCIsImxpc3RlbmVyIiwiZ2V0U3RhdHVzIiwic3RhcnRQb2xsaW5nIiwic2V0SW50ZXJ2YWwiLCJzdG9wUG9sbGluZyIsImNsZWFySW50ZXJ2YWwiLCJNZW51U2NlbmUiLCJzdXBlciIsInByZWxvYWQiLCJsb2FkIiwiYXVkaW8iLCJpbWFnZSIsImNyZWF0ZSIsInNldHRpbmdzIiwicGx1Z2lucyIsImFwcGx5VG9TY2VuZSIsImZpcnN0Q2xpY2tEb25lIiwibXVzaWNhIiwic291bmQiLCJhZGQiLCJ2b2x1bWUiLCJnZXRNdXNpY1ZvbHVtZSIsImxvb3AiLCJwbGF5IiwiZXZlbnRzIiwib24iLCJzdG9wIiwiZGVzdHJveSIsInYiLCJzZXRWb2x1bWUiLCJzZXRPcmlnaW4iLCJ0ZXh0IiwiZm9udEZhbWlseSIsImZvbnRTaXplIiwiY29sb3IiLCJzZXRJbnRlcmFjdGl2ZSIsInVzZUhhbmRDdXJzb3IiLCJzY2VuZSIsInN0YXJ0IiwicHJldmlvdXNTY2VuZSIsInNldERpc3BsYXlTaXplIiwiY29ubmVjdGlvblRleHQiLCJjb25uZWN0aW9uTGlzdGVuZXIiLCJ1cGRhdGVDb25uZWN0aW9uRGlzcGxheSIsInNodXRkb3duIiwidXBkYXRlIiwidXBkYXRlT3ZlcmxheSIsImlzQWN0aXZlIiwic2V0VGV4dCIsInNldEZvbnRGYW1pbHkiLCJzZXRDb2xvciIsIlBlcnNvbmFqZXMiLCJpZCIsIngiLCJ5Iiwic2NvcmUiLCJiYXNlU3BlZWQiLCJsYXN0RGlyZWN0aW9uIiwiaXNBbmltYXRpbmciLCJ0ZXh0dXJlIiwic3ByaXRlIiwicGh5c2ljcyIsInNldFNjYWxlIiwidXBkYXRlSGl0Ym94Iiwic2V0Q29sbGlkZVdvcmxkQm91bmRzIiwiYWxsb3dHcmF2aXR5Iiwic2V0U2l6ZSIsIndpZHRoIiwiaGVpZ2h0Iiwic2V0U3ByaXRlIiwiZGlyZWN0aW9uIiwiaXNNb3ZpbmciLCJib29zdGVkIiwicG93ZXJVcEFjdGl2ZSIsInN0aWNreUFjdGl2ZSIsInNldFRleHR1cmUiLCJhbmltcyIsImFuaW1LZXkiLCJzZXRGcmFtZSIsIkdhbWVTY2VuZSIsInNwcml0ZXNoZWV0IiwiZnJhbWVXaWR0aCIsImZyYW1lSGVpZ2h0IiwiaW5pdCIsInBsYXllcnMiLCJNYXAiLCJpbnB1dHNNYXBwaW5nIiwiaXNQYXVzZWQiLCJlc2NXYXNEb3duIiwibW92aW5nIiwic3BpbGxHcm91cCIsInNwaWxsU3Bhd25UaW1lciIsInRyYXNoR3JvdXAiLCJ0cmFzaFNwYXduVGltZXIiLCJpbnZlcnRHcm91cCIsInN0aWNreVNwYXduVGltZXIiLCJwbGF5ZXIxIiwicGxheWVyMiIsInN0aWNreUdyb3VwIiwicG93ZXJVcFRpbWVycyIsImludmVydENvbnRyb2xzIiwicG93ZXJVcEdyb3VwIiwiY3JlYXRlQW5pbWF0aW9ucyIsInNjb3JlUXVva2EiLCJmaXhlZFdpZHRoIiwiYWxpZ24iLCJzY29yZU5hcnZhbCIsImNyZWF0ZUJvdW5kcyIsInNldFVwUExheWVycyIsImVzY0tleSIsImlucHV0Iiwia2V5Ym9hcmQiLCJhZGRLZXkiLCJLZXlib2FyZCIsIktleUNvZGVzIiwiRVNDIiwidGltZUxlZnQiLCJ0aW1lclRleHQiLCJ0aW1lckV2ZW50IiwidGltZSIsImFkZEV2ZW50IiwiZGVsYXkiLCJ1cGRhdGVUaW1lciIsImNhbGxiYWNrU2NvcGUiLCJncm91cCIsInNwYXduU3RpY2t5Iiwic3Bhd25UcmFzaCIsInRyeVNwYXduUG93ZXJVcCIsInNwYXduU3BpbGwiLCJ0cnlTcGF3bkludmVydGVkIiwic2VhZ3VsbFNvdW5kVGltZXIiLCJ0cnlQbGF5U291bmQiLCJzZnhWb2wiLCJnZXRTZnhWb2x1bWUiLCJyZWNvZ2VyQmFzdXJhIiwicGxldWdoMSIsInBsZXVnaDIiLCJwb3dlclVwU291bmQiLCJ0aWVtcG9NdWVydG8iLCJnYXZpb3RhIiwic291bmRzIiwiaW5jbHVkZXMiLCJvbkNvbm5lY3Rpb25Mb3N0IiwicGF1c2UiLCJsYXVuY2giLCJyZW1vdmUiLCJlbmRHYW1lIiwiZnJhbWVzIiwiZ2VuZXJhdGVGcmFtZU51bWJlcnMiLCJlbmQiLCJmcmFtZVJhdGUiLCJyZXBlYXQiLCJxdW9ra2EiLCJuYXJ2YWwiLCJzZXQiLCJwbGF5ZXJJZCIsInVwS2V5IiwiZG93bktleSIsImxlZnRLZXkiLCJyaWdodEtleSIsIm1hcCIsImNvbmZpZyIsInVwS2V5T2JqIiwiZG93bktleU9iaiIsImxlZnRLZXlPYmoiLCJyaWdodEtleU9iaiIsIkJldHdlZW4iLCJvdmVybGFwVmFyIiwiZ3J1cG8iLCJnZXRDaGlsZHJlbiIsInNvbWUiLCJjaGlsZCIsImFicyIsImFudGlPdmVybGFwIiwieDEiLCJ5MSIsIngyIiwieTIiLCJwMSIsInAyIiwiaXRlcmF0aW9uIiwib3ZlcmxhcFRyYXNoIiwib3ZlcmxhcFBvd2VyVXAiLCJvdmVybGFwU3RpY2t5Iiwib3ZlcmxhcFNwaWxsIiwib3ZlcmxhcE5hcnZhbCIsIm92ZXJsYXBRdW9ra2EiLCJ0cnlTcGF3biIsImNoYW5jZSIsImVmZmVjdEFjdGl2ZSIsInRhcmdldCIsInRyeVNwYXduU3RpY2t5Iiwic3Bhd25Qb3dlclVwIiwic3Bhd25JbnZlcnRlZCIsInNwYXduIiwidGFyZ2V0UGxheWVyIiwieDExIiwieTExIiwieDIxIiwieTIxIiwieDEyIiwieTEyIiwieDIyIiwieTIyIiwia2V5MSIsImtleTIiLCJzcHJpdGVTaXplIiwib2JqZWN0R3JvdXAiLCJ0aWVtcG9FblBhbnRhbGxhIiwib2JqZWN0IiwiZGVsYXllZENhbGwiLCJhY3RpdmUiLCJzdGlja3kiLCJvdmVybGFwIiwidGhyb3dTdGlja3kiLCJ0cmFzaCIsImNvbGxlY3QiLCJzcGlsbCIsInBvd2VyVXAiLCJwaWNrUG93ZXJVcCIsImludmVydGVkIiwicGlja0ludmVydGVkQ29udHJvbHMiLCJwbGF5ZXJOdW1iZXIiLCJwbGF5ZXIiLCJ0YXJnZXRJZCIsIm11bHRpcGxpZXIiLCJRdW9rYUdvYWwiLCJzZXRJbW1vdmFibGUiLCJzZXRWaXNpYmxlIiwiTmFydmFsR29hbCIsImdldFdpbm5lciIsIndpbm5lcklEIiwic2V0VmVsb2NpdHkiLCJjbGVhciIsInNldFBhdXNlU3RhdGUiLCJpc1BsYXlpbmciLCJvcmlnaW5hbFNjZW5lIiwidG9nZ2xlUGF1c2UiLCJuZXdQYXVzZWRTdGF0ZSIsInJlc3VtZSIsImlzRG93biIsIm1hcHBpbmciLCJjdXJyZW50RGlyZWN0aW9uIiwic2V0VmVsb2NpdHlZIiwic2V0VmVsb2NpdHlYIiwiUGF1c2VTY2VuZSIsInJlY3RhbmdsZSIsIkNyZWRpdG9zIiwiQWp1c3RlcyIsImJyaWdodG5lc3NQbHVnaW4iLCJ0cmFja1giLCJ0cmFja1dpZHRoIiwiYnJpbGxvVHJhY2siLCJjdXJyZW50QnIiLCJDbGFtcCIsImdldEJyaWdodG5lc3MiLCJoYW5kbGVCclgiLCJicmlsbG9IYW5kbGUiLCJkcmFnZ2FibGUiLCJ2b2x1bWVuVHJhY2siLCJjdXJyZW50Vm9sIiwiaGFuZGxlVm9sWCIsInZvbHVtZW5IYW5kbGUiLCJzZnhUcmFjayIsImN1cnJlbnRTZngiLCJoYW5kbGVTZnhYIiwic2Z4SGFuZGxlIiwic2V0RHJhZ2dhYmxlIiwicG9pbnRlciIsImRyYWdYIiwidCIsInNldEJyaWdodG5lc3MiLCJzZXRNdXNpY1ZvbHVtZSIsInNldFNmeFZvbHVtZSIsInRlc3QiLCJHYW1lT3ZlclNjZW5lIiwiYmFrY2dyb3VuZFdpbm5lciIsIndpbm5lclRleHQiLCJ3aW5uZXIiLCJDb250cm9sZXMiLCJtb3N0cmFuZG9Db250cm9sZXMiLCJjb250cm9sZXNDb250YWluZXIiLCJjb250YWluZXIiLCJib3RvbkNhbWJpYXIiLCJleHBsaWNhY2lvbkNvbnRhaW5lciIsIndvcmRXcmFwIiwiQ29ubmVjdGlvbkxvc3RTY2VuZSIsInJlY29ubmVjdENoZWNrSW50ZXJ2YWwiLCJmb250U3R5bGUiLCJzdGF0dXNUZXh0IiwiYXR0ZW1wdENvdW50IiwiYXR0ZW1wdFRleHQiLCJkb3RDb3VudCIsImRvdHMiLCJvblJlY29ubmVjdGVkIiwiYXR0ZW1wdFJlY29ubmVjdCIsIk11bHRpcGxheWVyR2FtZVNjZW5lIiwid3MiLCJwbGF5ZXJSb2xlIiwicm9vbUlkIiwiZ2FtZUVuZGVkIiwibG9jYWxKdWdhZG9yIiwicmVtb3RlSnVnYWRvciIsImxvY2FsU2NvcmUiLCJyZW1vdGVTY29yZSIsImVuZEF0Iiwicm9sZVRleHQiLCJzZXRVcFBsYXllcnMiLCJzdGlja3lHZW5lcmF0aW9uVGltZXIiLCJzZXR1cFdlYlNvY2tldExpc3RlbmVycyIsImN1cnNvcnMiLCJjcmVhdGVDdXJzb3JLZXlzIiwib25tZXNzYWdlIiwiZXZlbnQiLCJwYXJzZSIsImhhbmRsZVNlcnZlck1lc3NhZ2UiLCJvbmNsb3NlIiwibG9nIiwib25lcnJvciIsInR5cGUiLCJ1bmRlZmluZWQiLCJwbGF5ZXIxU2NvcmUiLCJwbGF5ZXIyU2NvcmUiLCJwb3dlclVwUGxheWVySWQiLCJzdGlja3lQbGF5ZXJJZCIsImNyZWF0ZVN5bmNlZE9iamVjdHMiLCJkZWxldGVPYmplY3RCeUlkIiwib2JqZWN0VHlwZSIsImR1cmF0aW9uIiwib2JqZWN0SWQiLCJzaXplIiwiYWRkQ29sbGlzaW9uc0Zvck9iamVjdCIsImZpbmQiLCJzZW5kT2JqZWN0c1RvU2VydmVyIiwic2VuZCIsInNlbmRNZXNzYWdlIiwiZGVsdGEiLCJzZXREZXB0aCIsImNyZWF0ZU1lbnVCdXR0b24iLCJtZW51QnRuIiwicmVhZHlTdGF0ZSIsIldlYlNvY2tldCIsIk9QRU4iLCJjbG9zZSIsInJlbWFpbmluZyIsIm1heCIsImNlaWwiLCJ1cCIsImRvd24iLCJsZWZ0IiwicmlnaHQiLCJsYXN0SXNNb3ZpbmciLCJzZW5kUGxheWVyUG9zaXRpb24iLCJteVBsYXllcklkIiwibWVzc2FnZSIsIkxvYmJ5U2NlbmUiLCJTY2VuZSIsImNhbWVyYXMiLCJtYWluIiwicGxheWVyQ291bnRUZXh0IiwibGVhdmVRdWV1ZSIsImNvbm5lY3RUb1NlcnZlciIsIndzVXJsIiwid2luZG93IiwibG9jYXRpb24iLCJob3N0Iiwib25vcGVuIiwicG9zaXRpb24iLCJyb2xlIiwiTG9jYWxvT25saW5lU2VsZWNjaW9uIiwiYXN5bmMiLCJyZXMiLCJnYW1lc1BsYXllZCIsImUiLCJMb2dpbiIsIm5pY2tuYW1lIiwibmlja25hbWVJbnB1dCIsInZhbHVlIiwidHJpbSIsInN0YXRzUmVzIiwic3RhdHMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJwbGFjZWhvbGRlciIsIm1heExlbmd0aCIsInN0eWxlIiwidG9wIiwidHJhbnNmb3JtIiwicGFkZGluZyIsImFwcGVuZENoaWxkIiwiU3RhcnRTY3JlZW4iLCJvbmNlIiwiZW5hYmxlZCIsIkdsb2JhbFNldHRpbmdQbHVnaW4iLCJQbHVnaW5zIiwiQmFzZVBsdWdpbiIsInBsdWdpbk1hbmFnZXIiLCJtdXNpY1ZvbHVtZSIsInNmeFZvbHVtZSIsIkJyaWdodG5lc3NQbHVnaW4iLCJicmlnaHRuZXNzIiwib3ZlcmxheSIsImJyaWdodG5lc3NPdmVybGF5IiwiYnIiLCJzZXRGaWxsU3R5bGUiLCJzZXRCbGVuZE1vZGUiLCJCbGVuZE1vZGVzIiwiTVVMVElQTFkiLCJhbHBoYSIsIkFERCIsInBhcmVudCIsImRlZmF1bHQiLCJhcmNhZGUiLCJncmF2aXR5IiwiZGVidWciLCJnbG9iYWwiLCJwbHVnaW4iLCJiYWNrZ3JvdW5kQ29sb3IiXSwic291cmNlUm9vdCI6IiJ9